(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function Zw(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Lm={exports:{}},ec={};var cx;function eT(){if(cx)return ec;cx=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,l,c){var h=null;if(c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:i,key:h,ref:l!==void 0?l:null,props:c}}return ec.Fragment=e,ec.jsx=n,ec.jsxs=n,ec}var ux;function tT(){return ux||(ux=1,Lm.exports=eT()),Lm.exports}var u=tT(),Pm={exports:{}},ke={};var dx;function nT(){if(dx)return ke;dx=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),S=Symbol.iterator;function R(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,q={};function ne(k,Y,ue){this.props=k,this.context=Y,this.refs=q,this.updater=ue||P}ne.prototype.isReactComponent={},ne.prototype.setState=function(k,Y){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Y,"setState")},ne.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function le(){}le.prototype=ne.prototype;function Z(k,Y,ue){this.props=k,this.context=Y,this.refs=q,this.updater=ue||P}var re=Z.prototype=new le;re.constructor=Z,G(re,ne.prototype),re.isPureReactComponent=!0;var ie=Array.isArray;function oe(){}var A={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function C(k,Y,ue){var me=ue.ref;return{$$typeof:s,type:k,key:Y,ref:me!==void 0?me:null,props:ue}}function M(k,Y){return C(k.type,Y,k.props)}function j(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function B(k){var Y={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ue){return Y[ue]})}var D=/\/+/g;function ze(k,Y){return typeof k=="object"&&k!==null&&k.key!=null?B(""+k.key):Y.toString(36)}function ct(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(oe,oe):(k.status="pending",k.then(function(Y){k.status==="pending"&&(k.status="fulfilled",k.value=Y)},function(Y){k.status==="pending"&&(k.status="rejected",k.reason=Y)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function X(k,Y,ue,me,Ae){var Te=typeof k;(Te==="undefined"||Te==="boolean")&&(k=null);var Le=!1;if(k===null)Le=!0;else switch(Te){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(k.$$typeof){case s:case e:Le=!0;break;case _:return Le=k._init,X(Le(k._payload),Y,ue,me,Ae)}}if(Le)return Ae=Ae(k),Le=me===""?"."+ze(k,0):me,ie(Ae)?(ue="",Le!=null&&(ue=Le.replace(D,"$&/")+"/"),X(Ae,Y,ue,"",function(Ue){return Ue})):Ae!=null&&(j(Ae)&&(Ae=M(Ae,ue+(Ae.key==null||k&&k.key===Ae.key?"":(""+Ae.key).replace(D,"$&/")+"/")+Le)),Y.push(Ae)),1;Le=0;var at=me===""?".":me+":";if(ie(k))for(var Ge=0;Ge<k.length;Ge++)me=k[Ge],Te=at+ze(me,Ge),Le+=X(me,Y,ue,Te,Ae);else if(Ge=R(k),typeof Ge=="function")for(k=Ge.call(k),Ge=0;!(me=k.next()).done;)me=me.value,Te=at+ze(me,Ge++),Le+=X(me,Y,ue,Te,Ae);else if(Te==="object"){if(typeof k.then=="function")return X(ct(k),Y,ue,me,Ae);throw Y=String(k),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ce(k,Y,ue){if(k==null)return k;var me=[],Ae=0;return X(k,me,"","",function(Te){return Y.call(ue,Te,Ae++)}),me}function xe(k){if(k._status===-1){var Y=k._result;Y=Y(),Y.then(function(ue){(k._status===0||k._status===-1)&&(k._status=1,k._result=ue)},function(ue){(k._status===0||k._status===-1)&&(k._status=2,k._result=ue)}),k._status===-1&&(k._status=0,k._result=Y)}if(k._status===1)return k._result.default;throw k._result}var he=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},we={map:ce,forEach:function(k,Y,ue){ce(k,function(){Y.apply(this,arguments)},ue)},count:function(k){var Y=0;return ce(k,function(){Y++}),Y},toArray:function(k){return ce(k,function(Y){return Y})||[]},only:function(k){if(!j(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return ke.Activity=E,ke.Children=we,ke.Component=ne,ke.Fragment=n,ke.Profiler=l,ke.PureComponent=Z,ke.StrictMode=i,ke.Suspense=g,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,ke.__COMPILER_RUNTIME={__proto__:null,c:function(k){return A.H.useMemoCache(k)}},ke.cache=function(k){return function(){return k.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(k,Y,ue){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var me=G({},k.props),Ae=k.key;if(Y!=null)for(Te in Y.key!==void 0&&(Ae=""+Y.key),Y)!N.call(Y,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&Y.ref===void 0||(me[Te]=Y[Te]);var Te=arguments.length-2;if(Te===1)me.children=ue;else if(1<Te){for(var Le=Array(Te),at=0;at<Te;at++)Le[at]=arguments[at+2];me.children=Le}return C(k.type,Ae,me)},ke.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},ke.createElement=function(k,Y,ue){var me,Ae={},Te=null;if(Y!=null)for(me in Y.key!==void 0&&(Te=""+Y.key),Y)N.call(Y,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ae[me]=Y[me]);var Le=arguments.length-2;if(Le===1)Ae.children=ue;else if(1<Le){for(var at=Array(Le),Ge=0;Ge<Le;Ge++)at[Ge]=arguments[Ge+2];Ae.children=at}if(k&&k.defaultProps)for(me in Le=k.defaultProps,Le)Ae[me]===void 0&&(Ae[me]=Le[me]);return C(k,Te,Ae)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(k){return{$$typeof:p,render:k}},ke.isValidElement=j,ke.lazy=function(k){return{$$typeof:_,_payload:{_status:-1,_result:k},_init:xe}},ke.memo=function(k,Y){return{$$typeof:y,type:k,compare:Y===void 0?null:Y}},ke.startTransition=function(k){var Y=A.T,ue={};A.T=ue;try{var me=k(),Ae=A.S;Ae!==null&&Ae(ue,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(oe,he)}catch(Te){he(Te)}finally{Y!==null&&ue.types!==null&&(Y.types=ue.types),A.T=Y}},ke.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},ke.use=function(k){return A.H.use(k)},ke.useActionState=function(k,Y,ue){return A.H.useActionState(k,Y,ue)},ke.useCallback=function(k,Y){return A.H.useCallback(k,Y)},ke.useContext=function(k){return A.H.useContext(k)},ke.useDebugValue=function(){},ke.useDeferredValue=function(k,Y){return A.H.useDeferredValue(k,Y)},ke.useEffect=function(k,Y){return A.H.useEffect(k,Y)},ke.useEffectEvent=function(k){return A.H.useEffectEvent(k)},ke.useId=function(){return A.H.useId()},ke.useImperativeHandle=function(k,Y,ue){return A.H.useImperativeHandle(k,Y,ue)},ke.useInsertionEffect=function(k,Y){return A.H.useInsertionEffect(k,Y)},ke.useLayoutEffect=function(k,Y){return A.H.useLayoutEffect(k,Y)},ke.useMemo=function(k,Y){return A.H.useMemo(k,Y)},ke.useOptimistic=function(k,Y){return A.H.useOptimistic(k,Y)},ke.useReducer=function(k,Y,ue){return A.H.useReducer(k,Y,ue)},ke.useRef=function(k){return A.H.useRef(k)},ke.useState=function(k){return A.H.useState(k)},ke.useSyncExternalStore=function(k,Y,ue){return A.H.useSyncExternalStore(k,Y,ue)},ke.useTransition=function(){return A.H.useTransition()},ke.version="19.2.3",ke}var hx;function Fp(){return hx||(hx=1,Pm.exports=nT()),Pm.exports}var O=Fp();const xn=Zw(O);var zm={exports:{}},tc={},Um={exports:{}},Fm={};var fx;function sT(){return fx||(fx=1,(function(s){function e(X,ce){var xe=X.length;X.push(ce);e:for(;0<xe;){var he=xe-1>>>1,we=X[he];if(0<l(we,ce))X[he]=ce,X[xe]=we,xe=he;else break e}}function n(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var ce=X[0],xe=X.pop();if(xe!==ce){X[0]=xe;e:for(var he=0,we=X.length,k=we>>>1;he<k;){var Y=2*(he+1)-1,ue=X[Y],me=Y+1,Ae=X[me];if(0>l(ue,xe))me<we&&0>l(Ae,ue)?(X[he]=Ae,X[me]=xe,he=me):(X[he]=ue,X[Y]=xe,he=Y);else if(me<we&&0>l(Ae,xe))X[he]=Ae,X[me]=xe,he=me;else break e}}return ce}function l(X,ce){var xe=X.sortIndex-ce.sortIndex;return xe!==0?xe:X.id-ce.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var g=[],y=[],_=1,E=null,S=3,R=!1,P=!1,G=!1,q=!1,ne=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function re(X){for(var ce=n(y);ce!==null;){if(ce.callback===null)i(y);else if(ce.startTime<=X)i(y),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=n(y)}}function ie(X){if(G=!1,re(X),!P)if(n(g)!==null)P=!0,oe||(oe=!0,B());else{var ce=n(y);ce!==null&&ct(ie,ce.startTime-X)}}var oe=!1,A=-1,N=5,C=-1;function M(){return q?!0:!(s.unstable_now()-C<N)}function j(){if(q=!1,oe){var X=s.unstable_now();C=X;var ce=!0;try{e:{P=!1,G&&(G=!1,le(A),A=-1),R=!0;var xe=S;try{t:{for(re(X),E=n(g);E!==null&&!(E.expirationTime>X&&M());){var he=E.callback;if(typeof he=="function"){E.callback=null,S=E.priorityLevel;var we=he(E.expirationTime<=X);if(X=s.unstable_now(),typeof we=="function"){E.callback=we,re(X),ce=!0;break t}E===n(g)&&i(g),re(X)}else i(g);E=n(g)}if(E!==null)ce=!0;else{var k=n(y);k!==null&&ct(ie,k.startTime-X),ce=!1}}break e}finally{E=null,S=xe,R=!1}ce=void 0}}finally{ce?B():oe=!1}}}var B;if(typeof Z=="function")B=function(){Z(j)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ze=D.port2;D.port1.onmessage=j,B=function(){ze.postMessage(null)}}else B=function(){ne(j,0)};function ct(X,ce){A=ne(function(){X(s.unstable_now())},ce)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(X){X.callback=null},s.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<X?Math.floor(1e3/X):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(X){switch(S){case 1:case 2:case 3:var ce=3;break;default:ce=S}var xe=S;S=ce;try{return X()}finally{S=xe}},s.unstable_requestPaint=function(){q=!0},s.unstable_runWithPriority=function(X,ce){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var xe=S;S=X;try{return ce()}finally{S=xe}},s.unstable_scheduleCallback=function(X,ce,xe){var he=s.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?he+xe:he):xe=he,X){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=xe+we,X={id:_++,callback:ce,priorityLevel:X,startTime:xe,expirationTime:we,sortIndex:-1},xe>he?(X.sortIndex=xe,e(y,X),n(g)===null&&X===n(y)&&(G?(le(A),A=-1):G=!0,ct(ie,xe-he))):(X.sortIndex=we,e(g,X),P||R||(P=!0,oe||(oe=!0,B()))),X},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(X){var ce=S;return function(){var xe=S;S=ce;try{return X.apply(this,arguments)}finally{S=xe}}}})(Fm)),Fm}var mx;function rT(){return mx||(mx=1,Um.exports=sT()),Um.exports}var qm={exports:{}},Nn={};var px;function iT(){if(px)return Nn;px=1;var s=Fp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,y,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:g,containerInfo:y,implementation:_}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Nn.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,_)},Nn.flushSync=function(g){var y=h.T,_=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=y,i.p=_,i.d.f()}},Nn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},Nn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Nn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,E=p(_,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,R=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:R}):_==="script"&&i.d.X(g,{crossOrigin:E,integrity:S,fetchPriority:R,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Nn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=p(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},Nn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,E=p(_,y.crossOrigin);i.d.L(g,_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Nn.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=p(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},Nn.requestFormReset=function(g){i.d.r(g)},Nn.unstable_batchedUpdates=function(g,y){return g(y)},Nn.useFormState=function(g,y,_){return h.H.useFormState(g,y,_)},Nn.useFormStatus=function(){return h.H.useHostTransitionStatus()},Nn.version="19.2.3",Nn}var gx;function h1(){if(gx)return qm.exports;gx=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),qm.exports=iT(),qm.exports}var yx;function aT(){if(yx)return tc;yx=1;var s=rT(),e=Fp(),n=h1();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(i(188))}function y(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(i(188));return r!==t?null:t}for(var a=t,o=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return g(f),t;if(m===o)return g(f),r;m=m.sibling}throw Error(i(188))}if(a.return!==o.return)a=f,o=m;else{for(var x=!1,w=f.child;w;){if(w===a){x=!0,a=f,o=m;break}if(w===o){x=!0,o=f,a=m;break}w=w.sibling}if(!x){for(w=m.child;w;){if(w===a){x=!0,a=m,o=f;break}if(w===o){x=!0,o=m,a=f;break}w=w.sibling}if(!x)throw Error(i(189))}}if(a.alternate!==o)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:r}function _(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=_(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),le=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function ze(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case ne:return"Profiler";case q:return"StrictMode";case ie:return"Suspense";case oe:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case Z:return t.displayName||"Context";case le:return(t._context.displayName||"Context")+".Consumer";case re:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A:return r=t.displayName||null,r!==null?r:ze(t.type)||"Memo";case N:r=t._payload,t=t._init;try{return ze(t(r))}catch{}}return null}var ct=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},he=[],we=-1;function k(t){return{current:t}}function Y(t){0>we||(t.current=he[we],he[we]=null,we--)}function ue(t,r){we++,he[we]=t.current,t.current=r}var me=k(null),Ae=k(null),Te=k(null),Le=k(null);function at(t,r){switch(ue(Te,r),ue(Ae,t),ue(me,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Iv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Iv(r),t=kv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(me),ue(me,t)}function Ge(){Y(me),Y(Ae),Y(Te)}function Ue(t){t.memoizedState!==null&&ue(Le,t);var r=me.current,a=kv(r,t.type);r!==a&&(ue(Ae,t),ue(me,a))}function zn(t){Ae.current===t&&(Y(me),Y(Ae)),Le.current===t&&(Y(Le),Xo._currentValue=xe)}var Jt,kn;function Rt(t){if(Jt===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Jt=r&&r[1]||"",kn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jt+t+kn}var Un=!1;function En(t,r){if(!t||Un)return"";Un=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch($){var H=$}Reflect.construct(t,[],ee)}else{try{ee.call()}catch($){H=$}t.call(ee.prototype)}}else{try{throw Error()}catch($){H=$}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch($){if($&&H&&typeof $.stack=="string")return[$.stack,H.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),x=m[0],w=m[1];if(x&&w){var I=x.split(`
`),F=w.split(`
`);for(f=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(o===I.length||f===F.length)for(o=I.length-1,f=F.length-1;1<=o&&0<=f&&I[o]!==F[f];)f--;for(;1<=o&&0<=f;o--,f--)if(I[o]!==F[f]){if(o!==1||f!==1)do if(o--,f--,0>f||I[o]!==F[f]){var W=`
`+I[o].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=o&&0<=f);break}}}finally{Un=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Rt(a):""}function zs(t,r){switch(t.tag){case 26:case 27:case 5:return Rt(t.type);case 16:return Rt("Lazy");case 13:return t.child!==r&&r!==null?Rt("Suspense Fallback"):Rt("Suspense");case 19:return Rt("SuspenseList");case 0:case 15:return En(t.type,!1);case 11:return En(t.type.render,!1);case 1:return En(t.type,!0);case 31:return Rt("Activity");default:return""}}function Us(t){try{var r="",a=null;do r+=zs(t,a),a=t,t=t.return;while(t);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var bt=Object.prototype.hasOwnProperty,lt=s.unstable_scheduleCallback,Mn=s.unstable_cancelCallback,Fs=s.unstable_shouldYield,_r=s.unstable_requestPaint,Ut=s.unstable_now,As=s.unstable_getCurrentPriorityLevel,qs=s.unstable_ImmediatePriority,K=s.unstable_UserBlockingPriority,se=s.unstable_NormalPriority,ye=s.unstable_LowPriority,pe=s.unstable_IdlePriority,de=s.log,Se=s.unstable_setDisableYieldValue,st=null,ut=null;function jt(t){if(typeof de=="function"&&Se(t),ut&&typeof ut.setStrictMode=="function")try{ut.setStrictMode(st,t)}catch{}}var et=Math.clz32?Math.clz32:Xr,Fn=Math.log,Hs=Math.LN2;function Xr(t){return t>>>=0,t===0?32:31-(Fn(t)/Hs|0)|0}var hs=256,Er=262144,Fe=4194304;function Tt(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function St(t,r,a){var o=t.pendingLanes;if(o===0)return 0;var f=0,m=t.suspendedLanes,x=t.pingedLanes;t=t.warmLanes;var w=o&134217727;return w!==0?(o=w&~m,o!==0?f=Tt(o):(x&=w,x!==0?f=Tt(x):a||(a=w&~t,a!==0&&(f=Tt(a))))):(w=o&~m,w!==0?f=Tt(w):x!==0?f=Tt(x):a||(a=o&~t,a!==0&&(f=Tt(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function Ft(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function wn(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function an(){var t=Fe;return Fe<<=1,(Fe&62914560)===0&&(Fe=4194304),t}function Mt(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function qn(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ot(t,r,a,o,f,m){var x=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,I=t.expirationTimes,F=t.hiddenUpdates;for(a=x&~a;0<a;){var W=31-et(a),ee=1<<W;w[W]=0,I[W]=-1;var H=F[W];if(H!==null)for(F[W]=null,W=0;W<H.length;W++){var $=H[W];$!==null&&($.lane&=-536870913)}a&=~ee}o!==0&&Tn(t,o,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(x&~r))}function Tn(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-et(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Sn(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var o=31-et(a),f=1<<o;f&r|t[o]&r&&(t[o]|=r),a&=~f}}function On(t,r){var a=r&-r;return a=(a&42)!==0?1:es(a),(a&(t.suspendedLanes|r))!==0?0:a}function es(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ts(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:nx(t.type))}function hn(t,r){var a=ce.p;try{return ce.p=t,r()}finally{ce.p=a}}var Bn=Math.random().toString(36).slice(2),qt="__reactFiber$"+Bn,ln="__reactProps$"+Bn,Gs="__reactContainer$"+Bn,La="__reactEvents$"+Bn,qh="__reactListeners$"+Bn,Wc="__reactHandles$"+Bn,Jc="__reactResources$"+Bn,Qs="__reactMarker$"+Bn;function Pa(t){delete t[qt],delete t[ln],delete t[La],delete t[qh],delete t[Wc]}function $s(t){var r=t[qt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Gs]||a[qt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=zv(t);t!==null;){if(a=t[qt])return a;t=zv(t)}return r}t=a,a=t.parentNode}return null}function fs(t){if(t=t[qt]||t[Gs]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function ns(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function Ys(t){var r=t[Jc];return r||(r=t[Jc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ht(t){t[Qs]=!0}var no=new Set,so={};function Ks(t,r){Xs(t,r),Xs(t+"Capture",r)}function Xs(t,r){for(so[t]=r,t=0;t<r.length;t++)no.add(r[t])}var ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),io={},ao={};function Zc(t){return bt.call(ao,t)?!0:bt.call(io,t)?!1:ro.test(t)?ao[t]=!0:(io[t]=!0,!1)}function za(t,r,a){if(Zc(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function ss(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Gt(t,r,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+o)}}function on(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Wr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function lo(t,r,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(x){a=""+x,m.call(this,x)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function dt(t){if(!t._valueTracker){var r=Wr(t)?"checked":"value";t._valueTracker=lo(t,r,""+t[r])}}function ta(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),o="";return t&&(o=Wr(t)?t.checked?"true":"false":t.value),t=o,t!==a?(r.setValue(t),!0):!1}function Ws(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var na=/[\n"\\]/g;function Hn(t){return t.replace(na,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ua(t,r,a,o,f,m,x,w){t.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.type=x:t.removeAttribute("type"),r!=null?x==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+on(r)):t.value!==""+on(r)&&(t.value=""+on(r)):x!=="submit"&&x!=="reset"||t.removeAttribute("value"),r!=null?oo(t,x,on(r)):a!=null?oo(t,x,on(a)):o!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+on(w):t.removeAttribute("name")}function eu(t,r,a,o,f,m,x,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){dt(t);return}a=a!=null?""+on(a):"",r=r!=null?""+on(r):a,w||r===t.value||(t.value=r),t.defaultValue=r}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=w?t.checked:!!o,t.defaultChecked=!!o,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.name=x),dt(t)}function oo(t,r,a){r==="number"&&Ws(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Jr(t,r,a,o){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&o&&(t[a].defaultSelected=!0)}else{for(a=""+on(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function tu(t,r,a){if(r!=null&&(r=""+on(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+on(a):""}function Zr(t,r,a,o){if(r==null){if(o!=null){if(a!=null)throw Error(i(92));if(ct(o)){if(1<o.length)throw Error(i(93));o=o[0]}a=o}a==null&&(a=""),r=a}a=on(r),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),dt(t)}function Gn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function co(t,r,a){var o=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,a):typeof a!="number"||a===0||nu.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function uo(t,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in r)o=r[f],r.hasOwnProperty(f)&&a[f]!==o&&co(t,f,o)}else for(var m in r)r.hasOwnProperty(m)&&co(t,m,r[m])}function Fa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ei=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qa(t){return ei.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Cs(){}var ho=null;function ms(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ti=null,Js=null;function sa(t){var r=fs(t);if(r&&(t=r.stateNode)){var a=t[ln]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ua(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Hn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var o=a[r];if(o!==t&&o.form===t.form){var f=o[ln]||null;if(!f)throw Error(i(90));Ua(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)o=a[r],o.form===t.form&&ta(o)}break e;case"textarea":tu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Jr(t,!!a.multiple,r,!1)}}}var Ha=!1;function ni(t,r,a){if(Ha)return t(r,a);Ha=!0;try{var o=t(r);return o}finally{if(Ha=!1,(ti!==null||Js!==null)&&(Xu(),ti&&(r=ti,t=Js,Js=ti=null,sa(r),t)))for(r=0;r<t.length;r++)sa(t[r])}}function Ds(t,r){var a=t.stateNode;if(a===null)return null;var o=a[ln]||null;if(o===null)return null;a=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=!1;if(ps)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){ra=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{ra=!1}var Zs=null,fo=null,ia=null;function mo(){if(ia)return ia;var t,r=fo,a=r.length,o,f="value"in Zs?Zs.value:Zs.textContent,m=f.length;for(t=0;t<a&&r[t]===f[t];t++);var x=a-t;for(o=1;o<=x&&r[a-o]===f[m-o];o++);return ia=f.slice(t,1<o?1-o:void 0)}function aa(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function wr(){return!0}function Rs(){return!1}function fn(t){function r(a,o,f,m,x){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?wr:Rs,this.isPropagationStopped=Rs,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=wr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=wr)},persist:function(){},isPersistent:wr}),r}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},er=fn(Tr),si=E({},Tr,{view:0,detail:0}),po=fn(si),ri,Ga,tr,Qa=E({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ii,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tr&&(tr&&t.type==="mousemove"?(ri=t.screenX-tr.screenX,Ga=t.screenY-tr.screenY):Ga=ri=0,tr=t),ri)},movementY:function(t){return"movementY"in t?t.movementY:Ga}}),go=fn(Qa),la=E({},Qa,{dataTransfer:0}),ru=fn(la),iu=E({},si,{relatedTarget:0}),oa=fn(iu),yo=E({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),au=fn(yo),$a=E({},Tr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lu=fn($a),ou=E({},Tr,{data:0}),nr=fn(ou),cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=du[t])?!!r[t]:!1}function ii(){return hu}var Ln=E({},si,{key:function(t){if(t.key){var r=cu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=aa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ii,charCode:function(t){return t.type==="keypress"?aa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?aa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fu=fn(Ln),mu=E({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sr=fn(mu),d=E({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ii}),v=fn(d),b=E({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=fn(b),z=E({},Qa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=fn(z),fe=E({},Tr,{newState:0,oldState:0}),Ve=fn(fe),Vt=[9,13,27,32],rt=ps&&"CompositionEvent"in window,Nt=null;ps&&"documentMode"in document&&(Nt=document.documentMode);var gs=ps&&"TextEvent"in window&&!Nt,sr=ps&&(!rt||Nt&&8<Nt&&11>=Nt),js=" ",Is=!1;function ca(t,r){switch(t){case"keyup":return Vt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ya(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ka=!1;function wE(t,r){switch(t){case"compositionend":return Ya(r);case"keypress":return r.which!==32?null:(Is=!0,js);case"textInput":return t=r.data,t===js&&Is?null:t;default:return null}}function TE(t,r){if(Ka)return t==="compositionend"||!rt&&ca(t,r)?(t=mo(),ia=fo=Zs=null,Ka=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return sr&&r.locale!=="ko"?null:r.data;default:return null}}var SE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!SE[t.type]:r==="textarea"}function Hg(t,r,a,o){ti?Js?Js.push(o):Js=[o]:ti=o,r=sd(r,"onChange"),0<r.length&&(a=new er("onChange","change",null,a,o),t.push({event:a,listeners:r}))}var vo=null,xo=null;function NE(t){Nv(t,0)}function pu(t){var r=ns(t);if(ta(r))return t}function Gg(t,r){if(t==="change")return r}var Qg=!1;if(ps){var Hh;if(ps){var Gh="oninput"in document;if(!Gh){var $g=document.createElement("div");$g.setAttribute("oninput","return;"),Gh=typeof $g.oninput=="function"}Hh=Gh}else Hh=!1;Qg=Hh&&(!document.documentMode||9<document.documentMode)}function Yg(){vo&&(vo.detachEvent("onpropertychange",Kg),xo=vo=null)}function Kg(t){if(t.propertyName==="value"&&pu(xo)){var r=[];Hg(r,xo,t,ms(t)),ni(NE,r)}}function AE(t,r,a){t==="focusin"?(Yg(),vo=r,xo=a,vo.attachEvent("onpropertychange",Kg)):t==="focusout"&&Yg()}function CE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pu(xo)}function DE(t,r){if(t==="click")return pu(r)}function RE(t,r){if(t==="input"||t==="change")return pu(r)}function jE(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var rs=typeof Object.is=="function"?Object.is:jE;function bo(t,r){if(rs(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),o=Object.keys(r);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!bt.call(r,f)||!rs(t[f],r[f]))return!1}return!0}function Xg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wg(t,r){var a=Xg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=r&&o>=r)return{node:a,offset:r-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Xg(a)}}function Jg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Jg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Zg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ws(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ws(t.document)}return r}function Qh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var IE=ps&&"documentMode"in document&&11>=document.documentMode,Xa=null,$h=null,_o=null,Yh=!1;function e0(t,r,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yh||Xa==null||Xa!==Ws(o)||(o=Xa,"selectionStart"in o&&Qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),_o&&bo(_o,o)||(_o=o,o=sd($h,"onSelect"),0<o.length&&(r=new er("onSelect","select",null,r,a),t.push({event:r,listeners:o}),r.target=Xa)))}function ua(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Wa={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},Kh={},t0={};ps&&(t0=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function da(t){if(Kh[t])return Kh[t];if(!Wa[t])return t;var r=Wa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in t0)return Kh[t]=r[a];return t}var n0=da("animationend"),s0=da("animationiteration"),r0=da("animationstart"),kE=da("transitionrun"),ME=da("transitionstart"),OE=da("transitioncancel"),i0=da("transitionend"),a0=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function ks(t,r){a0.set(t,r),Ks(r,[t])}var gu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ys=[],Ja=0,Wh=0;function yu(){for(var t=Ja,r=Wh=Ja=0;r<t;){var a=ys[r];ys[r++]=null;var o=ys[r];ys[r++]=null;var f=ys[r];ys[r++]=null;var m=ys[r];if(ys[r++]=null,o!==null&&f!==null){var x=o.pending;x===null?f.next=f:(f.next=x.next,x.next=f),o.pending=f}m!==0&&l0(a,f,m)}}function vu(t,r,a,o){ys[Ja++]=t,ys[Ja++]=r,ys[Ja++]=a,ys[Ja++]=o,Wh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Jh(t,r,a,o){return vu(t,r,a,o),xu(t)}function ha(t,r){return vu(t,null,null,r),xu(t)}function l0(t,r,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&r!==null&&(f=31-et(a),t=m.hiddenUpdates,o=t[f],o===null?t[f]=[r]:o.push(r),r.lane=a|536870912),m):null}function xu(t){if(50<qo)throw qo=0,om=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Za={};function VE(t,r,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function is(t,r,a,o){return new VE(t,r,a,o)}function Zh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Nr(t,r){var a=t.alternate;return a===null?(a=is(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function o0(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function bu(t,r,a,o,f,m){var x=0;if(o=t,typeof t=="function")Zh(t)&&(x=1);else if(typeof t=="string")x=Uw(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=is(31,a,r,f),t.elementType=C,t.lanes=m,t;case G:return fa(a.children,f,m,r);case q:x=8,f|=24;break;case ne:return t=is(12,a,r,f|2),t.elementType=ne,t.lanes=m,t;case ie:return t=is(13,a,r,f),t.elementType=ie,t.lanes=m,t;case oe:return t=is(19,a,r,f),t.elementType=oe,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z:x=10;break e;case le:x=9;break e;case re:x=11;break e;case A:x=14;break e;case N:x=16,o=null;break e}x=29,a=Error(i(130,t===null?"null":typeof t,"")),o=null}return r=is(x,a,r,f),r.elementType=t,r.type=o,r.lanes=m,r}function fa(t,r,a,o){return t=is(7,t,o,r),t.lanes=a,t}function ef(t,r,a){return t=is(6,t,null,r),t.lanes=a,t}function c0(t){var r=is(18,null,null,0);return r.stateNode=t,r}function tf(t,r,a){return r=is(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var u0=new WeakMap;function vs(t,r){if(typeof t=="object"&&t!==null){var a=u0.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Us(r)},u0.set(t,r),r)}return{value:t,source:r,stack:Us(r)}}var el=[],tl=0,_u=null,Eo=0,xs=[],bs=0,ai=null,rr=1,ir="";function Ar(t,r){el[tl++]=Eo,el[tl++]=_u,_u=t,Eo=r}function d0(t,r,a){xs[bs++]=rr,xs[bs++]=ir,xs[bs++]=ai,ai=t;var o=rr;t=ir;var f=32-et(o)-1;o&=~(1<<f),a+=1;var m=32-et(r)+f;if(30<m){var x=f-f%5;m=(o&(1<<x)-1).toString(32),o>>=x,f-=x,rr=1<<32-et(r)+f|a<<f|o,ir=m+t}else rr=1<<m|a<<f|o,ir=t}function nf(t){t.return!==null&&(Ar(t,1),d0(t,1,0))}function sf(t){for(;t===_u;)_u=el[--tl],el[tl]=null,Eo=el[--tl],el[tl]=null;for(;t===ai;)ai=xs[--bs],xs[bs]=null,ir=xs[--bs],xs[bs]=null,rr=xs[--bs],xs[bs]=null}function h0(t,r){xs[bs++]=rr,xs[bs++]=ir,xs[bs++]=ai,rr=r.id,ir=r.overflow,ai=t}var mn=null,_t=null,We=!1,li=null,_s=!1,rf=Error(i(519));function oi(t){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wo(vs(r,t)),rf}function f0(t){var r=t.stateNode,a=t.type,o=t.memoizedProps;switch(r[qt]=t,r[ln]=o,a){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(a=0;a<Go.length;a++)He(Go[a],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":He("invalid",r),eu(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":He("invalid",r);break;case"textarea":He("invalid",r),Zr(r,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||o.suppressHydrationWarning===!0||Rv(r.textContent,a)?(o.popover!=null&&(He("beforetoggle",r),He("toggle",r)),o.onScroll!=null&&He("scroll",r),o.onScrollEnd!=null&&He("scrollend",r),o.onClick!=null&&(r.onclick=Cs),r=!0):r=!1,r||oi(t,!0)}function m0(t){for(mn=t.return;mn;)switch(mn.tag){case 5:case 31:case 13:_s=!1;return;case 27:case 3:_s=!0;return;default:mn=mn.return}}function nl(t){if(t!==mn)return!1;if(!We)return m0(t),We=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||wm(t.type,t.memoizedProps)),a=!a),a&&_t&&oi(t),m0(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));_t=Pv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));_t=Pv(t)}else r===27?(r=_t,Ei(t.type)?(t=Cm,Cm=null,_t=t):_t=r):_t=mn?ws(t.stateNode.nextSibling):null;return!0}function ma(){_t=mn=null,We=!1}function af(){var t=li;return t!==null&&(Kn===null?Kn=t:Kn.push.apply(Kn,t),li=null),t}function wo(t){li===null?li=[t]:li.push(t)}var lf=k(null),pa=null,Cr=null;function ci(t,r,a){ue(lf,r._currentValue),r._currentValue=a}function Dr(t){t._currentValue=lf.current,Y(lf)}function of(t,r,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===a)break;t=t.return}}function cf(t,r,a,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var x=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var I=0;I<r.length;I++)if(w.context===r[I]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),of(m.return,a,t),o||(x=null);break e}m=w.next}}else if(f.tag===18){if(x=f.return,x===null)throw Error(i(341));x.lanes|=a,m=x.alternate,m!==null&&(m.lanes|=a),of(x,a,t),x=null}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===t){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}}function sl(t,r,a,o){t=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var x=f.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var w=f.type;rs(f.pendingProps.value,x.value)||(t!==null?t.push(w):t=[w])}}else if(f===Le.current){if(x=f.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Xo):t=[Xo])}f=f.return}t!==null&&cf(r,t,a,o),r.flags|=262144}function Eu(t){for(t=t.firstContext;t!==null;){if(!rs(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ga(t){pa=t,Cr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function pn(t){return p0(pa,t)}function wu(t,r){return pa===null&&ga(t),p0(t,r)}function p0(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Cr===null){if(t===null)throw Error(i(308));Cr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Cr=Cr.next=r;return a}var BE=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},LE=s.unstable_scheduleCallback,PE=s.unstable_NormalPriority,Qt={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new BE,data:new Map,refCount:0}}function To(t){t.refCount--,t.refCount===0&&LE(PE,function(){t.controller.abort()})}var So=null,df=0,rl=0,il=null;function zE(t,r){if(So===null){var a=So=[];df=0,rl=mm(),il={status:"pending",value:void 0,then:function(o){a.push(o)}}}return df++,r.then(g0,g0),r}function g0(){if(--df===0&&So!==null){il!==null&&(il.status="fulfilled");var t=So;So=null,rl=0,il=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function UE(t,r){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var y0=X.S;X.S=function(t,r){ev=Ut(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&zE(t,r),y0!==null&&y0(t,r)};var ya=k(null);function hf(){var t=ya.current;return t!==null?t:vt.pooledCache}function Tu(t,r){r===null?ue(ya,ya.current):ue(ya,r.pool)}function v0(){var t=hf();return t===null?null:{parent:Qt._currentValue,pool:t}}var al=Error(i(460)),ff=Error(i(474)),Su=Error(i(542)),Nu={then:function(){}};function x0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function b0(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Cs,Cs),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,E0(t),t;default:if(typeof r.status=="string")r.then(Cs,Cs);else{if(t=vt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=o}},function(o){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,E0(t),t}throw xa=r,al}}function va(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(xa=a,al):a}}var xa=null;function _0(){if(xa===null)throw Error(i(459));var t=xa;return xa=null,t}function E0(t){if(t===al||t===Su)throw Error(i(483))}var ll=null,No=0;function Au(t){var r=No;return No+=1,ll===null&&(ll=[]),b0(ll,t,r)}function Ao(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Cu(t,r){throw r.$$typeof===S?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function w0(t){function r(L,V){if(t){var U=L.deletions;U===null?(L.deletions=[V],L.flags|=16):U.push(V)}}function a(L,V){if(!t)return null;for(;V!==null;)r(L,V),V=V.sibling;return null}function o(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function f(L,V){return L=Nr(L,V),L.index=0,L.sibling=null,L}function m(L,V,U){return L.index=U,t?(U=L.alternate,U!==null?(U=U.index,U<V?(L.flags|=67108866,V):U):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function x(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function w(L,V,U,J){return V===null||V.tag!==6?(V=ef(U,L.mode,J),V.return=L,V):(V=f(V,U),V.return=L,V)}function I(L,V,U,J){var Ne=U.type;return Ne===G?W(L,V,U.props.children,J,U.key):V!==null&&(V.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===N&&va(Ne)===V.type)?(V=f(V,U.props),Ao(V,U),V.return=L,V):(V=bu(U.type,U.key,U.props,null,L.mode,J),Ao(V,U),V.return=L,V)}function F(L,V,U,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==U.containerInfo||V.stateNode.implementation!==U.implementation?(V=tf(U,L.mode,J),V.return=L,V):(V=f(V,U.children||[]),V.return=L,V)}function W(L,V,U,J,Ne){return V===null||V.tag!==7?(V=fa(U,L.mode,J,Ne),V.return=L,V):(V=f(V,U),V.return=L,V)}function ee(L,V,U){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=ef(""+V,L.mode,U),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case R:return U=bu(V.type,V.key,V.props,null,L.mode,U),Ao(U,V),U.return=L,U;case P:return V=tf(V,L.mode,U),V.return=L,V;case N:return V=va(V),ee(L,V,U)}if(ct(V)||B(V))return V=fa(V,L.mode,U,null),V.return=L,V;if(typeof V.then=="function")return ee(L,Au(V),U);if(V.$$typeof===Z)return ee(L,wu(L,V),U);Cu(L,V)}return null}function H(L,V,U,J){var Ne=V!==null?V.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return Ne!==null?null:w(L,V,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case R:return U.key===Ne?I(L,V,U,J):null;case P:return U.key===Ne?F(L,V,U,J):null;case N:return U=va(U),H(L,V,U,J)}if(ct(U)||B(U))return Ne!==null?null:W(L,V,U,J,null);if(typeof U.then=="function")return H(L,V,Au(U),J);if(U.$$typeof===Z)return H(L,V,wu(L,U),J);Cu(L,U)}return null}function $(L,V,U,J,Ne){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(U)||null,w(V,L,""+J,Ne);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case R:return L=L.get(J.key===null?U:J.key)||null,I(V,L,J,Ne);case P:return L=L.get(J.key===null?U:J.key)||null,F(V,L,J,Ne);case N:return J=va(J),$(L,V,U,J,Ne)}if(ct(J)||B(J))return L=L.get(U)||null,W(V,L,J,Ne,null);if(typeof J.then=="function")return $(L,V,U,Au(J),Ne);if(J.$$typeof===Z)return $(L,V,U,wu(V,J),Ne);Cu(V,J)}return null}function ve(L,V,U,J){for(var Ne=null,tt=null,be=V,Pe=V=0,$e=null;be!==null&&Pe<U.length;Pe++){be.index>Pe?($e=be,be=null):$e=be.sibling;var nt=H(L,be,U[Pe],J);if(nt===null){be===null&&(be=$e);break}t&&be&&nt.alternate===null&&r(L,be),V=m(nt,V,Pe),tt===null?Ne=nt:tt.sibling=nt,tt=nt,be=$e}if(Pe===U.length)return a(L,be),We&&Ar(L,Pe),Ne;if(be===null){for(;Pe<U.length;Pe++)be=ee(L,U[Pe],J),be!==null&&(V=m(be,V,Pe),tt===null?Ne=be:tt.sibling=be,tt=be);return We&&Ar(L,Pe),Ne}for(be=o(be);Pe<U.length;Pe++)$e=$(be,L,Pe,U[Pe],J),$e!==null&&(t&&$e.alternate!==null&&be.delete($e.key===null?Pe:$e.key),V=m($e,V,Pe),tt===null?Ne=$e:tt.sibling=$e,tt=$e);return t&&be.forEach(function(Ai){return r(L,Ai)}),We&&Ar(L,Pe),Ne}function De(L,V,U,J){if(U==null)throw Error(i(151));for(var Ne=null,tt=null,be=V,Pe=V=0,$e=null,nt=U.next();be!==null&&!nt.done;Pe++,nt=U.next()){be.index>Pe?($e=be,be=null):$e=be.sibling;var Ai=H(L,be,nt.value,J);if(Ai===null){be===null&&(be=$e);break}t&&be&&Ai.alternate===null&&r(L,be),V=m(Ai,V,Pe),tt===null?Ne=Ai:tt.sibling=Ai,tt=Ai,be=$e}if(nt.done)return a(L,be),We&&Ar(L,Pe),Ne;if(be===null){for(;!nt.done;Pe++,nt=U.next())nt=ee(L,nt.value,J),nt!==null&&(V=m(nt,V,Pe),tt===null?Ne=nt:tt.sibling=nt,tt=nt);return We&&Ar(L,Pe),Ne}for(be=o(be);!nt.done;Pe++,nt=U.next())nt=$(be,L,Pe,nt.value,J),nt!==null&&(t&&nt.alternate!==null&&be.delete(nt.key===null?Pe:nt.key),V=m(nt,V,Pe),tt===null?Ne=nt:tt.sibling=nt,tt=nt);return t&&be.forEach(function(Jw){return r(L,Jw)}),We&&Ar(L,Pe),Ne}function yt(L,V,U,J){if(typeof U=="object"&&U!==null&&U.type===G&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case R:e:{for(var Ne=U.key;V!==null;){if(V.key===Ne){if(Ne=U.type,Ne===G){if(V.tag===7){a(L,V.sibling),J=f(V,U.props.children),J.return=L,L=J;break e}}else if(V.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===N&&va(Ne)===V.type){a(L,V.sibling),J=f(V,U.props),Ao(J,U),J.return=L,L=J;break e}a(L,V);break}else r(L,V);V=V.sibling}U.type===G?(J=fa(U.props.children,L.mode,J,U.key),J.return=L,L=J):(J=bu(U.type,U.key,U.props,null,L.mode,J),Ao(J,U),J.return=L,L=J)}return x(L);case P:e:{for(Ne=U.key;V!==null;){if(V.key===Ne)if(V.tag===4&&V.stateNode.containerInfo===U.containerInfo&&V.stateNode.implementation===U.implementation){a(L,V.sibling),J=f(V,U.children||[]),J.return=L,L=J;break e}else{a(L,V);break}else r(L,V);V=V.sibling}J=tf(U,L.mode,J),J.return=L,L=J}return x(L);case N:return U=va(U),yt(L,V,U,J)}if(ct(U))return ve(L,V,U,J);if(B(U)){if(Ne=B(U),typeof Ne!="function")throw Error(i(150));return U=Ne.call(U),De(L,V,U,J)}if(typeof U.then=="function")return yt(L,V,Au(U),J);if(U.$$typeof===Z)return yt(L,V,wu(L,U),J);Cu(L,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,V!==null&&V.tag===6?(a(L,V.sibling),J=f(V,U),J.return=L,L=J):(a(L,V),J=ef(U,L.mode,J),J.return=L,L=J),x(L)):a(L,V)}return function(L,V,U,J){try{No=0;var Ne=yt(L,V,U,J);return ll=null,Ne}catch(be){if(be===al||be===Su)throw be;var tt=is(29,be,null,L.mode);return tt.lanes=J,tt.return=L,tt}}}var ba=w0(!0),T0=w0(!1),ui=!1;function mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function di(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function hi(t,r,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(it&2)!==0){var f=o.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),o.pending=r,r=xu(t),l0(t,null,a),r}return vu(t,o,r,a),xu(t)}function Co(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,Sn(t,a)}}function gf(t,r){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=x:m=m.next=x,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var yf=!1;function Do(){if(yf){var t=il;if(t!==null)throw t}}function Ro(t,r,a,o){yf=!1;var f=t.updateQueue;ui=!1;var m=f.firstBaseUpdate,x=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var I=w,F=I.next;I.next=null,x===null?m=F:x.next=F,x=I;var W=t.alternate;W!==null&&(W=W.updateQueue,w=W.lastBaseUpdate,w!==x&&(w===null?W.firstBaseUpdate=F:w.next=F,W.lastBaseUpdate=I))}if(m!==null){var ee=f.baseState;x=0,W=F=I=null,w=m;do{var H=w.lane&-536870913,$=H!==w.lane;if($?(Qe&H)===H:(o&H)===H){H!==0&&H===rl&&(yf=!0),W!==null&&(W=W.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ve=t,De=w;H=r;var yt=a;switch(De.tag){case 1:if(ve=De.payload,typeof ve=="function"){ee=ve.call(yt,ee,H);break e}ee=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=De.payload,H=typeof ve=="function"?ve.call(yt,ee,H):ve,H==null)break e;ee=E({},ee,H);break e;case 2:ui=!0}}H=w.callback,H!==null&&(t.flags|=64,$&&(t.flags|=8192),$=f.callbacks,$===null?f.callbacks=[H]:$.push(H))}else $={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},W===null?(F=W=$,I=ee):W=W.next=$,x|=H;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;$=w,w=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);W===null&&(I=ee),f.baseState=I,f.firstBaseUpdate=F,f.lastBaseUpdate=W,m===null&&(f.shared.lanes=0),yi|=x,t.lanes=x,t.memoizedState=ee}}function S0(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function N0(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)S0(a[t],r)}var ol=k(null),Du=k(0);function A0(t,r){t=Lr,ue(Du,t),ue(ol,r),Lr=t|r.baseLanes}function vf(){ue(Du,Lr),ue(ol,ol.current)}function xf(){Lr=Du.current,Y(ol),Y(Du)}var as=k(null),Es=null;function fi(t){var r=t.alternate;ue(Bt,Bt.current&1),ue(as,t),Es===null&&(r===null||ol.current!==null||r.memoizedState!==null)&&(Es=t)}function bf(t){ue(Bt,Bt.current),ue(as,t),Es===null&&(Es=t)}function C0(t){t.tag===22?(ue(Bt,Bt.current),ue(as,t),Es===null&&(Es=t)):mi()}function mi(){ue(Bt,Bt.current),ue(as,as.current)}function ls(t){Y(as),Es===t&&(Es=null),Y(Bt)}var Bt=k(0);function Ru(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Nm(a)||Am(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Rr=0,Be=null,pt=null,$t=null,ju=!1,cl=!1,_a=!1,Iu=0,jo=0,ul=null,FE=0;function It(){throw Error(i(321))}function _f(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!rs(t[a],r[a]))return!1;return!0}function Ef(t,r,a,o,f,m){return Rr=m,Be=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=t===null||t.memoizedState===null?dy:Bf,_a=!1,m=a(o,f),_a=!1,cl&&(m=R0(r,a,o,f)),D0(t),m}function D0(t){X.H=Mo;var r=pt!==null&&pt.next!==null;if(Rr=0,$t=pt=Be=null,ju=!1,jo=0,ul=null,r)throw Error(i(300));t===null||Yt||(t=t.dependencies,t!==null&&Eu(t)&&(Yt=!0))}function R0(t,r,a,o){Be=t;var f=0;do{if(cl&&(ul=null),jo=0,cl=!1,25<=f)throw Error(i(301));if(f+=1,$t=pt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}X.H=hy,m=r(a,o)}while(cl);return m}function qE(){var t=X.H,r=t.useState()[0];return r=typeof r.then=="function"?Io(r):r,t=t.useState()[0],(pt!==null?pt.memoizedState:null)!==t&&(Be.flags|=1024),r}function wf(){var t=Iu!==0;return Iu=0,t}function Tf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Sf(t){if(ju){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}ju=!1}Rr=0,$t=pt=Be=null,cl=!1,jo=Iu=0,ul=null}function Pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Be.memoizedState=$t=t:$t=$t.next=t,$t}function Lt(){if(pt===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var r=$t===null?Be.memoizedState:$t.next;if(r!==null)$t=r,pt=t;else{if(t===null)throw Be.alternate===null?Error(i(467)):Error(i(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},$t===null?Be.memoizedState=$t=t:$t=$t.next=t}return $t}function ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Io(t){var r=jo;return jo+=1,ul===null&&(ul=[]),t=b0(ul,t,r),r=Be,($t===null?r.memoizedState:$t.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?dy:Bf),t}function Mu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Io(t);if(t.$$typeof===Z)return pn(t)}throw Error(i(438,String(t)))}function Nf(t){var r=null,a=Be.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var o=Be.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=ku(),Be.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),o=0;o<t;o++)a[o]=M;return r.index++,a}function jr(t,r){return typeof r=="function"?r(t):r}function Ou(t){var r=Lt();return Af(r,pt,t)}function Af(t,r,a){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=a;var f=t.baseQueue,m=o.pending;if(m!==null){if(f!==null){var x=f.next;f.next=m.next,m.next=x}r.baseQueue=f=m,o.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{r=f.next;var w=x=null,I=null,F=r,W=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(Qe&ee)===ee:(Rr&ee)===ee){var H=F.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===rl&&(W=!0);else if((Rr&H)===H){F=F.next,H===rl&&(W=!0);continue}else ee={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(w=I=ee,x=m):I=I.next=ee,Be.lanes|=H,yi|=H;ee=F.action,_a&&a(m,ee),m=F.hasEagerState?F.eagerState:a(m,ee)}else H={lane:ee,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(w=I=H,x=m):I=I.next=H,Be.lanes|=ee,yi|=ee;F=F.next}while(F!==null&&F!==r);if(I===null?x=m:I.next=w,!rs(m,t.memoizedState)&&(Yt=!0,W&&(a=il,a!==null)))throw a;t.memoizedState=m,t.baseState=x,t.baseQueue=I,o.lastRenderedState=m}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Cf(t){var r=Lt(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var o=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var x=f=f.next;do m=t(m,x.action),x=x.next;while(x!==f);rs(m,r.memoizedState)||(Yt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,o]}function j0(t,r,a){var o=Be,f=Lt(),m=We;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=r();var x=!rs((pt||f).memoizedState,a);if(x&&(f.memoizedState=a,Yt=!0),f=f.queue,jf(M0.bind(null,o,f,t),[t]),f.getSnapshot!==r||x||$t!==null&&$t.memoizedState.tag&1){if(o.flags|=2048,dl(9,{destroy:void 0},k0.bind(null,o,f,a,r),null),vt===null)throw Error(i(349));m||(Rr&127)!==0||I0(o,r,a)}return a}function I0(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Be.updateQueue,r===null?(r=ku(),Be.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function k0(t,r,a,o){r.value=a,r.getSnapshot=o,O0(r)&&V0(t)}function M0(t,r,a){return a(function(){O0(r)&&V0(t)})}function O0(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!rs(t,a)}catch{return!0}}function V0(t){var r=ha(t,2);r!==null&&Xn(r,t,2)}function Df(t){var r=Pn();if(typeof t=="function"){var a=t;if(t=a(),_a){jt(!0);try{a()}finally{jt(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:t},r}function B0(t,r,a,o){return t.baseState=a,Af(t,pt,typeof o=="function"?o:jr)}function HE(t,r,a,o,f){if(Lu(t))throw Error(i(485));if(t=r.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){m.listeners.push(x)}};X.T!==null?a(!0):m.isTransition=!1,o(m),a=r.pending,a===null?(m.next=r.pending=m,L0(r,m)):(m.next=a.next,r.pending=a.next=m)}}function L0(t,r){var a=r.action,o=r.payload,f=t.state;if(r.isTransition){var m=X.T,x={};X.T=x;try{var w=a(f,o),I=X.S;I!==null&&I(x,w),P0(t,r,w)}catch(F){Rf(t,r,F)}finally{m!==null&&x.types!==null&&(m.types=x.types),X.T=m}}else try{m=a(f,o),P0(t,r,m)}catch(F){Rf(t,r,F)}}function P0(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){z0(t,r,o)},function(o){return Rf(t,r,o)}):z0(t,r,a)}function z0(t,r,a){r.status="fulfilled",r.value=a,U0(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,L0(t,a)))}function Rf(t,r,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=a,U0(r),r=r.next;while(r!==o)}t.action=null}function U0(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function F0(t,r){return r}function q0(t,r){if(We){var a=vt.formState;if(a!==null){e:{var o=Be;if(We){if(_t){t:{for(var f=_t,m=_s;f.nodeType!==8;){if(!m){f=null;break t}if(f=ws(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){_t=ws(f.nextSibling),o=f.data==="F!";break e}}oi(o)}o=!1}o&&(r=a[0])}}return a=Pn(),a.memoizedState=a.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:F0,lastRenderedState:r},a.queue=o,a=oy.bind(null,Be,o),o.dispatch=a,o=Df(!1),m=Vf.bind(null,Be,!1,o.queue),o=Pn(),f={state:r,dispatch:null,action:t,pending:null},o.queue=f,a=HE.bind(null,Be,f,m,a),f.dispatch=a,o.memoizedState=t,[r,a,!1]}function H0(t){var r=Lt();return G0(r,pt,t)}function G0(t,r,a){if(r=Af(t,r,F0)[0],t=Ou(jr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=Io(r)}catch(x){throw x===al?Su:x}else o=r;r=Lt();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(Be.flags|=2048,dl(9,{destroy:void 0},GE.bind(null,f,a),null)),[o,m,t]}function GE(t,r){t.action=r}function Q0(t){var r=Lt(),a=pt;if(a!==null)return G0(r,a,t);Lt(),r=r.memoizedState,a=Lt();var o=a.queue.dispatch;return a.memoizedState=t,[r,o,!1]}function dl(t,r,a,o){return t={tag:t,create:a,deps:o,inst:r,next:null},r=Be.updateQueue,r===null&&(r=ku(),Be.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,r.lastEffect=t),t}function $0(){return Lt().memoizedState}function Vu(t,r,a,o){var f=Pn();Be.flags|=t,f.memoizedState=dl(1|r,{destroy:void 0},a,o===void 0?null:o)}function Bu(t,r,a,o){var f=Lt();o=o===void 0?null:o;var m=f.memoizedState.inst;pt!==null&&o!==null&&_f(o,pt.memoizedState.deps)?f.memoizedState=dl(r,m,a,o):(Be.flags|=t,f.memoizedState=dl(1|r,m,a,o))}function Y0(t,r){Vu(8390656,8,t,r)}function jf(t,r){Bu(2048,8,t,r)}function QE(t){Be.flags|=4;var r=Be.updateQueue;if(r===null)r=ku(),Be.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function K0(t){var r=Lt().memoizedState;return QE({ref:r,nextImpl:t}),function(){if((it&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function X0(t,r){return Bu(4,2,t,r)}function W0(t,r){return Bu(4,4,t,r)}function J0(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Z0(t,r,a){a=a!=null?a.concat([t]):null,Bu(4,4,J0.bind(null,r,t),a)}function If(){}function ey(t,r){var a=Lt();r=r===void 0?null:r;var o=a.memoizedState;return r!==null&&_f(r,o[1])?o[0]:(a.memoizedState=[t,r],t)}function ty(t,r){var a=Lt();r=r===void 0?null:r;var o=a.memoizedState;if(r!==null&&_f(r,o[1]))return o[0];if(o=t(),_a){jt(!0);try{t()}finally{jt(!1)}}return a.memoizedState=[o,r],o}function kf(t,r,a){return a===void 0||(Rr&1073741824)!==0&&(Qe&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=nv(),Be.lanes|=t,yi|=t,a)}function ny(t,r,a,o){return rs(a,r)?a:ol.current!==null?(t=kf(t,a,o),rs(t,r)||(Yt=!0),t):(Rr&42)===0||(Rr&1073741824)!==0&&(Qe&261930)===0?(Yt=!0,t.memoizedState=a):(t=nv(),Be.lanes|=t,yi|=t,r)}function sy(t,r,a,o,f){var m=ce.p;ce.p=m!==0&&8>m?m:8;var x=X.T,w={};X.T=w,Vf(t,!1,r,a);try{var I=f(),F=X.S;if(F!==null&&F(w,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=UE(I,o);ko(t,r,W,us(t))}else ko(t,r,o,us(t))}catch(ee){ko(t,r,{then:function(){},status:"rejected",reason:ee},us())}finally{ce.p=m,x!==null&&w.types!==null&&(x.types=w.types),X.T=x}}function $E(){}function Mf(t,r,a,o){if(t.tag!==5)throw Error(i(476));var f=ry(t).queue;sy(t,f,r,xe,a===null?$E:function(){return iy(t),a(o)})}function ry(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:xe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function iy(t){var r=ry(t);r.next===null&&(r=t.alternate.memoizedState),ko(t,r.next.queue,{},us())}function Of(){return pn(Xo)}function ay(){return Lt().memoizedState}function ly(){return Lt().memoizedState}function YE(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=us();t=di(a);var o=hi(r,t,a);o!==null&&(Xn(o,r,a),Co(o,r,a)),r={cache:uf()},t.payload=r;return}r=r.return}}function KE(t,r,a){var o=us();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Lu(t)?cy(r,a):(a=Jh(t,r,a,o),a!==null&&(Xn(a,t,o),uy(a,r,o)))}function oy(t,r,a){var o=us();ko(t,r,a,o)}function ko(t,r,a,o){var f={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lu(t))cy(r,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var x=r.lastRenderedState,w=m(x,a);if(f.hasEagerState=!0,f.eagerState=w,rs(w,x))return vu(t,r,f,0),vt===null&&yu(),!1}catch{}if(a=Jh(t,r,f,o),a!==null)return Xn(a,t,o),uy(a,r,o),!0}return!1}function Vf(t,r,a,o){if(o={lane:2,revertLane:mm(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Lu(t)){if(r)throw Error(i(479))}else r=Jh(t,a,o,2),r!==null&&Xn(r,t,2)}function Lu(t){var r=t.alternate;return t===Be||r!==null&&r===Be}function cy(t,r){cl=ju=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function uy(t,r,a){if((a&4194048)!==0){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,Sn(t,a)}}var Mo={readContext:pn,use:Mu,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};Mo.useEffectEvent=It;var dy={readContext:pn,use:Mu,useCallback:function(t,r){return Pn().memoizedState=[t,r===void 0?null:r],t},useContext:pn,useEffect:Y0,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Vu(4194308,4,J0.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Vu(4194308,4,t,r)},useInsertionEffect:function(t,r){Vu(4,2,t,r)},useMemo:function(t,r){var a=Pn();r=r===void 0?null:r;var o=t();if(_a){jt(!0);try{t()}finally{jt(!1)}}return a.memoizedState=[o,r],o},useReducer:function(t,r,a){var o=Pn();if(a!==void 0){var f=a(r);if(_a){jt(!0);try{a(r)}finally{jt(!1)}}}else f=r;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=KE.bind(null,Be,t),[o.memoizedState,t]},useRef:function(t){var r=Pn();return t={current:t},r.memoizedState=t},useState:function(t){t=Df(t);var r=t.queue,a=oy.bind(null,Be,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:If,useDeferredValue:function(t,r){var a=Pn();return kf(a,t,r)},useTransition:function(){var t=Df(!1);return t=sy.bind(null,Be,t.queue,!0,!1),Pn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var o=Be,f=Pn();if(We){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),vt===null)throw Error(i(349));(Qe&127)!==0||I0(o,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,Y0(M0.bind(null,o,m,t),[t]),o.flags|=2048,dl(9,{destroy:void 0},k0.bind(null,o,m,a,r),null),a},useId:function(){var t=Pn(),r=vt.identifierPrefix;if(We){var a=ir,o=rr;a=(o&~(1<<32-et(o)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Iu++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=FE++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Of,useFormState:q0,useActionState:q0,useOptimistic:function(t){var r=Pn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Vf.bind(null,Be,!0,a),a.dispatch=r,[t,r]},useMemoCache:Nf,useCacheRefresh:function(){return Pn().memoizedState=YE.bind(null,Be)},useEffectEvent:function(t){var r=Pn(),a={impl:t};return r.memoizedState=a,function(){if((it&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Bf={readContext:pn,use:Mu,useCallback:ey,useContext:pn,useEffect:jf,useImperativeHandle:Z0,useInsertionEffect:X0,useLayoutEffect:W0,useMemo:ty,useReducer:Ou,useRef:$0,useState:function(){return Ou(jr)},useDebugValue:If,useDeferredValue:function(t,r){var a=Lt();return ny(a,pt.memoizedState,t,r)},useTransition:function(){var t=Ou(jr)[0],r=Lt().memoizedState;return[typeof t=="boolean"?t:Io(t),r]},useSyncExternalStore:j0,useId:ay,useHostTransitionStatus:Of,useFormState:H0,useActionState:H0,useOptimistic:function(t,r){var a=Lt();return B0(a,pt,t,r)},useMemoCache:Nf,useCacheRefresh:ly};Bf.useEffectEvent=K0;var hy={readContext:pn,use:Mu,useCallback:ey,useContext:pn,useEffect:jf,useImperativeHandle:Z0,useInsertionEffect:X0,useLayoutEffect:W0,useMemo:ty,useReducer:Cf,useRef:$0,useState:function(){return Cf(jr)},useDebugValue:If,useDeferredValue:function(t,r){var a=Lt();return pt===null?kf(a,t,r):ny(a,pt.memoizedState,t,r)},useTransition:function(){var t=Cf(jr)[0],r=Lt().memoizedState;return[typeof t=="boolean"?t:Io(t),r]},useSyncExternalStore:j0,useId:ay,useHostTransitionStatus:Of,useFormState:Q0,useActionState:Q0,useOptimistic:function(t,r){var a=Lt();return pt!==null?B0(a,pt,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Nf,useCacheRefresh:ly};hy.useEffectEvent=K0;function Lf(t,r,a,o){r=t.memoizedState,a=a(o,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Pf={enqueueSetState:function(t,r,a){t=t._reactInternals;var o=us(),f=di(o);f.payload=r,a!=null&&(f.callback=a),r=hi(t,f,o),r!==null&&(Xn(r,t,o),Co(r,t,o))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var o=us(),f=di(o);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=hi(t,f,o),r!==null&&(Xn(r,t,o),Co(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=us(),o=di(a);o.tag=2,r!=null&&(o.callback=r),r=hi(t,o,a),r!==null&&(Xn(r,t,a),Co(r,t,a))}};function fy(t,r,a,o,f,m,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,x):r.prototype&&r.prototype.isPureReactComponent?!bo(a,o)||!bo(f,m):!0}function my(t,r,a,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,o),r.state!==t&&Pf.enqueueReplaceState(r,r.state,null)}function Ea(t,r){var a=r;if("ref"in r){a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function py(t){gu(t)}function gy(t){console.error(t)}function yy(t){gu(t)}function Pu(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function vy(t,r,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function zf(t,r,a){return a=di(a),a.tag=3,a.payload={element:null},a.callback=function(){Pu(t,r)},a}function xy(t){return t=di(t),t.tag=3,t}function by(t,r,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;t.payload=function(){return f(m)},t.callback=function(){vy(r,a,o)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(t.callback=function(){vy(r,a,o),typeof f!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})})}function XE(t,r,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=a.alternate,r!==null&&sl(r,a,f,!0),a=as.current,a!==null){switch(a.tag){case 31:case 13:return Es===null?Wu():a.alternate===null&&kt===0&&(kt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===Nu?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([o]):r.add(o),dm(t,o,f)),!1;case 22:return a.flags|=65536,o===Nu?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([o]):a.add(o)),dm(t,o,f)),!1}throw Error(i(435,a.tag))}return dm(t,o,f),Wu(),!1}if(We)return r=as.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,o!==rf&&(t=Error(i(422),{cause:o}),wo(vs(t,a)))):(o!==rf&&(r=Error(i(423),{cause:o}),wo(vs(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=vs(o,a),f=zf(t.stateNode,o,f),gf(t,f),kt!==4&&(kt=2)),!1;var m=Error(i(520),{cause:o});if(m=vs(m,a),Fo===null?Fo=[m]:Fo.push(m),kt!==4&&(kt=2),r===null)return!0;o=vs(o,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=zf(a.stateNode,o,t),gf(a,t),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(vi===null||!vi.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=xy(f),by(f,t,a,o),gf(a,f),!1}a=a.return}while(a!==null);return!1}var Uf=Error(i(461)),Yt=!1;function gn(t,r,a,o){r.child=t===null?T0(r,null,a,o):ba(r,t.child,a,o)}function _y(t,r,a,o,f){a=a.render;var m=r.ref;if("ref"in o){var x={};for(var w in o)w!=="ref"&&(x[w]=o[w])}else x=o;return ga(r),o=Ef(t,r,a,x,m,f),w=wf(),t!==null&&!Yt?(Tf(t,r,f),Ir(t,r,f)):(We&&w&&nf(r),r.flags|=1,gn(t,r,o,f),r.child)}function Ey(t,r,a,o,f){if(t===null){var m=a.type;return typeof m=="function"&&!Zh(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,wy(t,r,m,o,f)):(t=bu(a.type,null,o,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!Kf(t,f)){var x=m.memoizedProps;if(a=a.compare,a=a!==null?a:bo,a(x,o)&&t.ref===r.ref)return Ir(t,r,f)}return r.flags|=1,t=Nr(m,o),t.ref=r.ref,t.return=r,r.child=t}function wy(t,r,a,o,f){if(t!==null){var m=t.memoizedProps;if(bo(m,o)&&t.ref===r.ref)if(Yt=!1,r.pendingProps=o=m,Kf(t,f))(t.flags&131072)!==0&&(Yt=!0);else return r.lanes=t.lanes,Ir(t,r,f)}return Ff(t,r,a,o,f)}function Ty(t,r,a,o){var f=o.children,m=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(o=r.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~m}else o=0,r.child=null;return Sy(t,r,m,a,o)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Tu(r,m!==null?m.cachePool:null),m!==null?A0(r,m):vf(),C0(r);else return o=r.lanes=536870912,Sy(t,r,m!==null?m.baseLanes|a:a,a,o)}else m!==null?(Tu(r,m.cachePool),A0(r,m),mi(),r.memoizedState=null):(t!==null&&Tu(r,null),vf(),mi());return gn(t,r,f,a),r.child}function Oo(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Sy(t,r,a,o,f){var m=hf();return m=m===null?null:{parent:Qt._currentValue,pool:m},r.memoizedState={baseLanes:a,cachePool:m},t!==null&&Tu(r,null),vf(),C0(r),t!==null&&sl(t,r,o,!0),r.childLanes=f,null}function zu(t,r){return r=Fu({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Ny(t,r,a){return ba(r,t.child,null,a),t=zu(r,r.pendingProps),t.flags|=2,ls(r),r.memoizedState=null,t}function WE(t,r,a){var o=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(We){if(o.mode==="hidden")return t=zu(r,o),r.lanes=536870912,Oo(null,t);if(bf(r),(t=_t)?(t=Lv(t,_s),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:ai!==null?{id:rr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},a=c0(t),a.return=r,r.child=a,mn=r,_t=null)):t=null,t===null)throw oi(r);return r.lanes=536870912,null}return zu(r,o)}var m=t.memoizedState;if(m!==null){var x=m.dehydrated;if(bf(r),f)if(r.flags&256)r.flags&=-257,r=Ny(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(i(558));else if(Yt||sl(t,r,a,!1),f=(a&t.childLanes)!==0,Yt||f){if(o=vt,o!==null&&(x=On(o,a),x!==0&&x!==m.retryLane))throw m.retryLane=x,ha(t,x),Xn(o,t,x),Uf;Wu(),r=Ny(t,r,a)}else t=m.treeContext,_t=ws(x.nextSibling),mn=r,We=!0,li=null,_s=!1,t!==null&&h0(r,t),r=zu(r,o),r.flags|=4096;return r}return t=Nr(t.child,{mode:o.mode,children:o.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Uu(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Ff(t,r,a,o,f){return ga(r),a=Ef(t,r,a,o,void 0,f),o=wf(),t!==null&&!Yt?(Tf(t,r,f),Ir(t,r,f)):(We&&o&&nf(r),r.flags|=1,gn(t,r,a,f),r.child)}function Ay(t,r,a,o,f,m){return ga(r),r.updateQueue=null,a=R0(r,o,a,f),D0(t),o=wf(),t!==null&&!Yt?(Tf(t,r,m),Ir(t,r,m)):(We&&o&&nf(r),r.flags|=1,gn(t,r,a,m),r.child)}function Cy(t,r,a,o,f){if(ga(r),r.stateNode===null){var m=Za,x=a.contextType;typeof x=="object"&&x!==null&&(m=pn(x)),m=new a(o,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Pf,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=o,m.state=r.memoizedState,m.refs={},mf(r),x=a.contextType,m.context=typeof x=="object"&&x!==null?pn(x):Za,m.state=r.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Lf(r,a,x,o),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(x=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),x!==m.state&&Pf.enqueueReplaceState(m,m.state,null),Ro(r,o,m,f),Do(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){m=r.stateNode;var w=r.memoizedProps,I=Ea(a,w);m.props=I;var F=m.context,W=a.contextType;x=Za,typeof W=="object"&&W!==null&&(x=pn(W));var ee=a.getDerivedStateFromProps;W=typeof ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||F!==x)&&my(r,m,o,x),ui=!1;var H=r.memoizedState;m.state=H,Ro(r,o,m,f),Do(),F=r.memoizedState,w||H!==F||ui?(typeof ee=="function"&&(Lf(r,a,ee,o),F=r.memoizedState),(I=ui||fy(r,a,I,o,H,F,x))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=F),m.props=o,m.state=F,m.context=x,o=I):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{m=r.stateNode,pf(t,r),x=r.memoizedProps,W=Ea(a,x),m.props=W,ee=r.pendingProps,H=m.context,F=a.contextType,I=Za,typeof F=="object"&&F!==null&&(I=pn(F)),w=a.getDerivedStateFromProps,(F=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==ee||H!==I)&&my(r,m,o,I),ui=!1,H=r.memoizedState,m.state=H,Ro(r,o,m,f),Do();var $=r.memoizedState;x!==ee||H!==$||ui||t!==null&&t.dependencies!==null&&Eu(t.dependencies)?(typeof w=="function"&&(Lf(r,a,w,o),$=r.memoizedState),(W=ui||fy(r,a,W,o,H,$,I)||t!==null&&t.dependencies!==null&&Eu(t.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,$,I),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,$,I)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||x===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=$),m.props=o,m.state=$,m.context=I,o=W):(typeof m.componentDidUpdate!="function"||x===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),o=!1)}return m=o,Uu(t,r),o=(r.flags&128)!==0,m||o?(m=r.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,t!==null&&o?(r.child=ba(r,t.child,null,f),r.child=ba(r,null,a,f)):gn(t,r,a,f),r.memoizedState=m.state,t=r.child):t=Ir(t,r,f),t}function Dy(t,r,a,o){return ma(),r.flags|=256,gn(t,r,a,o),r.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(t){return{baseLanes:t,cachePool:v0()}}function Gf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=cs),t}function Ry(t,r,a){var o=r.pendingProps,f=!1,m=(r.flags&128)!==0,x;if((x=m)||(x=t!==null&&t.memoizedState===null?!1:(Bt.current&2)!==0),x&&(f=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,t===null){if(We){if(f?fi(r):mi(),(t=_t)?(t=Lv(t,_s),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:ai!==null?{id:rr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},a=c0(t),a.return=r,r.child=a,mn=r,_t=null)):t=null,t===null)throw oi(r);return Am(t)?r.lanes=32:r.lanes=536870912,null}var w=o.children;return o=o.fallback,f?(mi(),f=r.mode,w=Fu({mode:"hidden",children:w},f),o=fa(o,f,a,null),w.return=r,o.return=r,w.sibling=o,r.child=w,o=r.child,o.memoizedState=Hf(a),o.childLanes=Gf(t,x,a),r.memoizedState=qf,Oo(null,o)):(fi(r),Qf(r,w))}var I=t.memoizedState;if(I!==null&&(w=I.dehydrated,w!==null)){if(m)r.flags&256?(fi(r),r.flags&=-257,r=$f(t,r,a)):r.memoizedState!==null?(mi(),r.child=t.child,r.flags|=128,r=null):(mi(),w=o.fallback,f=r.mode,o=Fu({mode:"visible",children:o.children},f),w=fa(w,f,a,null),w.flags|=2,o.return=r,w.return=r,o.sibling=w,r.child=o,ba(r,t.child,null,a),o=r.child,o.memoizedState=Hf(a),o.childLanes=Gf(t,x,a),r.memoizedState=qf,r=Oo(null,o));else if(fi(r),Am(w)){if(x=w.nextSibling&&w.nextSibling.dataset,x)var F=x.dgst;x=F,o=Error(i(419)),o.stack="",o.digest=x,wo({value:o,source:null,stack:null}),r=$f(t,r,a)}else if(Yt||sl(t,r,a,!1),x=(a&t.childLanes)!==0,Yt||x){if(x=vt,x!==null&&(o=On(x,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,ha(t,o),Xn(x,t,o),Uf;Nm(w)||Wu(),r=$f(t,r,a)}else Nm(w)?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,_t=ws(w.nextSibling),mn=r,We=!0,li=null,_s=!1,t!==null&&h0(r,t),r=Qf(r,o.children),r.flags|=4096);return r}return f?(mi(),w=o.fallback,f=r.mode,I=t.child,F=I.sibling,o=Nr(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,F!==null?w=Nr(F,w):(w=fa(w,f,a,null),w.flags|=2),w.return=r,o.return=r,o.sibling=w,r.child=o,Oo(null,o),o=r.child,w=t.child.memoizedState,w===null?w=Hf(a):(f=w.cachePool,f!==null?(I=Qt._currentValue,f=f.parent!==I?{parent:I,pool:I}:f):f=v0(),w={baseLanes:w.baseLanes|a,cachePool:f}),o.memoizedState=w,o.childLanes=Gf(t,x,a),r.memoizedState=qf,Oo(t.child,o)):(fi(r),a=t.child,t=a.sibling,a=Nr(a,{mode:"visible",children:o.children}),a.return=r,a.sibling=null,t!==null&&(x=r.deletions,x===null?(r.deletions=[t],r.flags|=16):x.push(t)),r.child=a,r.memoizedState=null,a)}function Qf(t,r){return r=Fu({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Fu(t,r){return t=is(22,t,null,r),t.lanes=0,t}function $f(t,r,a){return ba(r,t.child,null,a),t=Qf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function jy(t,r,a){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),of(t.return,r,a)}function Yf(t,r,a,o,f,m){var x=t.memoizedState;x===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f,treeForkCount:m}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=o,x.tail=a,x.tailMode=f,x.treeForkCount=m)}function Iy(t,r,a){var o=r.pendingProps,f=o.revealOrder,m=o.tail;o=o.children;var x=Bt.current,w=(x&2)!==0;if(w?(x=x&1|2,r.flags|=128):x&=1,ue(Bt,x),gn(t,r,o,a),o=We?Eo:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jy(t,a,r);else if(t.tag===19)jy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Ru(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Yf(r,!1,f,a,m,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Ru(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Yf(r,!0,a,null,m,o);break;case"together":Yf(r,!1,null,null,void 0,o);break;default:r.memoizedState=null}return r.child}function Ir(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),yi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(sl(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,a=Nr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Nr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Kf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Eu(t)))}function JE(t,r,a){switch(r.tag){case 3:at(r,r.stateNode.containerInfo),ci(r,Qt,t.memoizedState.cache),ma();break;case 27:case 5:Ue(r);break;case 4:at(r,r.stateNode.containerInfo);break;case 10:ci(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,bf(r),null;break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(fi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Ry(t,r,a):(fi(r),t=Ir(t,r,a),t!==null?t.sibling:null);fi(r);break;case 19:var f=(t.flags&128)!==0;if(o=(a&r.childLanes)!==0,o||(sl(t,r,a,!1),o=(a&r.childLanes)!==0),f){if(o)return Iy(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Bt,Bt.current),o)break;return null;case 22:return r.lanes=0,Ty(t,r,a,r.pendingProps);case 24:ci(r,Qt,t.memoizedState.cache)}return Ir(t,r,a)}function ky(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Yt=!0;else{if(!Kf(t,a)&&(r.flags&128)===0)return Yt=!1,JE(t,r,a);Yt=(t.flags&131072)!==0}else Yt=!1,We&&(r.flags&1048576)!==0&&d0(r,Eo,r.index);switch(r.lanes=0,r.tag){case 16:e:{var o=r.pendingProps;if(t=va(r.elementType),r.type=t,typeof t=="function")Zh(t)?(o=Ea(t,o),r.tag=1,r=Cy(null,r,t,o,a)):(r.tag=0,r=Ff(null,r,t,o,a));else{if(t!=null){var f=t.$$typeof;if(f===re){r.tag=11,r=_y(null,r,t,o,a);break e}else if(f===A){r.tag=14,r=Ey(null,r,t,o,a);break e}}throw r=ze(t)||t,Error(i(306,r,""))}}return r;case 0:return Ff(t,r,r.type,r.pendingProps,a);case 1:return o=r.type,f=Ea(o,r.pendingProps),Cy(t,r,o,f,a);case 3:e:{if(at(r,r.stateNode.containerInfo),t===null)throw Error(i(387));o=r.pendingProps;var m=r.memoizedState;f=m.element,pf(t,r),Ro(r,o,null,a);var x=r.memoizedState;if(o=x.cache,ci(r,Qt,o),o!==m.cache&&cf(r,[Qt],a,!0),Do(),o=x.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=Dy(t,r,o,a);break e}else if(o!==f){f=vs(Error(i(424)),r),wo(f),r=Dy(t,r,o,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,_t=ws(t.firstChild),mn=r,We=!0,li=null,_s=!0,a=T0(r,null,o,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ma(),o===f){r=Ir(t,r,a);break e}gn(t,r,o,a)}r=r.child}return r;case 26:return Uu(t,r),t===null?(a=Hv(r.type,null,r.pendingProps,null))?r.memoizedState=a:We||(a=r.type,t=r.pendingProps,o=rd(Te.current).createElement(a),o[qt]=r,o[ln]=t,yn(o,a,t),Ht(o),r.stateNode=o):r.memoizedState=Hv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ue(r),t===null&&We&&(o=r.stateNode=Uv(r.type,r.pendingProps,Te.current),mn=r,_s=!0,f=_t,Ei(r.type)?(Cm=f,_t=ws(o.firstChild)):_t=f),gn(t,r,r.pendingProps.children,a),Uu(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&We&&((f=o=_t)&&(o=Cw(o,r.type,r.pendingProps,_s),o!==null?(r.stateNode=o,mn=r,_t=ws(o.firstChild),_s=!1,f=!0):f=!1),f||oi(r)),Ue(r),f=r.type,m=r.pendingProps,x=t!==null?t.memoizedProps:null,o=m.children,wm(f,m)?o=null:x!==null&&wm(f,x)&&(r.flags|=32),r.memoizedState!==null&&(f=Ef(t,r,qE,null,null,a),Xo._currentValue=f),Uu(t,r),gn(t,r,o,a),r.child;case 6:return t===null&&We&&((t=a=_t)&&(a=Dw(a,r.pendingProps,_s),a!==null?(r.stateNode=a,mn=r,_t=null,t=!0):t=!1),t||oi(r)),null;case 13:return Ry(t,r,a);case 4:return at(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=ba(r,null,o,a):gn(t,r,o,a),r.child;case 11:return _y(t,r,r.type,r.pendingProps,a);case 7:return gn(t,r,r.pendingProps,a),r.child;case 8:return gn(t,r,r.pendingProps.children,a),r.child;case 12:return gn(t,r,r.pendingProps.children,a),r.child;case 10:return o=r.pendingProps,ci(r,r.type,o.value),gn(t,r,o.children,a),r.child;case 9:return f=r.type._context,o=r.pendingProps.children,ga(r),f=pn(f),o=o(f),r.flags|=1,gn(t,r,o,a),r.child;case 14:return Ey(t,r,r.type,r.pendingProps,a);case 15:return wy(t,r,r.type,r.pendingProps,a);case 19:return Iy(t,r,a);case 31:return WE(t,r,a);case 22:return Ty(t,r,a,r.pendingProps);case 24:return ga(r),o=pn(Qt),t===null?(f=hf(),f===null&&(f=vt,m=uf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:o,cache:f},mf(r),ci(r,Qt,f)):((t.lanes&a)!==0&&(pf(t,r),Ro(r,null,null,a),Do()),f=t.memoizedState,m=r.memoizedState,f.parent!==o?(f={parent:o,cache:o},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),ci(r,Qt,o)):(o=m.cache,ci(r,Qt,o),o!==f.cache&&cf(r,[Qt],a,!0))),gn(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function kr(t){t.flags|=4}function Xf(t,r,a,o,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(av())t.flags|=8192;else throw xa=Nu,ff}else t.flags&=-16777217}function My(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Kv(r))if(av())t.flags|=8192;else throw xa=Nu,ff}function qu(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?an():536870912,t.lanes|=r,pl|=r)}function Vo(t,r){if(!We)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Et(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=a,r}function ZE(t,r,a){var o=r.pendingProps;switch(sf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(r),null;case 1:return Et(r),null;case 3:return a=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Dr(Qt),Ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(nl(r)?kr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,af())),Et(r),null;case 26:var f=r.type,m=r.memoizedState;return t===null?(kr(r),m!==null?(Et(r),My(r,m)):(Et(r),Xf(r,f,null,o,a))):m?m!==t.memoizedState?(kr(r),Et(r),My(r,m)):(Et(r),r.flags&=-16777217):(t=t.memoizedProps,t!==o&&kr(r),Et(r),Xf(r,f,t,o,a)),null;case 27:if(zn(r),a=Te.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&kr(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return Et(r),null}t=me.current,nl(r)?f0(r):(t=Uv(f,o,a),r.stateNode=t,kr(r))}return Et(r),null;case 5:if(zn(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&kr(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return Et(r),null}if(m=me.current,nl(r))f0(r);else{var x=rd(Te.current);switch(m){case 1:m=x.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=x.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=x.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?x.createElement("select",{is:o.is}):x.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?x.createElement(f,{is:o.is}):x.createElement(f)}}m[qt]=r,m[ln]=o;e:for(x=r.child;x!==null;){if(x.tag===5||x.tag===6)m.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===r)break e;for(;x.sibling===null;){if(x.return===null||x.return===r)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}r.stateNode=m;e:switch(yn(m,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&kr(r)}}return Et(r),Xf(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&kr(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(i(166));if(t=Te.current,nl(r)){if(t=r.stateNode,a=r.memoizedProps,o=null,f=mn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[qt]=r,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Rv(t.nodeValue,a)),t||oi(r,!0)}else t=rd(t).createTextNode(o),t[qt]=r,r.stateNode=t}return Et(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(o=nl(r),a!==null){if(t===null){if(!o)throw Error(i(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[qt]=r}else ma(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Et(r),t=!1}else a=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(ls(r),r):(ls(r),null);if((r.flags&128)!==0)throw Error(i(558))}return Et(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=nl(r),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(i(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[qt]=r}else ma(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Et(r),f=!1}else f=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(ls(r),r):(ls(r),null)}return ls(r),(r.flags&128)!==0?(r.lanes=a,r):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=r.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),qu(r,r.updateQueue),Et(r),null);case 4:return Ge(),t===null&&vm(r.stateNode.containerInfo),Et(r),null;case 10:return Dr(r.type),Et(r),null;case 19:if(Y(Bt),o=r.memoizedState,o===null)return Et(r),null;if(f=(r.flags&128)!==0,m=o.rendering,m===null)if(f)Vo(o,!1);else{if(kt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(m=Ru(t),m!==null){for(r.flags|=128,Vo(o,!1),t=m.updateQueue,r.updateQueue=t,qu(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)o0(a,t),a=a.sibling;return ue(Bt,Bt.current&1|2),We&&Ar(r,o.treeForkCount),r.child}t=t.sibling}o.tail!==null&&Ut()>Yu&&(r.flags|=128,f=!0,Vo(o,!1),r.lanes=4194304)}else{if(!f)if(t=Ru(m),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,qu(r,t),Vo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!We)return Et(r),null}else 2*Ut()-o.renderingStartTime>Yu&&a!==536870912&&(r.flags|=128,f=!0,Vo(o,!1),r.lanes=4194304);o.isBackwards?(m.sibling=r.child,r.child=m):(t=o.last,t!==null?t.sibling=m:r.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ut(),t.sibling=null,a=Bt.current,ue(Bt,f?a&1|2:a&1),We&&Ar(r,o.treeForkCount),t):(Et(r),null);case 22:case 23:return ls(r),xf(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(a&536870912)!==0&&(r.flags&128)===0&&(Et(r),r.subtreeFlags&6&&(r.flags|=8192)):Et(r),a=r.updateQueue,a!==null&&qu(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048),t!==null&&Y(ya),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Dr(Qt),Et(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function ew(t,r){switch(sf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Dr(Qt),Ge(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return zn(r),null;case 31:if(r.memoizedState!==null){if(ls(r),r.alternate===null)throw Error(i(340));ma()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(ls(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));ma()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Y(Bt),null;case 4:return Ge(),null;case 10:return Dr(r.type),null;case 22:case 23:return ls(r),xf(),t!==null&&Y(ya),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Dr(Qt),null;case 25:return null;default:return null}}function Oy(t,r){switch(sf(r),r.tag){case 3:Dr(Qt),Ge();break;case 26:case 27:case 5:zn(r);break;case 4:Ge();break;case 31:r.memoizedState!==null&&ls(r);break;case 13:ls(r);break;case 19:Y(Bt);break;case 10:Dr(r.type);break;case 22:case 23:ls(r),xf(),t!==null&&Y(ya);break;case 24:Dr(Qt)}}function Bo(t,r){try{var a=r.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&t)===t){o=void 0;var m=a.create,x=a.inst;o=m(),x.destroy=o}a=a.next}while(a!==f)}}catch(w){ft(r,r.return,w)}}function pi(t,r,a){try{var o=r.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&t)===t){var x=o.inst,w=x.destroy;if(w!==void 0){x.destroy=void 0,f=r;var I=a,F=w;try{F()}catch(W){ft(f,I,W)}}}o=o.next}while(o!==m)}}catch(W){ft(r,r.return,W)}}function Vy(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{N0(r,a)}catch(o){ft(t,t.return,o)}}}function By(t,r,a){a.props=Ea(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){ft(t,r,o)}}function Lo(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(f){ft(t,r,f)}}function ar(t,r){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){ft(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ft(t,r,f)}else a.current=null}function Ly(t){var r=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){ft(t,t.return,f)}}function Wf(t,r,a){try{var o=t.stateNode;Ew(o,t.type,a,r),o[ln]=r}catch(f){ft(t,t.return,f)}}function Py(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ei(t.type)||t.tag===4}function Jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Py(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ei(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Cs));else if(o!==4&&(o===27&&Ei(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Zf(t,r,a),t=t.sibling;t!==null;)Zf(t,r,a),t=t.sibling}function Hu(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(o!==4&&(o===27&&Ei(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Hu(t,r,a),t=t.sibling;t!==null;)Hu(t,r,a),t=t.sibling}function zy(t){var r=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);yn(r,o,a),r[qt]=t,r[ln]=a}catch(m){ft(t,t.return,m)}}var Mr=!1,Kt=!1,em=!1,Uy=typeof WeakSet=="function"?WeakSet:Set,cn=null;function tw(t,r){if(t=t.containerInfo,_m=dd,t=Zg(t),Qh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var x=0,w=-1,I=-1,F=0,W=0,ee=t,H=null;t:for(;;){for(var $;ee!==a||f!==0&&ee.nodeType!==3||(w=x+f),ee!==m||o!==0&&ee.nodeType!==3||(I=x+o),ee.nodeType===3&&(x+=ee.nodeValue.length),($=ee.firstChild)!==null;)H=ee,ee=$;for(;;){if(ee===t)break t;if(H===a&&++F===f&&(w=x),H===m&&++W===o&&(I=x),($=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=$}a=w===-1||I===-1?null:{start:w,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Em={focusedElem:t,selectionRange:a},dd=!1,cn=r;cn!==null;)if(r=cn,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,cn=t;else for(;cn!==null;){switch(r=cn,m=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var ve=Ea(a.type,f);t=o.getSnapshotBeforeUpdate(ve,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(De){ft(a,a.return,De)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Sm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,cn=t;break}cn=r.return}}function Fy(t,r,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Vr(t,a),o&4&&Bo(5,a);break;case 1:if(Vr(t,a),o&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(x){ft(a,a.return,x)}else{var f=Ea(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(x){ft(a,a.return,x)}}o&64&&Vy(a),o&512&&Lo(a,a.return);break;case 3:if(Vr(t,a),o&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{N0(t,r)}catch(x){ft(a,a.return,x)}}break;case 27:r===null&&o&4&&zy(a);case 26:case 5:Vr(t,a),r===null&&o&4&&Ly(a),o&512&&Lo(a,a.return);break;case 12:Vr(t,a);break;case 31:Vr(t,a),o&4&&Gy(t,a);break;case 13:Vr(t,a),o&4&&Qy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=uw.bind(null,a),Rw(t,a))));break;case 22:if(o=a.memoizedState!==null||Mr,!o){r=r!==null&&r.memoizedState!==null||Kt,f=Mr;var m=Kt;Mr=o,(Kt=r)&&!m?Br(t,a,(a.subtreeFlags&8772)!==0):Vr(t,a),Mr=f,Kt=m}break;case 30:break;default:Vr(t,a)}}function qy(t){var r=t.alternate;r!==null&&(t.alternate=null,qy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Pa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,Qn=!1;function Or(t,r,a){for(a=a.child;a!==null;)Hy(t,r,a),a=a.sibling}function Hy(t,r,a){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(st,a)}catch{}switch(a.tag){case 26:Kt||ar(a,r),Or(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Kt||ar(a,r);var o=At,f=Qn;Ei(a.type)&&(At=a.stateNode,Qn=!1),Or(t,r,a),$o(a.stateNode),At=o,Qn=f;break;case 5:Kt||ar(a,r);case 6:if(o=At,f=Qn,At=null,Or(t,r,a),At=o,Qn=f,At!==null)if(Qn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(a.stateNode)}catch(m){ft(a,r,m)}else try{At.removeChild(a.stateNode)}catch(m){ft(a,r,m)}break;case 18:At!==null&&(Qn?(t=At,Vv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),wl(t)):Vv(At,a.stateNode));break;case 4:o=At,f=Qn,At=a.stateNode.containerInfo,Qn=!0,Or(t,r,a),At=o,Qn=f;break;case 0:case 11:case 14:case 15:pi(2,a,r),Kt||pi(4,a,r),Or(t,r,a);break;case 1:Kt||(ar(a,r),o=a.stateNode,typeof o.componentWillUnmount=="function"&&By(a,r,o)),Or(t,r,a);break;case 21:Or(t,r,a);break;case 22:Kt=(o=Kt)||a.memoizedState!==null,Or(t,r,a),Kt=o;break;default:Or(t,r,a)}}function Gy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{wl(t)}catch(a){ft(r,r.return,a)}}}function Qy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{wl(t)}catch(a){ft(r,r.return,a)}}function nw(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Uy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Uy),r;default:throw Error(i(435,t.tag))}}function Gu(t,r){var a=nw(t);r.forEach(function(o){if(!a.has(o)){a.add(o);var f=dw.bind(null,t,o);o.then(f,f)}})}function $n(t,r){var a=r.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],m=t,x=r,w=x;e:for(;w!==null;){switch(w.tag){case 27:if(Ei(w.type)){At=w.stateNode,Qn=!1;break e}break;case 5:At=w.stateNode,Qn=!1;break e;case 3:case 4:At=w.stateNode.containerInfo,Qn=!0;break e}w=w.return}if(At===null)throw Error(i(160));Hy(m,x,f),At=null,Qn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)$y(r,t),r=r.sibling}var Ms=null;function $y(t,r){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:$n(r,t),Yn(t),o&4&&(pi(3,t,t.return),Bo(3,t),pi(5,t,t.return));break;case 1:$n(r,t),Yn(t),o&512&&(Kt||a===null||ar(a,a.return)),o&64&&Mr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=Ms;if($n(r,t),Yn(t),o&512&&(Kt||a===null||ar(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Qs]||m[qt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(o),f.head.insertBefore(m,f.querySelector("head > title"))),yn(m,o,a),m[qt]=t,Ht(m),o=m;break e;case"link":var x=$v("link","href",f).get(o+(a.href||""));if(x){for(var w=0;w<x.length;w++)if(m=x[w],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(w,1);break t}}m=f.createElement(o),yn(m,o,a),f.head.appendChild(m);break;case"meta":if(x=$v("meta","content",f).get(o+(a.content||""))){for(w=0;w<x.length;w++)if(m=x[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(w,1);break t}}m=f.createElement(o),yn(m,o,a),f.head.appendChild(m);break;default:throw Error(i(468,o))}m[qt]=t,Ht(m),o=m}t.stateNode=o}else Yv(f,t.type,t.stateNode);else t.stateNode=Qv(f,o,t.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?Yv(f,t.type,t.stateNode):Qv(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Wf(t,t.memoizedProps,a.memoizedProps)}break;case 27:$n(r,t),Yn(t),o&512&&(Kt||a===null||ar(a,a.return)),a!==null&&o&4&&Wf(t,t.memoizedProps,a.memoizedProps);break;case 5:if($n(r,t),Yn(t),o&512&&(Kt||a===null||ar(a,a.return)),t.flags&32){f=t.stateNode;try{Gn(f,"")}catch(ve){ft(t,t.return,ve)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Wf(t,f,a!==null?a.memoizedProps:f)),o&1024&&(em=!0);break;case 6:if($n(r,t),Yn(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ve){ft(t,t.return,ve)}}break;case 3:if(ld=null,f=Ms,Ms=id(r.containerInfo),$n(r,t),Ms=f,Yn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{wl(r.containerInfo)}catch(ve){ft(t,t.return,ve)}em&&(em=!1,Yy(t));break;case 4:o=Ms,Ms=id(t.stateNode.containerInfo),$n(r,t),Yn(t),Ms=o;break;case 12:$n(r,t),Yn(t);break;case 31:$n(r,t),Yn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Gu(t,o)));break;case 13:$n(r,t),Yn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($u=Ut()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Gu(t,o)));break;case 22:f=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,F=Mr,W=Kt;if(Mr=F||f,Kt=W||I,$n(r,t),Kt=W,Mr=F,Yn(t),o&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||I||Mr||Kt||wa(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(m=I.stateNode,f)x=m.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{w=I.stateNode;var ee=I.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ve){ft(I,I.return,ve)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(ve){ft(I,I.return,ve)}}}else if(r.tag===18){if(a===null){I=r;try{var $=I.stateNode;f?Bv($,!0):Bv(I.stateNode,!1)}catch(ve){ft(I,I.return,ve)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Gu(t,a))));break;case 19:$n(r,t),Yn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Gu(t,o)));break;case 30:break;case 21:break;default:$n(r,t),Yn(t)}}function Yn(t){var r=t.flags;if(r&2){try{for(var a,o=t.return;o!==null;){if(Py(o)){a=o;break}o=o.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,m=Jf(t);Hu(t,m,f);break;case 5:var x=a.stateNode;a.flags&32&&(Gn(x,""),a.flags&=-33);var w=Jf(t);Hu(t,w,x);break;case 3:case 4:var I=a.stateNode.containerInfo,F=Jf(t);Zf(t,F,I);break;default:throw Error(i(161))}}catch(W){ft(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Yy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Yy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Vr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Fy(t,r.alternate,r),r=r.sibling}function wa(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:pi(4,r,r.return),wa(r);break;case 1:ar(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&By(r,r.return,a),wa(r);break;case 27:$o(r.stateNode);case 26:case 5:ar(r,r.return),wa(r);break;case 22:r.memoizedState===null&&wa(r);break;case 30:wa(r);break;default:wa(r)}t=t.sibling}}function Br(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,f=t,m=r,x=m.flags;switch(m.tag){case 0:case 11:case 15:Br(f,m,a),Bo(4,m);break;case 1:if(Br(f,m,a),o=m,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){ft(o,o.return,F)}if(o=m,f=o.updateQueue,f!==null){var w=o.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)S0(I[f],w)}catch(F){ft(o,o.return,F)}}a&&x&64&&Vy(m),Lo(m,m.return);break;case 27:zy(m);case 26:case 5:Br(f,m,a),a&&o===null&&x&4&&Ly(m),Lo(m,m.return);break;case 12:Br(f,m,a);break;case 31:Br(f,m,a),a&&x&4&&Gy(f,m);break;case 13:Br(f,m,a),a&&x&4&&Qy(f,m);break;case 22:m.memoizedState===null&&Br(f,m,a),Lo(m,m.return);break;case 30:break;default:Br(f,m,a)}r=r.sibling}}function tm(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&To(a))}function nm(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&To(t))}function Os(t,r,a,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ky(t,r,a,o),r=r.sibling}function Ky(t,r,a,o){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Os(t,r,a,o),f&2048&&Bo(9,r);break;case 1:Os(t,r,a,o);break;case 3:Os(t,r,a,o),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&To(t)));break;case 12:if(f&2048){Os(t,r,a,o),t=r.stateNode;try{var m=r.memoizedProps,x=m.id,w=m.onPostCommit;typeof w=="function"&&w(x,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){ft(r,r.return,I)}}else Os(t,r,a,o);break;case 31:Os(t,r,a,o);break;case 13:Os(t,r,a,o);break;case 23:break;case 22:m=r.stateNode,x=r.alternate,r.memoizedState!==null?m._visibility&2?Os(t,r,a,o):Po(t,r):m._visibility&2?Os(t,r,a,o):(m._visibility|=2,hl(t,r,a,o,(r.subtreeFlags&10256)!==0||!1)),f&2048&&tm(x,r);break;case 24:Os(t,r,a,o),f&2048&&nm(r.alternate,r);break;default:Os(t,r,a,o)}}function hl(t,r,a,o,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=t,x=r,w=a,I=o,F=x.flags;switch(x.tag){case 0:case 11:case 15:hl(m,x,w,I,f),Bo(8,x);break;case 23:break;case 22:var W=x.stateNode;x.memoizedState!==null?W._visibility&2?hl(m,x,w,I,f):Po(m,x):(W._visibility|=2,hl(m,x,w,I,f)),f&&F&2048&&tm(x.alternate,x);break;case 24:hl(m,x,w,I,f),f&&F&2048&&nm(x.alternate,x);break;default:hl(m,x,w,I,f)}r=r.sibling}}function Po(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,o=r,f=o.flags;switch(o.tag){case 22:Po(a,o),f&2048&&tm(o.alternate,o);break;case 24:Po(a,o),f&2048&&nm(o.alternate,o);break;default:Po(a,o)}r=r.sibling}}var zo=8192;function fl(t,r,a){if(t.subtreeFlags&zo)for(t=t.child;t!==null;)Xy(t,r,a),t=t.sibling}function Xy(t,r,a){switch(t.tag){case 26:fl(t,r,a),t.flags&zo&&t.memoizedState!==null&&Fw(a,Ms,t.memoizedState,t.memoizedProps);break;case 5:fl(t,r,a);break;case 3:case 4:var o=Ms;Ms=id(t.stateNode.containerInfo),fl(t,r,a),Ms=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=zo,zo=16777216,fl(t,r,a),zo=o):fl(t,r,a));break;default:fl(t,r,a)}}function Wy(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Uo(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];cn=o,Zy(o,t)}Wy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jy(t),t=t.sibling}function Jy(t){switch(t.tag){case 0:case 11:case 15:Uo(t),t.flags&2048&&pi(9,t,t.return);break;case 3:Uo(t);break;case 12:Uo(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Qu(t)):Uo(t);break;default:Uo(t)}}function Qu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];cn=o,Zy(o,t)}Wy(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:pi(8,r,r.return),Qu(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Qu(r));break;default:Qu(r)}t=t.sibling}}function Zy(t,r){for(;cn!==null;){var a=cn;switch(a.tag){case 0:case 11:case 15:pi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:To(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,cn=o;else e:for(a=t;cn!==null;){o=cn;var f=o.sibling,m=o.return;if(qy(o),o===a){cn=null;break e}if(f!==null){f.return=m,cn=f;break e}cn=m}}}var sw={getCacheForType:function(t){var r=pn(Qt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return pn(Qt).controller.signal}},rw=typeof WeakMap=="function"?WeakMap:Map,it=0,vt=null,qe=null,Qe=0,ht=0,os=null,gi=!1,ml=!1,sm=!1,Lr=0,kt=0,yi=0,Ta=0,rm=0,cs=0,pl=0,Fo=null,Kn=null,im=!1,$u=0,ev=0,Yu=1/0,Ku=null,vi=null,Zt=0,xi=null,gl=null,Pr=0,am=0,lm=null,tv=null,qo=0,om=null;function us(){return(it&2)!==0&&Qe!==0?Qe&-Qe:X.T!==null?mm():ts()}function nv(){if(cs===0)if((Qe&536870912)===0||We){var t=Er;Er<<=1,(Er&3932160)===0&&(Er=262144),cs=t}else cs=536870912;return t=as.current,t!==null&&(t.flags|=32),cs}function Xn(t,r,a){(t===vt&&(ht===2||ht===9)||t.cancelPendingCommit!==null)&&(yl(t,0),bi(t,Qe,cs,!1)),qn(t,a),((it&2)===0||t!==vt)&&(t===vt&&((it&2)===0&&(Ta|=a),kt===4&&bi(t,Qe,cs,!1)),lr(t))}function sv(t,r,a){if((it&6)!==0)throw Error(i(327));var o=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Ft(t,r),f=o?lw(t,r):um(t,r,!0),m=o;do{if(f===0){ml&&!o&&bi(t,r,0,!1);break}else{if(a=t.current.alternate,m&&!iw(a)){f=um(t,r,!1),m=!1;continue}if(f===2){if(m=r,t.errorRecoveryDisabledLanes&m)var x=0;else x=t.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;e:{var w=t;f=Fo;var I=w.current.memoizedState.isDehydrated;if(I&&(yl(w,x).flags|=256),x=um(w,x,!1),x!==2){if(sm&&!I){w.errorRecoveryDisabledLanes|=m,Ta|=m,f=4;break e}m=Kn,Kn=f,m!==null&&(Kn===null?Kn=m:Kn.push.apply(Kn,m))}f=x}if(m=!1,f!==2)continue}}if(f===1){yl(t,0),bi(t,r,0,!0);break}e:{switch(o=t,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:bi(o,r,cs,!gi);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(f=$u+300-Ut(),10<f)){if(bi(o,r,cs,!gi),St(o,0,!0)!==0)break e;Pr=r,o.timeoutHandle=Mv(rv.bind(null,o,a,Kn,Ku,im,r,cs,Ta,pl,gi,m,"Throttled",-0,0),f);break e}rv(o,a,Kn,Ku,im,r,cs,Ta,pl,gi,m,null,-0,0)}}break}while(!0);lr(t)}function rv(t,r,a,o,f,m,x,w,I,F,W,ee,H,$){if(t.timeoutHandle=-1,ee=r.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cs},Xy(r,m,ee);var ve=(m&62914560)===m?$u-Ut():(m&4194048)===m?ev-Ut():0;if(ve=qw(ee,ve),ve!==null){Pr=m,t.cancelPendingCommit=ve(hv.bind(null,t,r,m,a,o,f,x,w,I,W,ee,null,H,$)),bi(t,m,x,!F);return}}hv(t,r,m,a,o,f,x,w,I)}function iw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],m=f.getSnapshot;f=f.value;try{if(!rs(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function bi(t,r,a,o){r&=~rm,r&=~Ta,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var f=r;0<f;){var m=31-et(f),x=1<<m;o[m]=-1,f&=~x}a!==0&&Tn(t,a,r)}function Xu(){return(it&6)===0?(Ho(0),!1):!0}function cm(){if(qe!==null){if(ht===0)var t=qe.return;else t=qe,Cr=pa=null,Sf(t),ll=null,No=0,t=qe;for(;t!==null;)Oy(t.alternate,t),t=t.return;qe=null}}function yl(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Sw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Pr=0,cm(),vt=t,qe=a=Nr(t.current,null),Qe=r,ht=0,os=null,gi=!1,ml=Ft(t,r),sm=!1,pl=cs=rm=Ta=yi=kt=0,Kn=Fo=null,im=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var f=31-et(o),m=1<<f;r|=t[f],o&=~m}return Lr=r,yu(),a}function iv(t,r){Be=null,X.H=Mo,r===al||r===Su?(r=_0(),ht=3):r===ff?(r=_0(),ht=4):ht=r===Uf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,os=r,qe===null&&(kt=1,Pu(t,vs(r,t.current)))}function av(){var t=as.current;return t===null?!0:(Qe&4194048)===Qe?Es===null:(Qe&62914560)===Qe||(Qe&536870912)!==0?t===Es:!1}function lv(){var t=X.H;return X.H=Mo,t===null?Mo:t}function ov(){var t=X.A;return X.A=sw,t}function Wu(){kt=4,gi||(Qe&4194048)!==Qe&&as.current!==null||(ml=!0),(yi&134217727)===0&&(Ta&134217727)===0||vt===null||bi(vt,Qe,cs,!1)}function um(t,r,a){var o=it;it|=2;var f=lv(),m=ov();(vt!==t||Qe!==r)&&(Ku=null,yl(t,r)),r=!1;var x=kt;e:do try{if(ht!==0&&qe!==null){var w=qe,I=os;switch(ht){case 8:cm(),x=6;break e;case 3:case 2:case 9:case 6:as.current===null&&(r=!0);var F=ht;if(ht=0,os=null,vl(t,w,I,F),a&&ml){x=0;break e}break;default:F=ht,ht=0,os=null,vl(t,w,I,F)}}aw(),x=kt;break}catch(W){iv(t,W)}while(!0);return r&&t.shellSuspendCounter++,Cr=pa=null,it=o,X.H=f,X.A=m,qe===null&&(vt=null,Qe=0,yu()),x}function aw(){for(;qe!==null;)cv(qe)}function lw(t,r){var a=it;it|=2;var o=lv(),f=ov();vt!==t||Qe!==r?(Ku=null,Yu=Ut()+500,yl(t,r)):ml=Ft(t,r);e:do try{if(ht!==0&&qe!==null){r=qe;var m=os;t:switch(ht){case 1:ht=0,os=null,vl(t,r,m,1);break;case 2:case 9:if(x0(m)){ht=0,os=null,uv(r);break}r=function(){ht!==2&&ht!==9||vt!==t||(ht=7),lr(t)},m.then(r,r);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:x0(m)?(ht=0,os=null,uv(r)):(ht=0,os=null,vl(t,r,m,7));break;case 5:var x=null;switch(qe.tag){case 26:x=qe.memoizedState;case 5:case 27:var w=qe;if(x?Kv(x):w.stateNode.complete){ht=0,os=null;var I=w.sibling;if(I!==null)qe=I;else{var F=w.return;F!==null?(qe=F,Ju(F)):qe=null}break t}}ht=0,os=null,vl(t,r,m,5);break;case 6:ht=0,os=null,vl(t,r,m,6);break;case 8:cm(),kt=6;break e;default:throw Error(i(462))}}ow();break}catch(W){iv(t,W)}while(!0);return Cr=pa=null,X.H=o,X.A=f,it=a,qe!==null?0:(vt=null,Qe=0,yu(),kt)}function ow(){for(;qe!==null&&!Fs();)cv(qe)}function cv(t){var r=ky(t.alternate,t,Lr);t.memoizedProps=t.pendingProps,r===null?Ju(t):qe=r}function uv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Ay(a,r,r.pendingProps,r.type,void 0,Qe);break;case 11:r=Ay(a,r,r.pendingProps,r.type.render,r.ref,Qe);break;case 5:Sf(r);default:Oy(a,r),r=qe=o0(r,Lr),r=ky(a,r,Lr)}t.memoizedProps=t.pendingProps,r===null?Ju(t):qe=r}function vl(t,r,a,o){Cr=pa=null,Sf(r),ll=null,No=0;var f=r.return;try{if(XE(t,f,r,a,Qe)){kt=1,Pu(t,vs(a,t.current)),qe=null;return}}catch(m){if(f!==null)throw qe=f,m;kt=1,Pu(t,vs(a,t.current)),qe=null;return}r.flags&32768?(We||o===1?t=!0:ml||(Qe&536870912)!==0?t=!1:(gi=t=!0,(o===2||o===9||o===3||o===6)&&(o=as.current,o!==null&&o.tag===13&&(o.flags|=16384))),dv(r,t)):Ju(r)}function Ju(t){var r=t;do{if((r.flags&32768)!==0){dv(r,gi);return}t=r.return;var a=ZE(r.alternate,r,Lr);if(a!==null){qe=a;return}if(r=r.sibling,r!==null){qe=r;return}qe=r=t}while(r!==null);kt===0&&(kt=5)}function dv(t,r){do{var a=ew(t.alternate,t);if(a!==null){a.flags&=32767,qe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){qe=t;return}qe=t=a}while(t!==null);kt=6,qe=null}function hv(t,r,a,o,f,m,x,w,I){t.cancelPendingCommit=null;do Zu();while(Zt!==0);if((it&6)!==0)throw Error(i(327));if(r!==null){if(r===t.current)throw Error(i(177));if(m=r.lanes|r.childLanes,m|=Wh,Ot(t,a,m,x,w,I),t===vt&&(qe=vt=null,Qe=0),gl=r,xi=t,Pr=a,am=m,lm=f,tv=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,hw(se,function(){return yv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=X.T,X.T=null,f=ce.p,ce.p=2,x=it,it|=4;try{tw(t,r,a)}finally{it=x,ce.p=f,X.T=o}}Zt=1,fv(),mv(),pv()}}function fv(){if(Zt===1){Zt=0;var t=xi,r=gl,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var o=ce.p;ce.p=2;var f=it;it|=4;try{$y(r,t);var m=Em,x=Zg(t.containerInfo),w=m.focusedElem,I=m.selectionRange;if(x!==w&&w&&w.ownerDocument&&Jg(w.ownerDocument.documentElement,w)){if(I!==null&&Qh(w)){var F=I.start,W=I.end;if(W===void 0&&(W=F),"selectionStart"in w)w.selectionStart=F,w.selectionEnd=Math.min(W,w.value.length);else{var ee=w.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var $=H.getSelection(),ve=w.textContent.length,De=Math.min(I.start,ve),yt=I.end===void 0?De:Math.min(I.end,ve);!$.extend&&De>yt&&(x=yt,yt=De,De=x);var L=Wg(w,De),V=Wg(w,yt);if(L&&V&&($.rangeCount!==1||$.anchorNode!==L.node||$.anchorOffset!==L.offset||$.focusNode!==V.node||$.focusOffset!==V.offset)){var U=ee.createRange();U.setStart(L.node,L.offset),$.removeAllRanges(),De>yt?($.addRange(U),$.extend(V.node,V.offset)):(U.setEnd(V.node,V.offset),$.addRange(U))}}}}for(ee=[],$=w;$=$.parentNode;)$.nodeType===1&&ee.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ee.length;w++){var J=ee[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}dd=!!_m,Em=_m=null}finally{it=f,ce.p=o,X.T=a}}t.current=r,Zt=2}}function mv(){if(Zt===2){Zt=0;var t=xi,r=gl,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var o=ce.p;ce.p=2;var f=it;it|=4;try{Fy(t,r.alternate,r)}finally{it=f,ce.p=o,X.T=a}}Zt=3}}function pv(){if(Zt===4||Zt===3){Zt=0,_r();var t=xi,r=gl,a=Pr,o=tv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Zt=5:(Zt=0,gl=xi=null,gv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(vi=null),Vn(a),r=r.stateNode,ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(st,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=X.T,f=ce.p,ce.p=2,X.T=null;try{for(var m=t.onRecoverableError,x=0;x<o.length;x++){var w=o[x];m(w.value,{componentStack:w.stack})}}finally{X.T=r,ce.p=f}}(Pr&3)!==0&&Zu(),lr(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===om?qo++:(qo=0,om=t):qo=0,Ho(0)}}function gv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,To(r)))}function Zu(){return fv(),mv(),pv(),yv()}function yv(){if(Zt!==5)return!1;var t=xi,r=am;am=0;var a=Vn(Pr),o=X.T,f=ce.p;try{ce.p=32>a?32:a,X.T=null,a=lm,lm=null;var m=xi,x=Pr;if(Zt=0,gl=xi=null,Pr=0,(it&6)!==0)throw Error(i(331));var w=it;if(it|=4,Jy(m.current),Ky(m,m.current,x,a),it=w,Ho(0,!1),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(st,m)}catch{}return!0}finally{ce.p=f,X.T=o,gv(t,r)}}function vv(t,r,a){r=vs(a,r),r=zf(t.stateNode,r,2),t=hi(t,r,2),t!==null&&(qn(t,2),lr(t))}function ft(t,r,a){if(t.tag===3)vv(t,t,a);else for(;r!==null;){if(r.tag===3){vv(r,t,a);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(vi===null||!vi.has(o))){t=vs(a,t),a=xy(2),o=hi(r,a,2),o!==null&&(by(a,o,r,t),qn(o,2),lr(o));break}}r=r.return}}function dm(t,r,a){var o=t.pingCache;if(o===null){o=t.pingCache=new rw;var f=new Set;o.set(r,f)}else f=o.get(r),f===void 0&&(f=new Set,o.set(r,f));f.has(a)||(sm=!0,f.add(a),t=cw.bind(null,t,r,a),r.then(t,t))}function cw(t,r,a){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,vt===t&&(Qe&a)===a&&(kt===4||kt===3&&(Qe&62914560)===Qe&&300>Ut()-$u?(it&2)===0&&yl(t,0):rm|=a,pl===Qe&&(pl=0)),lr(t)}function xv(t,r){r===0&&(r=an()),t=ha(t,r),t!==null&&(qn(t,r),lr(t))}function uw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),xv(t,a)}function dw(t,r){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(r),xv(t,a)}function hw(t,r){return lt(t,r)}var ed=null,xl=null,hm=!1,td=!1,fm=!1,_i=0;function lr(t){t!==xl&&t.next===null&&(xl===null?ed=xl=t:xl=xl.next=t),td=!0,hm||(hm=!0,mw())}function Ho(t,r){if(!fm&&td){fm=!0;do for(var a=!1,o=ed;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var m=0;else{var x=o.suspendedLanes,w=o.pingedLanes;m=(1<<31-et(42|t)+1)-1,m&=f&~(x&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,wv(o,m))}else m=Qe,m=St(o,o===vt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Ft(o,m)||(a=!0,wv(o,m));o=o.next}while(a);fm=!1}}function fw(){bv()}function bv(){td=hm=!1;var t=0;_i!==0&&Tw()&&(t=_i);for(var r=Ut(),a=null,o=ed;o!==null;){var f=o.next,m=_v(o,r);m===0?(o.next=null,a===null?ed=f:a.next=f,f===null&&(xl=a)):(a=o,(t!==0||(m&3)!==0)&&(td=!0)),o=f}Zt!==0&&Zt!==5||Ho(t),_i!==0&&(_i=0)}function _v(t,r){for(var a=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var x=31-et(m),w=1<<x,I=f[x];I===-1?((w&a)===0||(w&o)!==0)&&(f[x]=wn(w,r)):I<=r&&(t.expiredLanes|=w),m&=~w}if(r=vt,a=Qe,a=St(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===r&&(ht===2||ht===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Mn(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ft(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(o!==null&&Mn(o),Vn(a)){case 2:case 8:a=K;break;case 32:a=se;break;case 268435456:a=pe;break;default:a=se}return o=Ev.bind(null,t),a=lt(a,o),t.callbackPriority=r,t.callbackNode=a,r}return o!==null&&o!==null&&Mn(o),t.callbackPriority=2,t.callbackNode=null,2}function Ev(t,r){if(Zt!==0&&Zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Zu()&&t.callbackNode!==a)return null;var o=Qe;return o=St(t,t===vt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(sv(t,o,r),_v(t,Ut()),t.callbackNode!=null&&t.callbackNode===a?Ev.bind(null,t):null)}function wv(t,r){if(Zu())return null;sv(t,r,!0)}function mw(){Nw(function(){(it&6)!==0?lt(qs,fw):bv()})}function mm(){if(_i===0){var t=rl;t===0&&(t=hs,hs<<=1,(hs&261888)===0&&(hs=256)),_i=t}return _i}function Tv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qa(""+t)}function Sv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function pw(t,r,a,o,f){if(r==="submit"&&a&&a.stateNode===f){var m=Tv((f[ln]||null).action),x=o.submitter;x&&(r=(r=x[ln]||null)?Tv(r.formAction):x.getAttribute("formAction"),r!==null&&(m=r,x=null));var w=new er("action","action",null,o,f);t.push({event:w,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(_i!==0){var I=x?Sv(f,x):new FormData(f);Mf(a,{pending:!0,data:I,method:f.method,action:m},null,I)}}else typeof m=="function"&&(w.preventDefault(),I=x?Sv(f,x):new FormData(f),Mf(a,{pending:!0,data:I,method:f.method,action:m},m,I))},currentTarget:f}]})}}for(var pm=0;pm<Xh.length;pm++){var gm=Xh[pm],gw=gm.toLowerCase(),yw=gm[0].toUpperCase()+gm.slice(1);ks(gw,"on"+yw)}ks(n0,"onAnimationEnd"),ks(s0,"onAnimationIteration"),ks(r0,"onAnimationStart"),ks("dblclick","onDoubleClick"),ks("focusin","onFocus"),ks("focusout","onBlur"),ks(kE,"onTransitionRun"),ks(ME,"onTransitionStart"),ks(OE,"onTransitionCancel"),ks(i0,"onTransitionEnd"),Xs("onMouseEnter",["mouseout","mouseover"]),Xs("onMouseLeave",["mouseout","mouseover"]),Xs("onPointerEnter",["pointerout","pointerover"]),Xs("onPointerLeave",["pointerout","pointerover"]),Ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ks("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Go));function Nv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],f=o.event;o=o.listeners;e:{var m=void 0;if(r)for(var x=o.length-1;0<=x;x--){var w=o[x],I=w.instance,F=w.currentTarget;if(w=w.listener,I!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=F;try{m(f)}catch(W){gu(W)}f.currentTarget=null,m=I}else for(x=0;x<o.length;x++){if(w=o[x],I=w.instance,F=w.currentTarget,w=w.listener,I!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=F;try{m(f)}catch(W){gu(W)}f.currentTarget=null,m=I}}}}function He(t,r){var a=r[La];a===void 0&&(a=r[La]=new Set);var o=t+"__bubble";a.has(o)||(Av(r,t,2,!1),a.add(o))}function ym(t,r,a){var o=0;r&&(o|=4),Av(a,t,o,r)}var nd="_reactListening"+Math.random().toString(36).slice(2);function vm(t){if(!t[nd]){t[nd]=!0,no.forEach(function(a){a!=="selectionchange"&&(vw.has(a)||ym(a,!1,t),ym(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[nd]||(r[nd]=!0,ym("selectionchange",!1,r))}}function Av(t,r,a,o){switch(nx(r)){case 2:var f=Qw;break;case 8:f=$w;break;default:f=km}a=f.bind(null,r,a,t),f=void 0,!ra||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function xm(t,r,a,o,f){var m=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var x=o.tag;if(x===3||x===4){var w=o.stateNode.containerInfo;if(w===f)break;if(x===4)for(x=o.return;x!==null;){var I=x.tag;if((I===3||I===4)&&x.stateNode.containerInfo===f)return;x=x.return}for(;w!==null;){if(x=$s(w),x===null)return;if(I=x.tag,I===5||I===6||I===26||I===27){o=m=x;continue e}w=w.parentNode}}o=o.return}ni(function(){var F=m,W=ms(a),ee=[];e:{var H=a0.get(t);if(H!==void 0){var $=er,ve=t;switch(t){case"keypress":if(aa(a)===0)break e;case"keydown":case"keyup":$=fu;break;case"focusin":ve="focus",$=oa;break;case"focusout":ve="blur",$=oa;break;case"beforeblur":case"afterblur":$=oa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=v;break;case n0:case s0:case r0:$=au;break;case i0:$=T;break;case"scroll":case"scrollend":$=po;break;case"wheel":$=Q;break;case"copy":case"cut":case"paste":$=lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Sr;break;case"toggle":case"beforetoggle":$=Ve}var De=(r&4)!==0,yt=!De&&(t==="scroll"||t==="scrollend"),L=De?H!==null?H+"Capture":null:H;De=[];for(var V=F,U;V!==null;){var J=V;if(U=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||U===null||L===null||(J=Ds(V,L),J!=null&&De.push(Qo(V,J,U))),yt)break;V=V.return}0<De.length&&(H=new $(H,ve,null,a,W),ee.push({event:H,listeners:De}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",H&&a!==ho&&(ve=a.relatedTarget||a.fromElement)&&($s(ve)||ve[Gs]))break e;if(($||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,$?(ve=a.relatedTarget||a.toElement,$=F,ve=ve?$s(ve):null,ve!==null&&(yt=c(ve),De=ve.tag,ve!==yt||De!==5&&De!==27&&De!==6)&&(ve=null)):($=null,ve=F),$!==ve)){if(De=go,J="onMouseLeave",L="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(De=Sr,J="onPointerLeave",L="onPointerEnter",V="pointer"),yt=$==null?H:ns($),U=ve==null?H:ns(ve),H=new De(J,V+"leave",$,a,W),H.target=yt,H.relatedTarget=U,J=null,$s(W)===F&&(De=new De(L,V+"enter",ve,a,W),De.target=U,De.relatedTarget=yt,J=De),yt=J,$&&ve)t:{for(De=xw,L=$,V=ve,U=0,J=L;J;J=De(J))U++;J=0;for(var Ne=V;Ne;Ne=De(Ne))J++;for(;0<U-J;)L=De(L),U--;for(;0<J-U;)V=De(V),J--;for(;U--;){if(L===V||V!==null&&L===V.alternate){De=L;break t}L=De(L),V=De(V)}De=null}else De=null;$!==null&&Cv(ee,H,$,De,!1),ve!==null&&yt!==null&&Cv(ee,yt,ve,De,!0)}}e:{if(H=F?ns(F):window,$=H.nodeName&&H.nodeName.toLowerCase(),$==="select"||$==="input"&&H.type==="file")var tt=Gg;else if(qg(H))if(Qg)tt=RE;else{tt=CE;var be=AE}else $=H.nodeName,!$||$.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&Fa(F.elementType)&&(tt=Gg):tt=DE;if(tt&&(tt=tt(t,F))){Hg(ee,tt,a,W);break e}be&&be(t,H,F),t==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&oo(H,"number",H.value)}switch(be=F?ns(F):window,t){case"focusin":(qg(be)||be.contentEditable==="true")&&(Xa=be,$h=F,_o=null);break;case"focusout":_o=$h=Xa=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,e0(ee,a,W);break;case"selectionchange":if(IE)break;case"keydown":case"keyup":e0(ee,a,W)}var Pe;if(rt)e:{switch(t){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Ka?ca(t,a)&&($e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&($e="onCompositionStart");$e&&(sr&&a.locale!=="ko"&&(Ka||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Ka&&(Pe=mo()):(Zs=W,fo="value"in Zs?Zs.value:Zs.textContent,Ka=!0)),be=sd(F,$e),0<be.length&&($e=new nr($e,t,null,a,W),ee.push({event:$e,listeners:be}),Pe?$e.data=Pe:(Pe=Ya(a),Pe!==null&&($e.data=Pe)))),(Pe=gs?wE(t,a):TE(t,a))&&($e=sd(F,"onBeforeInput"),0<$e.length&&(be=new nr("onBeforeInput","beforeinput",null,a,W),ee.push({event:be,listeners:$e}),be.data=Pe)),pw(ee,t,F,a,W)}Nv(ee,r)})}function Qo(t,r,a){return{instance:t,listener:r,currentTarget:a}}function sd(t,r){for(var a=r+"Capture",o=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ds(t,a),f!=null&&o.unshift(Qo(t,f,m)),f=Ds(t,r),f!=null&&o.push(Qo(t,f,m))),t.tag===3)return o;t=t.return}return[]}function xw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Cv(t,r,a,o,f){for(var m=r._reactName,x=[];a!==null&&a!==o;){var w=a,I=w.alternate,F=w.stateNode;if(w=w.tag,I!==null&&I===o)break;w!==5&&w!==26&&w!==27||F===null||(I=F,f?(F=Ds(a,m),F!=null&&x.unshift(Qo(a,F,I))):f||(F=Ds(a,m),F!=null&&x.push(Qo(a,F,I)))),a=a.return}x.length!==0&&t.push({event:r,listeners:x})}var bw=/\r\n?/g,_w=/\u0000|\uFFFD/g;function Dv(t){return(typeof t=="string"?t:""+t).replace(bw,`
`).replace(_w,"")}function Rv(t,r){return r=Dv(r),Dv(t)===r}function gt(t,r,a,o,f,m){switch(a){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||Gn(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&Gn(t,""+o);break;case"className":ss(t,"class",o);break;case"tabIndex":ss(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ss(t,a,o);break;case"style":uo(t,o,m);break;case"data":if(r!=="object"){ss(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=qa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&gt(t,r,"name",f.name,f,null),gt(t,r,"formEncType",f.formEncType,f,null),gt(t,r,"formMethod",f.formMethod,f,null),gt(t,r,"formTarget",f.formTarget,f,null)):(gt(t,r,"encType",f.encType,f,null),gt(t,r,"method",f.method,f,null),gt(t,r,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=qa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Cs);break;case"onScroll":o!=null&&He("scroll",t);break;case"onScrollEnd":o!=null&&He("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=qa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":He("beforetoggle",t),He("toggle",t),za(t,"popover",o);break;case"xlinkActuate":Gt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Gt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Gt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Gt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Gt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Gt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":za(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=su.get(a)||a,za(t,a,o))}}function bm(t,r,a,o,f,m){switch(a){case"style":uo(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Gn(t,o):(typeof o=="number"||typeof o=="bigint")&&Gn(t,""+o);break;case"onScroll":o!=null&&He("scroll",t);break;case"onScrollEnd":o!=null&&He("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Cs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!so.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=t[ln]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(r,m,f),typeof o=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,o,f);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):za(t,a,o)}}}function yn(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",t),He("load",t);var o=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var x=a[m];if(x!=null)switch(m){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:gt(t,r,m,x,a,null)}}f&&gt(t,r,"srcSet",a.srcSet,a,null),o&&gt(t,r,"src",a.src,a,null);return;case"input":He("invalid",t);var w=m=x=f=null,I=null,F=null;for(o in a)if(a.hasOwnProperty(o)){var W=a[o];if(W!=null)switch(o){case"name":f=W;break;case"type":x=W;break;case"checked":I=W;break;case"defaultChecked":F=W;break;case"value":m=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,r));break;default:gt(t,r,o,W,a,null)}}eu(t,m,w,I,F,x,f,!1);return;case"select":He("invalid",t),o=x=m=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":x=w;break;case"multiple":o=w;default:gt(t,r,f,w,a,null)}r=m,a=x,t.multiple=!!o,r!=null?Jr(t,!!o,r,!1):a!=null&&Jr(t,!!o,a,!0);return;case"textarea":He("invalid",t),m=f=o=null;for(x in a)if(a.hasOwnProperty(x)&&(w=a[x],w!=null))switch(x){case"value":o=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:gt(t,r,x,w,a,null)}Zr(t,o,f,m);return;case"option":for(I in a)a.hasOwnProperty(I)&&(o=a[I],o!=null)&&(I==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":gt(t,r,I,o,a,null));return;case"dialog":He("beforetoggle",t),He("toggle",t),He("cancel",t),He("close",t);break;case"iframe":case"object":He("load",t);break;case"video":case"audio":for(o=0;o<Go.length;o++)He(Go[o],t);break;case"image":He("error",t),He("load",t);break;case"details":He("toggle",t);break;case"embed":case"source":case"link":He("error",t),He("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(o=a[F],o!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:gt(t,r,F,o,a,null)}return;default:if(Fa(r)){for(W in a)a.hasOwnProperty(W)&&(o=a[W],o!==void 0&&bm(t,r,W,o,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(o=a[w],o!=null&&gt(t,r,w,o,a,null))}function Ew(t,r,a,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,x=null,w=null,I=null,F=null,W=null;for($ in a){var ee=a[$];if(a.hasOwnProperty($)&&ee!=null)switch($){case"checked":break;case"value":break;case"defaultValue":I=ee;default:o.hasOwnProperty($)||gt(t,r,$,null,o,ee)}}for(var H in o){var $=o[H];if(ee=a[H],o.hasOwnProperty(H)&&($!=null||ee!=null))switch(H){case"type":m=$;break;case"name":f=$;break;case"checked":F=$;break;case"defaultChecked":W=$;break;case"value":x=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,r));break;default:$!==ee&&gt(t,r,H,$,o,ee)}}Ua(t,x,w,I,F,W,m,f);return;case"select":$=x=w=H=null;for(m in a)if(I=a[m],a.hasOwnProperty(m)&&I!=null)switch(m){case"value":break;case"multiple":$=I;default:o.hasOwnProperty(m)||gt(t,r,m,null,o,I)}for(f in o)if(m=o[f],I=a[f],o.hasOwnProperty(f)&&(m!=null||I!=null))switch(f){case"value":H=m;break;case"defaultValue":w=m;break;case"multiple":x=m;default:m!==I&&gt(t,r,f,m,o,I)}r=w,a=x,o=$,H!=null?Jr(t,!!a,H,!1):!!o!=!!a&&(r!=null?Jr(t,!!a,r,!0):Jr(t,!!a,a?[]:"",!1));return;case"textarea":$=H=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!o.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:gt(t,r,w,null,o,f)}for(x in o)if(f=o[x],m=a[x],o.hasOwnProperty(x)&&(f!=null||m!=null))switch(x){case"value":H=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&gt(t,r,x,f,o,m)}tu(t,H,$);return;case"option":for(var ve in a)H=a[ve],a.hasOwnProperty(ve)&&H!=null&&!o.hasOwnProperty(ve)&&(ve==="selected"?t.selected=!1:gt(t,r,ve,null,o,H));for(I in o)H=o[I],$=a[I],o.hasOwnProperty(I)&&H!==$&&(H!=null||$!=null)&&(I==="selected"?t.selected=H&&typeof H!="function"&&typeof H!="symbol":gt(t,r,I,H,o,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in a)H=a[De],a.hasOwnProperty(De)&&H!=null&&!o.hasOwnProperty(De)&&gt(t,r,De,null,o,H);for(F in o)if(H=o[F],$=a[F],o.hasOwnProperty(F)&&H!==$&&(H!=null||$!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,r));break;default:gt(t,r,F,H,o,$)}return;default:if(Fa(r)){for(var yt in a)H=a[yt],a.hasOwnProperty(yt)&&H!==void 0&&!o.hasOwnProperty(yt)&&bm(t,r,yt,void 0,o,H);for(W in o)H=o[W],$=a[W],!o.hasOwnProperty(W)||H===$||H===void 0&&$===void 0||bm(t,r,W,H,o,$);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!o.hasOwnProperty(L)&&gt(t,r,L,null,o,H);for(ee in o)H=o[ee],$=a[ee],!o.hasOwnProperty(ee)||H===$||H==null&&$==null||gt(t,r,ee,H,o,$)}function jv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ww(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var f=a[o],m=f.transferSize,x=f.initiatorType,w=f.duration;if(m&&w&&jv(x)){for(x=0,w=f.responseEnd,o+=1;o<a.length;o++){var I=a[o],F=I.startTime;if(F>w)break;var W=I.transferSize,ee=I.initiatorType;W&&jv(ee)&&(I=I.responseEnd,x+=W*(I<w?1:(w-F)/(I-F)))}if(--o,r+=8*(m+x)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var _m=null,Em=null;function rd(t){return t.nodeType===9?t:t.ownerDocument}function Iv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function wm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Tm=null;function Tw(){var t=window.event;return t&&t.type==="popstate"?t===Tm?!1:(Tm=t,!0):(Tm=null,!1)}var Mv=typeof setTimeout=="function"?setTimeout:void 0,Sw=typeof clearTimeout=="function"?clearTimeout:void 0,Ov=typeof Promise=="function"?Promise:void 0,Nw=typeof queueMicrotask=="function"?queueMicrotask:typeof Ov<"u"?function(t){return Ov.resolve(null).then(t).catch(Aw)}:Mv;function Aw(t){setTimeout(function(){throw t})}function Ei(t){return t==="head"}function Vv(t,r){var a=r,o=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(f),wl(r);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")$o(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,$o(a);for(var m=a.firstChild;m;){var x=m.nextSibling,w=m.nodeName;m[Qs]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=x}}else a==="body"&&$o(t.ownerDocument.body);a=f}while(a);wl(r)}function Bv(t,r){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Sm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sm(a),Pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Cw(t,r,a,o){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Qs])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=ws(t.nextSibling),t===null)break}return null}function Dw(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ws(t.nextSibling),t===null))return null;return t}function Lv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ws(t.nextSibling),t===null))return null;return t}function Nm(t){return t.data==="$?"||t.data==="$~"}function Am(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Rw(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var o=function(){r(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ws(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Cm=null;function Pv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return ws(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function zv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Uv(t,r,a){switch(r=rd(a),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function $o(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Pa(t)}var Ts=new Map,Fv=new Set;function id(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var zr=ce.d;ce.d={f:jw,r:Iw,D:kw,C:Mw,L:Ow,m:Vw,X:Lw,S:Bw,M:Pw};function jw(){var t=zr.f(),r=Xu();return t||r}function Iw(t){var r=fs(t);r!==null&&r.tag===5&&r.type==="form"?iy(r):zr.r(t)}var bl=typeof document>"u"?null:document;function qv(t,r,a){var o=bl;if(o&&typeof r=="string"&&r){var f=Hn(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Fv.has(f)||(Fv.add(f),t={rel:t,crossOrigin:a,href:r},o.querySelector(f)===null&&(r=o.createElement("link"),yn(r,"link",t),Ht(r),o.head.appendChild(r)))}}function kw(t){zr.D(t),qv("dns-prefetch",t,null)}function Mw(t,r){zr.C(t,r),qv("preconnect",t,r)}function Ow(t,r,a){zr.L(t,r,a);var o=bl;if(o&&t&&r){var f='link[rel="preload"][as="'+Hn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Hn(a.imageSizes)+'"]')):f+='[href="'+Hn(t)+'"]';var m=f;switch(r){case"style":m=_l(t);break;case"script":m=El(t)}Ts.has(m)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Ts.set(m,t),o.querySelector(f)!==null||r==="style"&&o.querySelector(Yo(m))||r==="script"&&o.querySelector(Ko(m))||(r=o.createElement("link"),yn(r,"link",t),Ht(r),o.head.appendChild(r)))}}function Vw(t,r){zr.m(t,r);var a=bl;if(a&&t){var o=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Hn(o)+'"][href="'+Hn(t)+'"]',m=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=El(t)}if(!Ts.has(m)&&(t=E({rel:"modulepreload",href:t},r),Ts.set(m,t),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ko(m)))return}o=a.createElement("link"),yn(o,"link",t),Ht(o),a.head.appendChild(o)}}}function Bw(t,r,a){zr.S(t,r,a);var o=bl;if(o&&t){var f=Ys(o).hoistableStyles,m=_l(t);r=r||"default";var x=f.get(m);if(!x){var w={loading:0,preload:null};if(x=o.querySelector(Yo(m)))w.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Ts.get(m))&&Dm(t,a);var I=x=o.createElement("link");Ht(I),yn(I,"link",t),I._p=new Promise(function(F,W){I.onload=F,I.onerror=W}),I.addEventListener("load",function(){w.loading|=1}),I.addEventListener("error",function(){w.loading|=2}),w.loading|=4,ad(x,r,o)}x={type:"stylesheet",instance:x,count:1,state:w},f.set(m,x)}}}function Lw(t,r){zr.X(t,r);var a=bl;if(a&&t){var o=Ys(a).hoistableScripts,f=El(t),m=o.get(f);m||(m=a.querySelector(Ko(f)),m||(t=E({src:t,async:!0},r),(r=Ts.get(f))&&Rm(t,r),m=a.createElement("script"),Ht(m),yn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function Pw(t,r){zr.M(t,r);var a=bl;if(a&&t){var o=Ys(a).hoistableScripts,f=El(t),m=o.get(f);m||(m=a.querySelector(Ko(f)),m||(t=E({src:t,async:!0,type:"module"},r),(r=Ts.get(f))&&Rm(t,r),m=a.createElement("script"),Ht(m),yn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function Hv(t,r,a,o){var f=(f=Te.current)?id(f):null;if(!f)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=_l(a.href),a=Ys(f).hoistableStyles,o=a.get(r),o||(o={type:"style",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=_l(a.href);var m=Ys(f).hoistableStyles,x=m.get(t);if(x||(f=f.ownerDocument||f,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,x),(m=f.querySelector(Yo(t)))&&!m._p&&(x.instance=m,x.state.loading=5),Ts.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ts.set(t,a),m||zw(f,t,a,x.state))),r&&o===null)throw Error(i(528,""));return x}if(r&&o!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=El(a),a=Ys(f).hoistableScripts,o=a.get(r),o||(o={type:"script",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function _l(t){return'href="'+Hn(t)+'"'}function Yo(t){return'link[rel="stylesheet"]['+t+"]"}function Gv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function zw(t,r,a,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),yn(r,"link",a),Ht(r),t.head.appendChild(r))}function El(t){return'[src="'+Hn(t)+'"]'}function Ko(t){return"script[async]"+t}function Qv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+Hn(a.href)+'"]');if(o)return r.instance=o,Ht(o),o;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ht(o),yn(o,"style",f),ad(o,a.precedence,t),r.instance=o;case"stylesheet":f=_l(a.href);var m=t.querySelector(Yo(f));if(m)return r.state.loading|=4,r.instance=m,Ht(m),m;o=Gv(a),(f=Ts.get(f))&&Dm(o,f),m=(t.ownerDocument||t).createElement("link"),Ht(m);var x=m;return x._p=new Promise(function(w,I){x.onload=w,x.onerror=I}),yn(m,"link",o),r.state.loading|=4,ad(m,a.precedence,t),r.instance=m;case"script":return m=El(a.src),(f=t.querySelector(Ko(m)))?(r.instance=f,Ht(f),f):(o=a,(f=Ts.get(m))&&(o=E({},a),Rm(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ht(f),yn(f,"link",o),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,ad(o,a.precedence,t));return r.instance}function ad(t,r,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,m=f,x=0;x<o.length;x++){var w=o[x];if(w.dataset.precedence===r)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Dm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Rm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var ld=null;function $v(t,r,a){if(ld===null){var o=new Map,f=ld=new Map;f.set(a,o)}else f=ld,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[Qs]||m[qt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var x=m.getAttribute(r)||"";x=t+x;var w=o.get(x);w?w.push(m):o.set(x,[m])}}return o}function Yv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function Uw(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Kv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Fw(t,r,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=_l(o.href),m=r.querySelector(Yo(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=od.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=m,Ht(m);return}m=r.ownerDocument||r,o=Gv(o),(f=Ts.get(f))&&Dm(o,f),m=m.createElement("link"),Ht(m);var x=m;x._p=new Promise(function(w,I){x.onload=w,x.onerror=I}),yn(m,"link",o),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=od.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var jm=0;function qw(t,r){return t.stylesheets&&t.count===0&&ud(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&ud(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+r);0<t.imgBytes&&jm===0&&(jm=62500*ww());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ud(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>jm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function od(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ud(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var cd=null;function ud(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,cd=new Map,r.forEach(Hw,t),cd=null,od.call(t))}function Hw(t,r){if(!(r.state.loading&4)){var a=cd.get(t);if(a)var o=a.get(null);else{a=new Map,cd.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var x=f[m];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),o=x)}o&&a.set(null,o)}f=r.instance,x=f.getAttribute("data-precedence"),m=a.get(x)||o,m===o&&a.set(null,f),a.set(x,f),this.count++,o=od.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Xo={$$typeof:Z,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function Gw(t,r,a,o,f,m,x,w,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mt(0),this.hiddenUpdates=Mt(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Xv(t,r,a,o,f,m,x,w,I,F,W,ee){return t=new Gw(t,r,a,x,I,F,W,ee,w),r=1,m===!0&&(r|=24),m=is(3,null,null,r),t.current=m,m.stateNode=t,r=uf(),r.refCount++,t.pooledCache=r,r.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:r},mf(m),t}function Wv(t){return t?(t=Za,t):Za}function Jv(t,r,a,o,f,m){f=Wv(f),o.context===null?o.context=f:o.pendingContext=f,o=di(r),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=hi(t,o,r),a!==null&&(Xn(a,t,r),Co(a,t,r))}function Zv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Im(t,r){Zv(t,r),(t=t.alternate)&&Zv(t,r)}function ex(t){if(t.tag===13||t.tag===31){var r=ha(t,67108864);r!==null&&Xn(r,t,67108864),Im(t,67108864)}}function tx(t){if(t.tag===13||t.tag===31){var r=us();r=es(r);var a=ha(t,r);a!==null&&Xn(a,t,r),Im(t,r)}}var dd=!0;function Qw(t,r,a,o){var f=X.T;X.T=null;var m=ce.p;try{ce.p=2,km(t,r,a,o)}finally{ce.p=m,X.T=f}}function $w(t,r,a,o){var f=X.T;X.T=null;var m=ce.p;try{ce.p=8,km(t,r,a,o)}finally{ce.p=m,X.T=f}}function km(t,r,a,o){if(dd){var f=Mm(o);if(f===null)xm(t,r,o,hd,a),sx(t,o);else if(Kw(f,t,r,a,o))o.stopPropagation();else if(sx(t,o),r&4&&-1<Yw.indexOf(t)){for(;f!==null;){var m=fs(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var x=Tt(m.pendingLanes);if(x!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;x;){var I=1<<31-et(x);w.entanglements[1]|=I,x&=~I}lr(m),(it&6)===0&&(Yu=Ut()+500,Ho(0))}}break;case 31:case 13:w=ha(m,2),w!==null&&Xn(w,m,2),Xu(),Im(m,2)}if(m=Mm(o),m===null&&xm(t,r,o,hd,a),m===f)break;f=m}f!==null&&o.stopPropagation()}else xm(t,r,o,null,a)}}function Mm(t){return t=ms(t),Om(t)}var hd=null;function Om(t){if(hd=null,t=$s(t),t!==null){var r=c(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=p(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return hd=t,null}function nx(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(As()){case qs:return 2;case K:return 8;case se:case ye:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Vm=!1,wi=null,Ti=null,Si=null,Wo=new Map,Jo=new Map,Ni=[],Yw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sx(t,r){switch(t){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":Wo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(r.pointerId)}}function Zo(t,r,a,o,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[f]},r!==null&&(r=fs(r),r!==null&&ex(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Kw(t,r,a,o,f){switch(r){case"focusin":return wi=Zo(wi,t,r,a,o,f),!0;case"dragenter":return Ti=Zo(Ti,t,r,a,o,f),!0;case"mouseover":return Si=Zo(Si,t,r,a,o,f),!0;case"pointerover":var m=f.pointerId;return Wo.set(m,Zo(Wo.get(m)||null,t,r,a,o,f)),!0;case"gotpointercapture":return m=f.pointerId,Jo.set(m,Zo(Jo.get(m)||null,t,r,a,o,f)),!0}return!1}function rx(t){var r=$s(t.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,hn(t.priority,function(){tx(a)});return}}else if(r===31){if(r=p(a),r!==null){t.blockedOn=r,hn(t.priority,function(){tx(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fd(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Mm(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);ho=o,a.target.dispatchEvent(o),ho=null}else return r=fs(a),r!==null&&ex(r),t.blockedOn=a,!1;r.shift()}return!0}function ix(t,r,a){fd(t)&&a.delete(r)}function Xw(){Vm=!1,wi!==null&&fd(wi)&&(wi=null),Ti!==null&&fd(Ti)&&(Ti=null),Si!==null&&fd(Si)&&(Si=null),Wo.forEach(ix),Jo.forEach(ix)}function md(t,r){t.blockedOn===r&&(t.blockedOn=null,Vm||(Vm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Xw)))}var pd=null;function ax(t){pd!==t&&(pd=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){pd===t&&(pd=null);for(var r=0;r<t.length;r+=3){var a=t[r],o=t[r+1],f=t[r+2];if(typeof o!="function"){if(Om(o||a)===null)continue;break}var m=fs(a);m!==null&&(t.splice(r,3),r-=3,Mf(m,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function wl(t){function r(I){return md(I,t)}wi!==null&&md(wi,t),Ti!==null&&md(Ti,t),Si!==null&&md(Si,t),Wo.forEach(r),Jo.forEach(r);for(var a=0;a<Ni.length;a++){var o=Ni[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ni.length&&(a=Ni[0],a.blockedOn===null);)rx(a),a.blockedOn===null&&Ni.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],m=a[o+1],x=f[ln]||null;if(typeof m=="function")x||ax(a);else if(x){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,x=m[ln]||null)w=x.formAction;else if(Om(f)!==null)continue}else w=x.action;typeof w=="function"?a[o+1]=w:(a.splice(o,3),o-=3),ax(a)}}}function lx(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(x){return f=x})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Bm(t){this._internalRoot=t}gd.prototype.render=Bm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,o=us();Jv(a,o,t,r,null,null)},gd.prototype.unmount=Bm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Jv(t.current,2,null,t,null,null),Xu(),r[Gs]=null}};function gd(t){this._internalRoot=t}gd.prototype.unstable_scheduleHydration=function(t){if(t){var r=ts();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Ni.length&&r!==0&&r<Ni[a].priority;a++);Ni.splice(a,0,t),a===0&&rx(t)}};var ox=e.version;if(ox!=="19.2.3")throw Error(i(527,ox,"19.2.3"));ce.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=y(r),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var Ww={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yd.isDisabled&&yd.supportsFiber)try{st=yd.inject(Ww),ut=yd}catch{}}return tc.createRoot=function(t,r){if(!l(t))throw Error(i(299));var a=!1,o="",f=py,m=gy,x=yy;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError)),r=Xv(t,1,!1,null,null,a,o,null,f,m,x,lx),t[Gs]=r.current,vm(t),new Bm(r)},tc.hydrateRoot=function(t,r,a){if(!l(t))throw Error(i(299));var o=!1,f="",m=py,x=gy,w=yy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),r=Xv(t,1,!0,r,a??null,o,f,I,m,x,w,lx),r.context=Wv(null),a=r.current,o=us(),o=es(o),f=di(o),f.callback=null,hi(a,f,o),a=o,r.current.lanes=a,qn(r,a),lr(r),t[Gs]=r.current,vm(t),new gd(r)},tc.version="19.2.3",tc}var vx;function lT(){if(vx)return zm.exports;vx=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),zm.exports=aT(),zm.exports}var oT=lT();let cT={data:""},uT=s=>{if(typeof window=="object"){let e=(s?s.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(s||document.head).appendChild(e),e.firstChild}return s||cT},dT=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,hT=/\/\*[^]*?\*\/|  +/g,xx=/\n+/g,ji=(s,e)=>{let n="",i="",l="";for(let c in s){let h=s[c];c[0]=="@"?c[1]=="i"?n=c+" "+h+";":i+=c[1]=="f"?ji(h,c):c+"{"+ji(h,c[1]=="k"?"":e)+"}":typeof h=="object"?i+=ji(h,e?e.replace(/([^,])+/g,p=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,g=>/&/.test(g)?g.replace(/&/g,p):p?p+" "+g:g)):c):h!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),l+=ji.p?ji.p(c,h):c+":"+h+";")}return n+(e&&l?e+"{"+l+"}":l)+i},Ur={},f1=s=>{if(typeof s=="object"){let e="";for(let n in s)e+=n+f1(s[n]);return e}return s},fT=(s,e,n,i,l)=>{let c=f1(s),h=Ur[c]||(Ur[c]=(g=>{let y=0,_=11;for(;y<g.length;)_=101*_+g.charCodeAt(y++)>>>0;return"go"+_})(c));if(!Ur[h]){let g=c!==s?s:(y=>{let _,E,S=[{}];for(;_=dT.exec(y.replace(hT,""));)_[4]?S.shift():_[3]?(E=_[3].replace(xx," ").trim(),S.unshift(S[0][E]=S[0][E]||{})):S[0][_[1]]=_[2].replace(xx," ").trim();return S[0]})(s);Ur[h]=ji(l?{["@keyframes "+h]:g}:g,n?"":"."+h)}let p=n&&Ur.g?Ur.g:null;return n&&(Ur.g=Ur[h]),((g,y,_,E)=>{E?y.data=y.data.replace(E,g):y.data.indexOf(g)===-1&&(y.data=_?g+y.data:y.data+g)})(Ur[h],e,i,p),h},mT=(s,e,n)=>s.reduce((i,l,c)=>{let h=e[c];if(h&&h.call){let p=h(n),g=p&&p.props&&p.props.className||/^go/.test(p)&&p;h=g?"."+g:p&&typeof p=="object"?p.props?"":ji(p,""):p===!1?"":p}return i+l+(h??"")},"");function hh(s){let e=this||{},n=s.call?s(e.p):s;return fT(n.unshift?n.raw?mT(n,[].slice.call(arguments,1),e.p):n.reduce((i,l)=>Object.assign(i,l&&l.call?l(e.p):l),{}):n,uT(e.target),e.g,e.o,e.k)}let m1,cp,up;hh.bind({g:1});let Hr=hh.bind({k:1});function pT(s,e,n,i){ji.p=e,m1=s,cp=n,up=i}function Xi(s,e){let n=this||{};return function(){let i=arguments;function l(c,h){let p=Object.assign({},c),g=p.className||l.className;n.p=Object.assign({theme:cp&&cp()},p),n.o=/ *go\d+/.test(g),p.className=hh.apply(n,i)+(g?" "+g:"");let y=s;return s[0]&&(y=p.as||s,delete p.as),up&&y[0]&&up(p),m1(y,p)}return l}}var gT=s=>typeof s=="function",Pd=(s,e)=>gT(s)?s(e):s,yT=(()=>{let s=0;return()=>(++s).toString()})(),p1=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");s=!e||e.matches}return s}})(),vT=20,qp="default",g1=(s,e)=>{let{toastLimit:n}=s.settings;switch(e.type){case 0:return{...s,toasts:[e.toast,...s.toasts].slice(0,n)};case 1:return{...s,toasts:s.toasts.map(h=>h.id===e.toast.id?{...h,...e.toast}:h)};case 2:let{toast:i}=e;return g1(s,{type:s.toasts.find(h=>h.id===i.id)?1:0,toast:i});case 3:let{toastId:l}=e;return{...s,toasts:s.toasts.map(h=>h.id===l||l===void 0?{...h,dismissed:!0,visible:!1}:h)};case 4:return e.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(h=>h.id!==e.toastId)};case 5:return{...s,pausedAt:e.time};case 6:let c=e.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+c}))}}},Ad=[],y1={toasts:[],pausedAt:void 0,settings:{toastLimit:vT}},cr={},v1=(s,e=qp)=>{cr[e]=g1(cr[e]||y1,s),Ad.forEach(([n,i])=>{n===e&&i(cr[e])})},x1=s=>Object.keys(cr).forEach(e=>v1(s,e)),xT=s=>Object.keys(cr).find(e=>cr[e].toasts.some(n=>n.id===s)),fh=(s=qp)=>e=>{v1(e,s)},bT={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},_T=(s={},e=qp)=>{let[n,i]=O.useState(cr[e]||y1),l=O.useRef(cr[e]);O.useEffect(()=>(l.current!==cr[e]&&i(cr[e]),Ad.push([e,i]),()=>{let h=Ad.findIndex(([p])=>p===e);h>-1&&Ad.splice(h,1)}),[e]);let c=n.toasts.map(h=>{var p,g,y;return{...s,...s[h.type],...h,removeDelay:h.removeDelay||((p=s[h.type])==null?void 0:p.removeDelay)||s?.removeDelay,duration:h.duration||((g=s[h.type])==null?void 0:g.duration)||s?.duration||bT[h.type],style:{...s.style,...(y=s[h.type])==null?void 0:y.style,...h.style}}});return{...n,toasts:c}},ET=(s,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...n,id:n?.id||yT()}),Mc=s=>(e,n)=>{let i=ET(e,s,n);return fh(i.toasterId||xT(i.id))({type:2,toast:i}),i.id},xt=(s,e)=>Mc("blank")(s,e);xt.error=Mc("error");xt.success=Mc("success");xt.loading=Mc("loading");xt.custom=Mc("custom");xt.dismiss=(s,e)=>{let n={type:3,toastId:s};e?fh(e)(n):x1(n)};xt.dismissAll=s=>xt.dismiss(void 0,s);xt.remove=(s,e)=>{let n={type:4,toastId:s};e?fh(e)(n):x1(n)};xt.removeAll=s=>xt.remove(void 0,s);xt.promise=(s,e,n)=>{let i=xt.loading(e.loading,{...n,...n?.loading});return typeof s=="function"&&(s=s()),s.then(l=>{let c=e.success?Pd(e.success,l):void 0;return c?xt.success(c,{id:i,...n,...n?.success}):xt.dismiss(i),l}).catch(l=>{let c=e.error?Pd(e.error,l):void 0;c?xt.error(c,{id:i,...n,...n?.error}):xt.dismiss(i)}),s};var wT=1e3,TT=(s,e="default")=>{let{toasts:n,pausedAt:i}=_T(s,e),l=O.useRef(new Map).current,c=O.useCallback((E,S=wT)=>{if(l.has(E))return;let R=setTimeout(()=>{l.delete(E),h({type:4,toastId:E})},S);l.set(E,R)},[]);O.useEffect(()=>{if(i)return;let E=Date.now(),S=n.map(R=>{if(R.duration===1/0)return;let P=(R.duration||0)+R.pauseDuration-(E-R.createdAt);if(P<0){R.visible&&xt.dismiss(R.id);return}return setTimeout(()=>xt.dismiss(R.id,e),P)});return()=>{S.forEach(R=>R&&clearTimeout(R))}},[n,i,e]);let h=O.useCallback(fh(e),[e]),p=O.useCallback(()=>{h({type:5,time:Date.now()})},[h]),g=O.useCallback((E,S)=>{h({type:1,toast:{id:E,height:S}})},[h]),y=O.useCallback(()=>{i&&h({type:6,time:Date.now()})},[i,h]),_=O.useCallback((E,S)=>{let{reverseOrder:R=!1,gutter:P=8,defaultPosition:G}=S||{},q=n.filter(Z=>(Z.position||G)===(E.position||G)&&Z.height),ne=q.findIndex(Z=>Z.id===E.id),le=q.filter((Z,re)=>re<ne&&Z.visible).length;return q.filter(Z=>Z.visible).slice(...R?[le+1]:[0,le]).reduce((Z,re)=>Z+(re.height||0)+P,0)},[n]);return O.useEffect(()=>{n.forEach(E=>{if(E.dismissed)c(E.id,E.removeDelay);else{let S=l.get(E.id);S&&(clearTimeout(S),l.delete(E.id))}})},[n,c]),{toasts:n,handlers:{updateHeight:g,startPause:p,endPause:y,calculateOffset:_}}},ST=Hr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,NT=Hr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,AT=Hr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,CT=Xi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ST} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${NT} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${AT} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,DT=Hr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,RT=Xi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${DT} 1s linear infinite;
`,jT=Hr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,IT=Hr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,kT=Xi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${jT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${IT} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,MT=Xi("div")`
  position: absolute;
`,OT=Xi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,VT=Hr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,BT=Xi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${VT} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,LT=({toast:s})=>{let{icon:e,type:n,iconTheme:i}=s;return e!==void 0?typeof e=="string"?O.createElement(BT,null,e):e:n==="blank"?null:O.createElement(OT,null,O.createElement(RT,{...i}),n!=="loading"&&O.createElement(MT,null,n==="error"?O.createElement(CT,{...i}):O.createElement(kT,{...i})))},PT=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,zT=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,UT="0%{opacity:0;} 100%{opacity:1;}",FT="0%{opacity:1;} 100%{opacity:0;}",qT=Xi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,HT=Xi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,GT=(s,e)=>{let n=s.includes("top")?1:-1,[i,l]=p1()?[UT,FT]:[PT(n),zT(n)];return{animation:e?`${Hr(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Hr(l)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},QT=O.memo(({toast:s,position:e,style:n,children:i})=>{let l=s.height?GT(s.position||e||"top-center",s.visible):{opacity:0},c=O.createElement(LT,{toast:s}),h=O.createElement(HT,{...s.ariaProps},Pd(s.message,s));return O.createElement(qT,{className:s.className,style:{...l,...n,...s.style}},typeof i=="function"?i({icon:c,message:h}):O.createElement(O.Fragment,null,c,h))});pT(O.createElement);var $T=({id:s,className:e,style:n,onHeightUpdate:i,children:l})=>{let c=O.useCallback(h=>{if(h){let p=()=>{let g=h.getBoundingClientRect().height;i(s,g)};p(),new MutationObserver(p).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[s,i]);return O.createElement("div",{ref:c,className:e,style:n},l)},YT=(s,e)=>{let n=s.includes("top"),i=n?{top:0}:{bottom:0},l=s.includes("center")?{justifyContent:"center"}:s.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:p1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...i,...l}},KT=hh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,vd=16,XT=({reverseOrder:s,position:e="top-center",toastOptions:n,gutter:i,children:l,toasterId:c,containerStyle:h,containerClassName:p})=>{let{toasts:g,handlers:y}=TT(n,c);return O.createElement("div",{"data-rht-toaster":c||"",style:{position:"fixed",zIndex:9999,top:vd,left:vd,right:vd,bottom:vd,pointerEvents:"none",...h},className:p,onMouseEnter:y.startPause,onMouseLeave:y.endPause},g.map(_=>{let E=_.position||e,S=y.calculateOffset(_,{reverseOrder:s,gutter:i,defaultPosition:e}),R=YT(E,S);return O.createElement($T,{id:_.id,key:_.id,onHeightUpdate:y.updateHeight,className:_.visible?KT:"",style:R},_.type==="custom"?Pd(_.message,_):l?l(_):O.createElement(QT,{toast:_,position:E}))}))},Pt=xt;const WT=()=>{};var bx={};const b1=function(s){const e=[];let n=0;for(let i=0;i<s.length;i++){let l=s.charCodeAt(i);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++i)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},JT=function(s){const e=[];let n=0,i=0;for(;n<s.length;){const l=s[n++];if(l<128)e[i++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];e[i++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],h=s[n++],p=s[n++],g=((l&7)<<18|(c&63)<<12|(h&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],h=s[n++];e[i++]=String.fromCharCode((l&15)<<12|(c&63)<<6|h&63)}}return e.join("")},_1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<s.length;l+=3){const c=s[l],h=l+1<s.length,p=h?s[l+1]:0,g=l+2<s.length,y=g?s[l+2]:0,_=c>>2,E=(c&3)<<4|p>>4;let S=(p&15)<<2|y>>6,R=y&63;g||(R=64,h||(S=64)),i.push(n[_],n[E],n[S],n[R])}return i.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(b1(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):JT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],p=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const E=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||E==null)throw new ZT;const S=c<<2|p>>4;if(i.push(S),y!==64){const R=p<<4&240|y>>2;if(i.push(R),E!==64){const P=y<<6&192|E;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class ZT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eS=function(s){const e=b1(s);return _1.encodeByteArray(e,!0)},zd=function(s){return eS(s).replace(/\./g,"")},E1=function(s){try{return _1.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nS=()=>tS().__FIREBASE_DEFAULTS__,sS=()=>{if(typeof process>"u"||typeof bx>"u")return;const s=bx.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},rS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&E1(s[1]);return e&&JSON.parse(e)},mh=()=>{try{return WT()||nS()||sS()||rS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},w1=s=>mh()?.emulatorHosts?.[s],iS=s=>{const e=w1(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},T1=()=>mh()?.config,S1=s=>mh()?.[`_${s}`];class aS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function Hl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function N1(s){return(await fetch(s,{credentials:"include"})).ok}function lS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[zd(JSON.stringify(n)),zd(JSON.stringify(h)),""].join(".")}const cc={};function oS(){const s={prod:[],emulator:[]};for(const e of Object.keys(cc))cc[e]?s.emulator.push(e):s.prod.push(e);return s}function cS(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let _x=!1;function A1(s,e){if(typeof window>"u"||typeof document>"u"||!Hl(window.location.host)||cc[s]===e||cc[s]||_x)return;cc[s]=e;function n(S){return`__firebase__banner__${S}`}const i="__firebase__banner",c=oS().prod.length>0;function h(){const S=document.getElementById(i);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,R){S.setAttribute("width","24"),S.setAttribute("id",R),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{_x=!0,h()},S}function _(S,R){S.setAttribute("id",R),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=cS(i),R=n("text"),P=document.getElementById(R)||document.createElement("span"),G=n("learnmore"),q=document.getElementById(G)||document.createElement("a"),ne=n("preprendIcon"),le=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Z=S.element;p(Z),_(q,G);const re=y();g(le,ne),Z.append(le,P,q,re),document.body.appendChild(Z)}c?(P.innerText="Preview backend disconnected.",le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}function dS(){const s=mh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function mS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pS(){const s=jn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function gS(){return!dS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yS(){try{return typeof indexedDB=="object"}catch{return!1}}function vS(){return new Promise((s,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(i),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const xS="FirebaseError";class Kr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=xS,Object.setPrototypeOf(this,Kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oc.prototype.create)}}class Oc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],h=c?bS(c,i):"Error",p=`${this.serviceName}: ${h} (${l}).`;return new Kr(l,p,i)}}function bS(s,e){return s.replace(_S,(n,i)=>{const l=e[i];return l!=null?String(l):`<${i}?>`})}const _S=/\{\$([^}]+)}/g;function ES(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function qi(s,e){if(s===e)return!0;const n=Object.keys(s),i=Object.keys(e);for(const l of n){if(!i.includes(l))return!1;const c=s[l],h=e[l];if(Ex(c)&&Ex(h)){if(!qi(c,h))return!1}else if(c!==h)return!1}for(const l of i)if(!n.includes(l))return!1;return!0}function Ex(s){return s!==null&&typeof s=="object"}function Vc(s){const e=[];for(const[n,i]of Object.entries(s))Array.isArray(i)?i.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function nc(s){const e={};return s.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[l,c]=i.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function sc(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function wS(s,e){const n=new TS(s,e);return n.subscribe.bind(n)}class TS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let l;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");SS(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:i},l.next===void 0&&(l.next=Hm),l.error===void 0&&(l.error=Hm),l.complete===void 0&&(l.complete=Hm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SS(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Hm(){}function In(s){return s&&s._delegate?s._delegate:s}class ja{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Sa="[DEFAULT]";class NS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new aS;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CS(e))try{this.getOrInitializeService({instanceIdentifier:Sa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});i.resolve(c)}catch{}}}}clearInstance(e=Sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sa){return this.instances.has(e)}getOptions(e=Sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[c,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);i===p&&h.resolve(l)}return l}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(i)??new Set;l.add(e),this.onInitCallbacks.set(i,l);const c=this.instances.get(i);return c&&e(c,i),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const l of i)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:AS(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Sa){return this.component?this.component.multipleInstances?e:Sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AS(s){return s===Sa?void 0:s}function CS(s){return s.instantiationMode==="EAGER"}class DS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ye;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ye||(Ye={}));const RS={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},jS=Ye.INFO,IS={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},kS=(s,e,...n)=>{if(e<s.logLevel)return;const i=new Date().toISOString(),l=IS[e];if(l)console[l](`[${i}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hp{constructor(e){this.name=e,this._logLevel=jS,this._logHandler=kS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const MS=(s,e)=>e.some(n=>s instanceof n);let wx,Tx;function OS(){return wx||(wx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VS(){return Tx||(Tx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C1=new WeakMap,dp=new WeakMap,D1=new WeakMap,Gm=new WeakMap,Gp=new WeakMap;function BS(s){const e=new Promise((n,i)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",h)},c=()=>{n(Bi(s.result)),l()},h=()=>{i(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&C1.set(n,s)}).catch(()=>{}),Gp.set(e,s),e}function LS(s){if(dp.has(s))return;const e=new Promise((n,i)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",h),s.removeEventListener("abort",h)},c=()=>{n(),l()},h=()=>{i(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",h),s.addEventListener("abort",h)});dp.set(s,e)}let hp={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return dp.get(s);if(e==="objectStoreNames")return s.objectStoreNames||D1.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bi(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function PS(s){hp=s(hp)}function zS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=s.call(Qm(this),e,...n);return D1.set(i,e.sort?e.sort():[e]),Bi(i)}:VS().includes(s)?function(...e){return s.apply(Qm(this),e),Bi(C1.get(this))}:function(...e){return Bi(s.apply(Qm(this),e))}}function US(s){return typeof s=="function"?zS(s):(s instanceof IDBTransaction&&LS(s),MS(s,OS())?new Proxy(s,hp):s)}function Bi(s){if(s instanceof IDBRequest)return BS(s);if(Gm.has(s))return Gm.get(s);const e=US(s);return e!==s&&(Gm.set(s,e),Gp.set(e,s)),e}const Qm=s=>Gp.get(s);function FS(s,e,{blocked:n,upgrade:i,blocking:l,terminated:c}={}){const h=indexedDB.open(s,e),p=Bi(h);return i&&h.addEventListener("upgradeneeded",g=>{i(Bi(h.result),g.oldVersion,g.newVersion,Bi(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const qS=["get","getKey","getAll","getAllKeys","count"],HS=["put","add","delete","clear"],$m=new Map;function Sx(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if($m.get(e))return $m.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,l=HS.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(l||qS.includes(n)))return;const c=async function(h,...p){const g=this.transaction(h,l?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&g.done]))[0]};return $m.set(e,c),c}PS(s=>({...s,get:(e,n,i)=>Sx(e,n)||s.get(e,n,i),has:(e,n)=>!!Sx(e,n)||s.has(e,n)}));class GS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QS(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function QS(s){return s.getComponent()?.type==="VERSION"}const fp="@firebase/app",Nx="0.14.6";const Gr=new Hp("@firebase/app"),$S="@firebase/app-compat",YS="@firebase/analytics-compat",KS="@firebase/analytics",XS="@firebase/app-check-compat",WS="@firebase/app-check",JS="@firebase/auth",ZS="@firebase/auth-compat",eN="@firebase/database",tN="@firebase/data-connect",nN="@firebase/database-compat",sN="@firebase/functions",rN="@firebase/functions-compat",iN="@firebase/installations",aN="@firebase/installations-compat",lN="@firebase/messaging",oN="@firebase/messaging-compat",cN="@firebase/performance",uN="@firebase/performance-compat",dN="@firebase/remote-config",hN="@firebase/remote-config-compat",fN="@firebase/storage",mN="@firebase/storage-compat",pN="@firebase/firestore",gN="@firebase/ai",yN="@firebase/firestore-compat",vN="firebase",xN="12.6.0";const mp="[DEFAULT]",bN={[fp]:"fire-core",[$S]:"fire-core-compat",[KS]:"fire-analytics",[YS]:"fire-analytics-compat",[WS]:"fire-app-check",[XS]:"fire-app-check-compat",[JS]:"fire-auth",[ZS]:"fire-auth-compat",[eN]:"fire-rtdb",[tN]:"fire-data-connect",[nN]:"fire-rtdb-compat",[sN]:"fire-fn",[rN]:"fire-fn-compat",[iN]:"fire-iid",[aN]:"fire-iid-compat",[lN]:"fire-fcm",[oN]:"fire-fcm-compat",[cN]:"fire-perf",[uN]:"fire-perf-compat",[dN]:"fire-rc",[hN]:"fire-rc-compat",[fN]:"fire-gcs",[mN]:"fire-gcs-compat",[pN]:"fire-fst",[yN]:"fire-fst-compat",[gN]:"fire-vertex","fire-js":"fire-js",[vN]:"fire-js-all"};const Ud=new Map,_N=new Map,pp=new Map;function Ax(s,e){try{s.container.addComponent(e)}catch(n){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Ol(s){const e=s.name;if(pp.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;pp.set(e,s);for(const n of Ud.values())Ax(n,s);for(const n of _N.values())Ax(n,s);return!0}function Qp(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Vs(s){return s==null?!1:s.settings!==void 0}const EN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Li=new Oc("app","Firebase",EN);class wN{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}const Gl=xN;function R1(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const i={name:mp,automaticDataCollectionEnabled:!0,...e},l=i.name;if(typeof l!="string"||!l)throw Li.create("bad-app-name",{appName:String(l)});if(n||(n=T1()),!n)throw Li.create("no-options");const c=Ud.get(l);if(c){if(qi(n,c.options)&&qi(i,c.config))return c;throw Li.create("duplicate-app",{appName:l})}const h=new DS(l);for(const g of pp.values())h.addComponent(g);const p=new wN(n,i,h);return Ud.set(l,p),p}function j1(s=mp){const e=Ud.get(s);if(!e&&s===mp&&T1())return R1();if(!e)throw Li.create("no-app",{appName:s});return e}function Pi(s,e,n){let i=bN[s]??s;n&&(i+=`-${n}`);const l=i.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${i}" with version "${e}":`];l&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(h.join(" "));return}Ol(new ja(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const TN="firebase-heartbeat-database",SN=1,vc="firebase-heartbeat-store";let Ym=null;function I1(){return Ym||(Ym=FS(TN,SN,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(vc)}catch(n){console.warn(n)}}}}).catch(s=>{throw Li.create("idb-open",{originalErrorMessage:s.message})})),Ym}async function NN(s){try{const n=(await I1()).transaction(vc),i=await n.objectStore(vc).get(k1(s));return await n.done,i}catch(e){if(e instanceof Kr)Gr.warn(e.message);else{const n=Li.create("idb-get",{originalErrorMessage:e?.message});Gr.warn(n.message)}}}async function Cx(s,e){try{const i=(await I1()).transaction(vc,"readwrite");await i.objectStore(vc).put(e,k1(s)),await i.done}catch(n){if(n instanceof Kr)Gr.warn(n.message);else{const i=Li.create("idb-set",{originalErrorMessage:n?.message});Gr.warn(i.message)}}}function k1(s){return`${s.name}!${s.options.appId}`}const AN=1024,CN=30;class DN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Dx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(l=>l.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>CN){const l=IN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Gr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Dx(),{heartbeatsToSend:n,unsentEntries:i}=RN(this._heartbeatsCache.heartbeats),l=zd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Gr.warn(e),""}}}function Dx(){return new Date().toISOString().substring(0,10)}function RN(s,e=AN){const n=[];let i=s.slice();for(const l of s){const c=n.find(h=>h.agent===l.agent);if(c){if(c.dates.push(l.date),Rx(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Rx(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class jN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yS()?vS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Cx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Cx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Rx(s){return zd(JSON.stringify({version:2,heartbeats:s})).length}function IN(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let i=1;i<s.length;i++)s[i].date<n&&(n=s[i].date,e=i);return e}function kN(s){Ol(new ja("platform-logger",e=>new GS(e),"PRIVATE")),Ol(new ja("heartbeat",e=>new DN(e),"PRIVATE")),Pi(fp,Nx,s),Pi(fp,Nx,"esm2020"),Pi("fire-js","")}kN("");function M1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MN=M1,O1=new Oc("auth","Firebase",M1());const Fd=new Hp("@firebase/auth");function ON(s,...e){Fd.logLevel<=Ye.WARN&&Fd.warn(`Auth (${Gl}): ${s}`,...e)}function Cd(s,...e){Fd.logLevel<=Ye.ERROR&&Fd.error(`Auth (${Gl}): ${s}`,...e)}function Ls(s,...e){throw $p(s,...e)}function ur(s,...e){return $p(s,...e)}function V1(s,e,n){const i={...MN(),[e]:n};return new Oc("auth","Firebase",i).create(e,{appName:s.name})}function zi(s){return V1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $p(s,...e){if(typeof s!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(n,...i)}return O1.create(s,...e)}function Re(s,e,...n){if(!s)throw $p(e,...n)}function Fr(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Cd(e),new Error(e)}function Qr(s,e){s||Fr(e)}function gp(){return typeof self<"u"&&self.location?.href||""}function VN(){return jx()==="http:"||jx()==="https:"}function jx(){return typeof self<"u"&&self.location?.protocol||null}function BN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VN()||fS()||"connection"in navigator)?navigator.onLine:!0}function LN(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Bc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qr(n>e,"Short delay should be less than long delay!"),this.isMobile=uS()||mS()}get(){return BN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Yp(s,e){Qr(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class B1{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const PN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const zN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UN=new Bc(3e4,6e4);function Oa(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Wi(s,e,n,i,l={}){return L1(s,l,async()=>{let c={},h={};i&&(e==="GET"?h=i:c={body:JSON.stringify(i)});const p=Vc({key:s.config.apiKey,...h}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...c};return hS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Hl(s.emulatorConfig.host)&&(y.credentials="include"),B1.fetch()(await P1(s,s.config.apiHost,n,p),y)})}async function L1(s,e,n){s._canInitEmulator=!1;const i={...PN,...e};try{const l=new qN(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw xd(s,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const p=c.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw xd(s,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw xd(s,"email-already-in-use",h);if(g==="USER_DISABLED")throw xd(s,"user-disabled",h);const _=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw V1(s,_,y);Ls(s,_)}}catch(l){if(l instanceof Kr)throw l;Ls(s,"network-request-failed",{message:String(l)})}}async function ph(s,e,n,i,l={}){const c=await Wi(s,e,n,i,l);return"mfaPendingCredential"in c&&Ls(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function P1(s,e,n,i){const l=`${e}${n}?${i}`,c=s,h=c.config.emulator?Yp(s.config,l):`${s.config.apiScheme}://${l}`;return zN.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function FN(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ur(this.auth,"network-request-failed")),UN.get())})}}function xd(s,e,n){const i={appName:s.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const l=ur(s,e,i);return l.customData._tokenResponse=n,l}function Ix(s){return s!==void 0&&s.enterprise!==void 0}class HN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return FN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GN(s,e){return Wi(s,"GET","/v2/recaptchaConfig",Oa(s,e))}async function QN(s,e){return Wi(s,"POST","/v1/accounts:delete",e)}async function qd(s,e){return Wi(s,"POST","/v1/accounts:lookup",e)}function uc(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $N(s,e=!1){const n=In(s),i=await n.getIdToken(e),l=Kp(i);Re(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,h=c?.sign_in_provider;return{claims:l,token:i,authTime:uc(Km(l.auth_time)),issuedAtTime:uc(Km(l.iat)),expirationTime:uc(Km(l.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Km(s){return Number(s)*1e3}function Kp(s){const[e,n,i]=s.split(".");if(e===void 0||n===void 0||i===void 0)return Cd("JWT malformed, contained fewer than 3 sections"),null;try{const l=E1(n);return l?JSON.parse(l):(Cd("Failed to decode base64 JWT payload"),null)}catch(l){return Cd("Caught error parsing JWT payload as JSON",l?.toString()),null}}function kx(s){const e=Kp(s);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function xc(s,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Kr&&YN(i)&&s.auth.currentUser===s&&await s.auth.signOut(),i}}function YN({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class KN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class yp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uc(this.lastLoginAt),this.creationTime=uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hd(s){const e=s.auth,n=await s.getIdToken(),i=await xc(s,qd(e,{idToken:n}));Re(i?.users.length,e,"internal-error");const l=i.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?z1(l.providerUserInfo):[],h=WN(s.providerData,c),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!h?.length,y=p?g:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new yp(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,_)}async function XN(s){const e=In(s);await Hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WN(s,e){return[...s.filter(i=>!e.some(l=>l.providerId===i.providerId)),...e]}function z1(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function JN(s,e){const n=await L1(s,{},async()=>{const i=Vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,h=await P1(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:i};return s.emulatorConfig&&Hl(s.emulatorConfig.host)&&(g.credentials="include"),B1.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZN(s,e){return Wi(s,"POST","/v2/accounts:revokeToken",Oa(s,e))}class Dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=kx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:l,expiresIn:c}=await JN(e,n);this.updateTokensAndExpiration(i,l,Number(c))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:l,expirationTime:c}=n,h=new Dl;return i&&(Re(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),l&&(Re(typeof l=="string","internal-error",{appName:e}),h.accessToken=l),c&&(Re(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dl,this.toJSON())}_performRefresh(){return Fr("not implemented")}}function Ci(s,e){Re(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Bs{constructor({uid:e,auth:n,stsTokenManager:i,...l}){this.providerId="firebase",this.proactiveRefresh=new KN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new yp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await xc(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $N(this,e)}reload(){return XN(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Hd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vs(this.auth.app))return Promise.reject(zi(this.auth));const e=await this.getIdToken();return await xc(this,QN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:R,providerData:P,stsTokenManager:G}=n;Re(E&&G,e,"internal-error");const q=Dl.fromJSON(this.name,G);Re(typeof E=="string",e,"internal-error"),Ci(i,e.name),Ci(l,e.name),Re(typeof S=="boolean",e,"internal-error"),Re(typeof R=="boolean",e,"internal-error"),Ci(c,e.name),Ci(h,e.name),Ci(p,e.name),Ci(g,e.name),Ci(y,e.name),Ci(_,e.name);const ne=new Bs({uid:E,auth:e,email:l,emailVerified:S,displayName:i,isAnonymous:R,photoURL:h,phoneNumber:c,tenantId:p,stsTokenManager:q,createdAt:y,lastLoginAt:_});return P&&Array.isArray(P)&&(ne.providerData=P.map(le=>({...le}))),g&&(ne._redirectEventId=g),ne}static async _fromIdTokenResponse(e,n,i=!1){const l=new Dl;l.updateFromServerResponse(n);const c=new Bs({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:i});return await Hd(c),c}static async _fromGetAccountInfoResponse(e,n,i){const l=n.users[0];Re(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?z1(l.providerUserInfo):[],h=!(l.email&&l.passwordHash)&&!c?.length,p=new Dl;p.updateFromIdToken(i);const g=new Bs({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new yp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const Mx=new Map;function qr(s){Qr(s instanceof Function,"Expected a class definition");let e=Mx.get(s);return e?(Qr(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Mx.set(s,e),e)}class U1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}U1.type="NONE";const Ox=U1;function Dd(s,e,n){return`firebase:${s}:${e}:${n}`}class Rl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:l,name:c}=this.auth;this.fullUserKey=Dd(this.userKey,l.apiKey,c),this.fullPersistenceKey=Dd("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qd(this.auth,{idToken:e}).catch(()=>{});return n?Bs._fromGetAccountInfoResponse(this.auth,n,e):null}return Bs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Rl(qr(Ox),e,i);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||qr(Ox);const h=Dd(i,e.config.apiKey,e.name);let p=null;for(const y of n)try{const _=await y._get(h);if(_){let E;if(typeof _=="string"){const S=await qd(e,{idToken:_}).catch(()=>{});if(!S)break;E=await Bs._fromGetAccountInfoResponse(e,S,_)}else E=Bs._fromJSON(e,_);y!==c&&(p=E),c=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Rl(c,e,i):(c=g[0],p&&await c._set(h,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new Rl(c,e,i))}}function Vx(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(G1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(F1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($1(e))return"Blackberry";if(Y1(e))return"Webos";if(q1(e))return"Safari";if((e.includes("chrome/")||H1(e))&&!e.includes("edge/"))return"Chrome";if(Q1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=s.match(n);if(i?.length===2)return i[1]}return"Other"}function F1(s=jn()){return/firefox\//i.test(s)}function q1(s=jn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function H1(s=jn()){return/crios\//i.test(s)}function G1(s=jn()){return/iemobile/i.test(s)}function Q1(s=jn()){return/android/i.test(s)}function $1(s=jn()){return/blackberry/i.test(s)}function Y1(s=jn()){return/webos/i.test(s)}function Xp(s=jn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function eA(s=jn()){return Xp(s)&&!!window.navigator?.standalone}function tA(){return pS()&&document.documentMode===10}function K1(s=jn()){return Xp(s)||Q1(s)||Y1(s)||$1(s)||/windows phone/i.test(s)||G1(s)}function X1(s,e=[]){let n;switch(s){case"Browser":n=Vx(jn());break;case"Worker":n=`${Vx(jn())}-${s}`;break;default:n=s}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gl}/${i}`}class nA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=c=>new Promise((h,p)=>{try{const g=e(c);h(g)}catch(g){p(g)}});i.onAbort=n,this.queue.push(i);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function sA(s,e={}){return Wi(s,"GET","/v2/passwordPolicy",Oa(s,e))}const rA=6;class iA{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??rA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let l=0;l<e.length;l++)i=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class aA{constructor(e,n,i,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bx(this),this.idTokenSubscription=new Bx(this),this.beforeStateQueue=new nA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=O1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Rl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qd(this,{idToken:e}),i=await Bs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vs(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=i?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&p?.user&&(i=p.user,l=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vs(this.app))return Promise.reject(zi(this));const n=e?In(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vs(this.app)?Promise.reject(zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vs(this.app)?Promise.reject(zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sA(this),n=new iA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Oc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await ZN(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qr(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await Rl.create(this,[qr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(p,this,"internal-error"),p.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,i,l);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=X1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Vs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ON(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ql(s){return In(s)}class Bx{constructor(e){this.auth=e,this.observer=null,this.addObserver=wS(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lA(s){gh=s}function W1(s){return gh.loadJS(s)}function oA(){return gh.recaptchaEnterpriseScript}function cA(){return gh.gapiScript}function uA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class dA{constructor(){this.enterprise=new hA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class hA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const fA="recaptcha-enterprise",J1="NO_RECAPTCHA";class mA{constructor(e){this.type=fA,this.auth=Ql(e)}async verify(e="verify",n=!1){async function i(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,p)=>{GN(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new HN(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function l(c,h,p){const g=window.grecaptcha;Ix(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h(J1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dA().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{i(this.auth).then(p=>{if(!n&&Ix(window.grecaptcha))l(p,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=oA();g.length!==0&&(g+=p),W1(g).then(()=>{l(p,c,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function Lx(s,e,n,i=!1,l=!1){const c=new mA(s);let h;if(l)h=J1;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Px(s,e,n,i,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Lx(s,e,n,n==="getOobCode");return i(s,c)}else return i(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Lx(s,e,n,n==="getOobCode");return i(s,h)}else return Promise.reject(c)})}function pA(s,e){const n=Qp(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(qi(c,e??{}))return l;Ls(l,"already-initialized")}return n.initialize({options:e})}function gA(s,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(qr);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(i,e?.popupRedirectResolver)}function yA(s,e,n){const i=Ql(s);Re(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const l=!1,c=Z1(e),{host:h,port:p}=vA(e),g=p===null?"":`:${p}`,y={url:`${c}//${h}${g}/`},_=Object.freeze({host:h,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!i._canInitEmulator){Re(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Re(qi(y,i.config.emulator)&&qi(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,Hl(h)?(N1(`${c}//${h}${g}`),A1("Auth",!0)):xA()}function Z1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function vA(s){const e=Z1(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(i);if(l){const c=l[1];return{host:c,port:zx(i.substr(c.length+1))}}else{const[c,h]=i.split(":");return{host:c,port:zx(h)}}}function zx(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function xA(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Wp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fr("not implemented")}_getIdTokenResponse(e){return Fr("not implemented")}_linkToIdToken(e,n){return Fr("not implemented")}_getReauthenticationResolver(e){return Fr("not implemented")}}async function bA(s,e){return Wi(s,"POST","/v1/accounts:signUp",e)}async function _A(s,e){return ph(s,"POST","/v1/accounts:signInWithPassword",Oa(s,e))}async function EA(s,e){return ph(s,"POST","/v1/accounts:signInWithEmailLink",Oa(s,e))}async function wA(s,e){return ph(s,"POST","/v1/accounts:signInWithEmailLink",Oa(s,e))}class bc extends Wp{constructor(e,n,i,l=null){super("password",i),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new bc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new bc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Px(e,n,"signInWithPassword",_A);case"emailLink":return EA(e,{email:this._email,oobCode:this._password});default:Ls(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Px(e,i,"signUpPassword",bA);case"emailLink":return wA(e,{idToken:n,email:this._email,oobCode:this._password});default:Ls(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function jl(s,e){return ph(s,"POST","/v1/accounts:signInWithIdp",Oa(s,e))}const TA="http://localhost";class Ia extends Wp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ls("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:l,...c}=n;if(!i||!l)return null;const h=new Ia(i,l);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return jl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,jl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,jl(e,n)}buildRequest(){const e={requestUri:TA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vc(n)}return e}}function SA(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NA(s){const e=nc(sc(s)).link,n=e?nc(sc(e)).deep_link_id:null,i=nc(sc(s)).deep_link_id;return(i?nc(sc(i)).link:null)||i||n||e||s}class Jp{constructor(e){const n=nc(sc(e)),i=n.apiKey??null,l=n.oobCode??null,c=SA(n.mode??null);Re(i&&l&&c,"argument-error"),this.apiKey=i,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=NA(e);try{return new Jp(n)}catch{return null}}}class $l{constructor(){this.providerId=$l.PROVIDER_ID}static credential(e,n){return bc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Jp.parseLink(n);return Re(i,"argument-error"),bc._fromEmailAndCode(e,i.code,i.tenantId)}}$l.PROVIDER_ID="password";$l.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$l.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class e_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Lc extends e_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ii extends Lc{constructor(){super("facebook.com")}static credential(e){return Ia._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ii.PROVIDER_ID="facebook.com";class ki extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ia._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ki.credential(n,i)}catch{return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com";ki.PROVIDER_ID="google.com";class Mi extends Lc{constructor(){super("github.com")}static credential(e){return Ia._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com";Mi.PROVIDER_ID="github.com";class Oi extends Lc{constructor(){super("twitter.com")}static credential(e,n){return Ia._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Oi.credential(n,i)}catch{return null}}}Oi.TWITTER_SIGN_IN_METHOD="twitter.com";Oi.PROVIDER_ID="twitter.com";class Vl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,l=!1){const c=await Bs._fromIdTokenResponse(e,i,l),h=Ux(i);return new Vl({user:c,providerId:h,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const l=Ux(i);return new Vl({user:e,providerId:l,_tokenResponse:i,operationType:n})}}function Ux(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Gd extends Kr{constructor(e,n,i,l){super(n.code,n.message),this.operationType=i,this.user=l,Object.setPrototypeOf(this,Gd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,l){return new Gd(e,n,i,l)}}function t_(s,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Gd._fromErrorAndOperation(s,c,e,i):c})}async function AA(s,e,n=!1){const i=await xc(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Vl._forOperation(s,"link",i)}async function CA(s,e,n=!1){const{auth:i}=s;if(Vs(i.app))return Promise.reject(zi(i));const l="reauthenticate";try{const c=await xc(s,t_(i,l,e,s),n);Re(c.idToken,i,"internal-error");const h=Kp(c.idToken);Re(h,i,"internal-error");const{sub:p}=h;return Re(s.uid===p,i,"user-mismatch"),Vl._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ls(i,"user-mismatch"),c}}async function n_(s,e,n=!1){if(Vs(s.app))return Promise.reject(zi(s));const i="signIn",l=await t_(s,i,e),c=await Vl._fromIdTokenResponse(s,i,l);return n||await s._updateCurrentUser(c.user),c}async function DA(s,e){return n_(Ql(s),e)}async function RA(s){const e=Ql(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function jA(s,e,n){return Vs(s.app)?Promise.reject(zi(s)):DA(In(s),$l.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&RA(s),i})}function IA(s,e,n,i){return In(s).onIdTokenChanged(e,n,i)}function kA(s,e,n){return In(s).beforeAuthStateChanged(e,n)}function MA(s,e,n,i){return In(s).onAuthStateChanged(e,n,i)}const Qd="__sak";class s_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qd,"1"),this.storage.removeItem(Qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const OA=1e3,VA=10;class r_ extends s_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=K1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),l=this.localCache[n];i!==l&&e(n,l,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const i=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const h=this.storage.getItem(i);!n&&this.localCache[i]===h||this.notifyListeners(i,h)},c=this.storage.getItem(i);tA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,VA):l()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},OA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}r_.type="LOCAL";const BA=r_;class i_ extends s_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}i_.type="SESSION";const a_=i_;function LA(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const i=new yh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:l,data:c}=n.data,h=this.handlersMap[l];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:l});const p=Array.from(h).map(async y=>y(n.origin,c)),g=await LA(p);n.ports[0].postMessage({status:"done",eventId:i,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];function Zp(s="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return s+n}class PA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,h;return new Promise((p,g)=>{const y=Zp("",20);l.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:l,onMessage(E){const S=E;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(S.data.response);break;default:clearTimeout(_),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),l.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function dr(){return window}function zA(s){dr().location.href=s}function l_(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function UA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FA(){return navigator?.serviceWorker?.controller||null}function qA(){return l_()?self:null}const o_="firebaseLocalStorageDb",HA=1,$d="firebaseLocalStorage",c_="fbase_key";class Pc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vh(s,e){return s.transaction([$d],e?"readwrite":"readonly").objectStore($d)}function GA(){const s=indexedDB.deleteDatabase(o_);return new Pc(s).toPromise()}function vp(){const s=indexedDB.open(o_,HA);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const i=s.result;try{i.createObjectStore($d,{keyPath:c_})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const i=s.result;i.objectStoreNames.contains($d)?e(i):(i.close(),await GA(),e(await vp()))})})}async function Fx(s,e,n){const i=vh(s,!0).put({[c_]:e,value:n});return new Pc(i).toPromise()}async function QA(s,e){const n=vh(s,!1).get(e),i=await new Pc(n).toPromise();return i===void 0?null:i.value}function qx(s,e){const n=vh(s,!0).delete(e);return new Pc(n).toPromise()}const $A=800,YA=3;class u_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>YA)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return l_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(qA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await UA(),!this.activeServiceWorker)return;this.sender=new PA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vp();return await Fx(e,Qd,"1"),await qx(e,Qd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Fx(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>QA(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=vh(l,!1).getAll();return new Pc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)i.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!i.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$A)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}u_.type="LOCAL";const KA=u_;new Bc(3e4,6e4);function XA(s,e){return e?qr(e):(Re(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class eg extends Wp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WA(s){return n_(s.auth,new eg(s),s.bypassAuthState)}function JA(s){const{auth:e,user:n}=s;return Re(n,e,"internal-error"),CA(n,new eg(s),s.bypassAuthState)}async function ZA(s){const{auth:e,user:n}=s;return Re(n,e,"internal-error"),AA(n,new eg(s),s.bypassAuthState)}class d_{constructor(e,n,i,l,c=!1){this.auth=e,this.resolver=i,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:l,tenantId:c,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:i,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WA;case"linkViaPopup":case"linkViaRedirect":return ZA;case"reauthViaPopup":case"reauthViaRedirect":return JA;default:Ls(this.auth,"internal-error")}}resolve(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const eC=new Bc(2e3,1e4);class Cl extends d_{constructor(e,n,i,l,c){super(e,n,l,c),this.provider=i,this.authWindow=null,this.pollId=null,Cl.currentPopupAction&&Cl.currentPopupAction.cancel(),Cl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Qr(this.filter.length===1,"Popup operations only handle one event");const e=Zp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eC.get())};e()}}Cl.currentPopupAction=null;const tC="pendingRedirect",Rd=new Map;class nC extends d_{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Rd.get(this.auth._key());if(!e){try{const i=await sC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Rd.set(this.auth._key(),e)}return this.bypassAuthState||Rd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sC(s,e){const n=aC(e),i=iC(s);if(!await i._isAvailable())return!1;const l=await i._get(n)==="true";return await i._remove(n),l}function rC(s,e){Rd.set(s._key(),e)}function iC(s){return qr(s._redirectPersistence)}function aC(s){return Dd(tC,s.config.apiKey,s.name)}async function lC(s,e,n=!1){if(Vs(s.app))return Promise.reject(zi(s));const i=Ql(s),l=XA(i,e),h=await new nC(i,l,n).execute();return h&&!n&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}const oC=600*1e3;class cC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!h_(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ur(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hx(e))}saveEventToCache(e){this.cachedEventUids.add(Hx(e)),this.lastProcessedEventTime=Date.now()}}function Hx(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function h_({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function uC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return h_(s);default:return!1}}async function dC(s,e={}){return Wi(s,"GET","/v1/projects",e)}const hC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fC=/^https?/;async function mC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await dC(s);for(const n of e)try{if(pC(n))return}catch{}Ls(s,"unauthorized-domain")}function pC(s){const e=gp(),{protocol:n,hostname:i}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&i===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===i}if(!fC.test(n))return!1;if(hC.test(s))return i===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(i)}const gC=new Bc(3e4,6e4);function Gx(){const s=dr().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function yC(s){return new Promise((e,n)=>{function i(){Gx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gx(),n(ur(s,"network-request-failed"))},timeout:gC.get()})}if(dr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(dr().gapi?.load)i();else{const l=uA("iframefcb");return dr()[l]=()=>{gapi.load?i():n(ur(s,"network-request-failed"))},W1(`${cA()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw jd=null,e})}let jd=null;function vC(s){return jd=jd||yC(s),jd}const xC=new Bc(5e3,15e3),bC="__/auth/iframe",_C="emulator/auth/iframe",EC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TC(s){const e=s.config;Re(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Yp(e,_C):`https://${s.config.authDomain}/${bC}`,i={apiKey:e.apiKey,appName:s.name,v:Gl},l=wC.get(s.config.apiHost);l&&(i.eid=l);const c=s._getFrameworks();return c.length&&(i.fw=c.join(",")),`${n}?${Vc(i).slice(1)}`}async function SC(s){const e=await vC(s),n=dr().gapi;return Re(n,s,"internal-error"),e.open({where:document.body,url:TC(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EC,dontclear:!0},i=>new Promise(async(l,c)=>{await i.restyle({setHideOnLeave:!1});const h=ur(s,"network-request-failed"),p=dr().setTimeout(()=>{c(h)},xC.get());function g(){dr().clearTimeout(p),l(i)}i.ping(g).then(g,()=>{c(h)})}))}const NC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AC=500,CC=600,DC="_blank",RC="http://localhost";class Qx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jC(s,e,n,i=AC,l=CC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const g={...NC,width:i.toString(),height:l.toString(),top:c,left:h},y=jn().toLowerCase();n&&(p=H1(y)?DC:n),F1(y)&&(e=e||RC,g.scrollbars="yes");const _=Object.entries(g).reduce((S,[R,P])=>`${S}${R}=${P},`,"");if(eA(y)&&p!=="_self")return IC(e||"",p),new Qx(null);const E=window.open(e||"",p,_);Re(E,s,"popup-blocked");try{E.focus()}catch{}return new Qx(E)}function IC(s,e){const n=document.createElement("a");n.href=s,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const kC="__/auth/handler",MC="emulator/auth/handler",OC=encodeURIComponent("fac");async function $x(s,e,n,i,l,c){Re(s.config.authDomain,s,"auth-domain-config-required"),Re(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:i,v:Gl,eventId:l};if(e instanceof e_){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",ES(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))h[_]=E}if(e instanceof Lc){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(h.scopes=_.join(","))}s.tenantId&&(h.tid=s.tenantId);const p=h;for(const _ of Object.keys(p))p[_]===void 0&&delete p[_];const g=await s._getAppCheckToken(),y=g?`#${OC}=${encodeURIComponent(g)}`:"";return`${VC(s)}?${Vc(p).slice(1)}${y}`}function VC({config:s}){return s.emulator?Yp(s,MC):`https://${s.authDomain}/${kC}`}const Xm="webStorageSupport";class BC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=a_,this._completeRedirectFn=lC,this._overrideRedirectResult=rC}async _openPopup(e,n,i,l){Qr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await $x(e,n,i,gp(),l);return jC(e,c,Zp())}async _openRedirect(e,n,i,l){await this._originValidation(e);const c=await $x(e,n,i,gp(),l);return zA(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Qr(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await SC(e),i=new cC(e);return n.register("authEvent",l=>(Re(l?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xm,{type:Xm},l=>{const c=l?.[0]?.[Xm];c!==void 0&&n(!!c),Ls(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return K1()||q1()||Xp()}}const LC=BC;var Yx="@firebase/auth",Kx="1.12.0";class PC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UC(s){Ol(new ja("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=i.options;Re(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:X1(s)},y=new aA(i,l,c,g);return gA(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ol(new ja("auth-internal",e=>{const n=Ql(e.getProvider("auth").getImmediate());return(i=>new PC(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(Yx,Kx,zC(s)),Pi(Yx,Kx,"esm2020")}const FC=300,qC=S1("authIdTokenMaxAge")||FC;let Xx=null;const HC=s=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>qC)return;const l=n?.token;Xx!==l&&(Xx=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function GC(s=j1()){const e=Qp(s,"auth");if(e.isInitialized())return e.getImmediate();const n=pA(s,{popupRedirectResolver:LC,persistence:[KA,BA,a_]}),i=S1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const h=HC(c.toString());kA(n,h,()=>h(n.currentUser)),IA(n,p=>h(p))}}const l=w1("auth");return l&&yA(n,`http://${l}`),n}function QC(){return document.getElementsByTagName("head")?.[0]??document}lA({loadJS(s){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=e,i.onerror=l=>{const c=ur("internal-error");c.customData=l,n(c)},i.type="text/javascript",i.charset="UTF-8",QC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UC("Browser");var Wx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ui,f_;(function(){var s;function e(A,N){function C(){}C.prototype=N.prototype,A.F=N.prototype,A.prototype=new C,A.prototype.constructor=A,A.D=function(M,j,B){for(var D=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)D[ze-2]=arguments[ze];return N.prototype[j].apply(M,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(A,N,C){C||(C=0);const M=Array(16);if(typeof N=="string")for(var j=0;j<16;++j)M[j]=N.charCodeAt(C++)|N.charCodeAt(C++)<<8|N.charCodeAt(C++)<<16|N.charCodeAt(C++)<<24;else for(j=0;j<16;++j)M[j]=N[C++]|N[C++]<<8|N[C++]<<16|N[C++]<<24;N=A.g[0],C=A.g[1],j=A.g[2];let B=A.g[3],D;D=N+(B^C&(j^B))+M[0]+3614090360&4294967295,N=C+(D<<7&4294967295|D>>>25),D=B+(j^N&(C^j))+M[1]+3905402710&4294967295,B=N+(D<<12&4294967295|D>>>20),D=j+(C^B&(N^C))+M[2]+606105819&4294967295,j=B+(D<<17&4294967295|D>>>15),D=C+(N^j&(B^N))+M[3]+3250441966&4294967295,C=j+(D<<22&4294967295|D>>>10),D=N+(B^C&(j^B))+M[4]+4118548399&4294967295,N=C+(D<<7&4294967295|D>>>25),D=B+(j^N&(C^j))+M[5]+1200080426&4294967295,B=N+(D<<12&4294967295|D>>>20),D=j+(C^B&(N^C))+M[6]+2821735955&4294967295,j=B+(D<<17&4294967295|D>>>15),D=C+(N^j&(B^N))+M[7]+4249261313&4294967295,C=j+(D<<22&4294967295|D>>>10),D=N+(B^C&(j^B))+M[8]+1770035416&4294967295,N=C+(D<<7&4294967295|D>>>25),D=B+(j^N&(C^j))+M[9]+2336552879&4294967295,B=N+(D<<12&4294967295|D>>>20),D=j+(C^B&(N^C))+M[10]+4294925233&4294967295,j=B+(D<<17&4294967295|D>>>15),D=C+(N^j&(B^N))+M[11]+2304563134&4294967295,C=j+(D<<22&4294967295|D>>>10),D=N+(B^C&(j^B))+M[12]+1804603682&4294967295,N=C+(D<<7&4294967295|D>>>25),D=B+(j^N&(C^j))+M[13]+4254626195&4294967295,B=N+(D<<12&4294967295|D>>>20),D=j+(C^B&(N^C))+M[14]+2792965006&4294967295,j=B+(D<<17&4294967295|D>>>15),D=C+(N^j&(B^N))+M[15]+1236535329&4294967295,C=j+(D<<22&4294967295|D>>>10),D=N+(j^B&(C^j))+M[1]+4129170786&4294967295,N=C+(D<<5&4294967295|D>>>27),D=B+(C^j&(N^C))+M[6]+3225465664&4294967295,B=N+(D<<9&4294967295|D>>>23),D=j+(N^C&(B^N))+M[11]+643717713&4294967295,j=B+(D<<14&4294967295|D>>>18),D=C+(B^N&(j^B))+M[0]+3921069994&4294967295,C=j+(D<<20&4294967295|D>>>12),D=N+(j^B&(C^j))+M[5]+3593408605&4294967295,N=C+(D<<5&4294967295|D>>>27),D=B+(C^j&(N^C))+M[10]+38016083&4294967295,B=N+(D<<9&4294967295|D>>>23),D=j+(N^C&(B^N))+M[15]+3634488961&4294967295,j=B+(D<<14&4294967295|D>>>18),D=C+(B^N&(j^B))+M[4]+3889429448&4294967295,C=j+(D<<20&4294967295|D>>>12),D=N+(j^B&(C^j))+M[9]+568446438&4294967295,N=C+(D<<5&4294967295|D>>>27),D=B+(C^j&(N^C))+M[14]+3275163606&4294967295,B=N+(D<<9&4294967295|D>>>23),D=j+(N^C&(B^N))+M[3]+4107603335&4294967295,j=B+(D<<14&4294967295|D>>>18),D=C+(B^N&(j^B))+M[8]+1163531501&4294967295,C=j+(D<<20&4294967295|D>>>12),D=N+(j^B&(C^j))+M[13]+2850285829&4294967295,N=C+(D<<5&4294967295|D>>>27),D=B+(C^j&(N^C))+M[2]+4243563512&4294967295,B=N+(D<<9&4294967295|D>>>23),D=j+(N^C&(B^N))+M[7]+1735328473&4294967295,j=B+(D<<14&4294967295|D>>>18),D=C+(B^N&(j^B))+M[12]+2368359562&4294967295,C=j+(D<<20&4294967295|D>>>12),D=N+(C^j^B)+M[5]+4294588738&4294967295,N=C+(D<<4&4294967295|D>>>28),D=B+(N^C^j)+M[8]+2272392833&4294967295,B=N+(D<<11&4294967295|D>>>21),D=j+(B^N^C)+M[11]+1839030562&4294967295,j=B+(D<<16&4294967295|D>>>16),D=C+(j^B^N)+M[14]+4259657740&4294967295,C=j+(D<<23&4294967295|D>>>9),D=N+(C^j^B)+M[1]+2763975236&4294967295,N=C+(D<<4&4294967295|D>>>28),D=B+(N^C^j)+M[4]+1272893353&4294967295,B=N+(D<<11&4294967295|D>>>21),D=j+(B^N^C)+M[7]+4139469664&4294967295,j=B+(D<<16&4294967295|D>>>16),D=C+(j^B^N)+M[10]+3200236656&4294967295,C=j+(D<<23&4294967295|D>>>9),D=N+(C^j^B)+M[13]+681279174&4294967295,N=C+(D<<4&4294967295|D>>>28),D=B+(N^C^j)+M[0]+3936430074&4294967295,B=N+(D<<11&4294967295|D>>>21),D=j+(B^N^C)+M[3]+3572445317&4294967295,j=B+(D<<16&4294967295|D>>>16),D=C+(j^B^N)+M[6]+76029189&4294967295,C=j+(D<<23&4294967295|D>>>9),D=N+(C^j^B)+M[9]+3654602809&4294967295,N=C+(D<<4&4294967295|D>>>28),D=B+(N^C^j)+M[12]+3873151461&4294967295,B=N+(D<<11&4294967295|D>>>21),D=j+(B^N^C)+M[15]+530742520&4294967295,j=B+(D<<16&4294967295|D>>>16),D=C+(j^B^N)+M[2]+3299628645&4294967295,C=j+(D<<23&4294967295|D>>>9),D=N+(j^(C|~B))+M[0]+4096336452&4294967295,N=C+(D<<6&4294967295|D>>>26),D=B+(C^(N|~j))+M[7]+1126891415&4294967295,B=N+(D<<10&4294967295|D>>>22),D=j+(N^(B|~C))+M[14]+2878612391&4294967295,j=B+(D<<15&4294967295|D>>>17),D=C+(B^(j|~N))+M[5]+4237533241&4294967295,C=j+(D<<21&4294967295|D>>>11),D=N+(j^(C|~B))+M[12]+1700485571&4294967295,N=C+(D<<6&4294967295|D>>>26),D=B+(C^(N|~j))+M[3]+2399980690&4294967295,B=N+(D<<10&4294967295|D>>>22),D=j+(N^(B|~C))+M[10]+4293915773&4294967295,j=B+(D<<15&4294967295|D>>>17),D=C+(B^(j|~N))+M[1]+2240044497&4294967295,C=j+(D<<21&4294967295|D>>>11),D=N+(j^(C|~B))+M[8]+1873313359&4294967295,N=C+(D<<6&4294967295|D>>>26),D=B+(C^(N|~j))+M[15]+4264355552&4294967295,B=N+(D<<10&4294967295|D>>>22),D=j+(N^(B|~C))+M[6]+2734768916&4294967295,j=B+(D<<15&4294967295|D>>>17),D=C+(B^(j|~N))+M[13]+1309151649&4294967295,C=j+(D<<21&4294967295|D>>>11),D=N+(j^(C|~B))+M[4]+4149444226&4294967295,N=C+(D<<6&4294967295|D>>>26),D=B+(C^(N|~j))+M[11]+3174756917&4294967295,B=N+(D<<10&4294967295|D>>>22),D=j+(N^(B|~C))+M[2]+718787259&4294967295,j=B+(D<<15&4294967295|D>>>17),D=C+(B^(j|~N))+M[9]+3951481745&4294967295,A.g[0]=A.g[0]+N&4294967295,A.g[1]=A.g[1]+(j+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+j&4294967295,A.g[3]=A.g[3]+B&4294967295}i.prototype.v=function(A,N){N===void 0&&(N=A.length);const C=N-this.blockSize,M=this.C;let j=this.h,B=0;for(;B<N;){if(j==0)for(;B<=C;)l(this,A,B),B+=this.blockSize;if(typeof A=="string"){for(;B<N;)if(M[j++]=A.charCodeAt(B++),j==this.blockSize){l(this,M),j=0;break}}else for(;B<N;)if(M[j++]=A[B++],j==this.blockSize){l(this,M),j=0;break}}this.h=j,this.o+=N},i.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var N=1;N<A.length-8;++N)A[N]=0;N=this.o*8;for(var C=A.length-8;C<A.length;++C)A[C]=N&255,N/=256;for(this.v(A),A=Array(16),N=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)A[N++]=this.g[C]>>>M&255;return A};function c(A,N){var C=p;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=N(A)}function h(A,N){this.h=N;const C=[];let M=!0;for(let j=A.length-1;j>=0;j--){const B=A[j]|0;M&&B==N||(C[j]=B,M=!1)}this.g=C}var p={};function g(A){return-128<=A&&A<128?c(A,function(N){return new h([N|0],N<0?-1:0)}):new h([A|0],A<0?-1:0)}function y(A){if(isNaN(A)||!isFinite(A))return E;if(A<0)return q(y(-A));const N=[];let C=1;for(let M=0;A>=C;M++)N[M]=A/C|0,C*=4294967296;return new h(N,0)}function _(A,N){if(A.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(A.charAt(0)=="-")return q(_(A.substring(1),N));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(N,8));let M=E;for(let B=0;B<A.length;B+=8){var j=Math.min(8,A.length-B);const D=parseInt(A.substring(B,B+j),N);j<8?(j=y(Math.pow(N,j)),M=M.j(j).add(y(D))):(M=M.j(C),M=M.add(y(D)))}return M}var E=g(0),S=g(1),R=g(16777216);s=h.prototype,s.m=function(){if(G(this))return-q(this).m();let A=0,N=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);A+=(M>=0?M:4294967296+M)*N,N*=4294967296}return A},s.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(P(this))return"0";if(G(this))return"-"+q(this).toString(A);const N=y(Math.pow(A,6));var C=this;let M="";for(;;){const j=re(C,N).g;C=ne(C,j.j(N));let B=((C.g.length>0?C.g[0]:C.h)>>>0).toString(A);if(C=j,P(C))return B+M;for(;B.length<6;)B="0"+B;M=B+M}},s.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function P(A){if(A.h!=0)return!1;for(let N=0;N<A.g.length;N++)if(A.g[N]!=0)return!1;return!0}function G(A){return A.h==-1}s.l=function(A){return A=ne(this,A),G(A)?-1:P(A)?0:1};function q(A){const N=A.g.length,C=[];for(let M=0;M<N;M++)C[M]=~A.g[M];return new h(C,~A.h).add(S)}s.abs=function(){return G(this)?q(this):this},s.add=function(A){const N=Math.max(this.g.length,A.g.length),C=[];let M=0;for(let j=0;j<=N;j++){let B=M+(this.i(j)&65535)+(A.i(j)&65535),D=(B>>>16)+(this.i(j)>>>16)+(A.i(j)>>>16);M=D>>>16,B&=65535,D&=65535,C[j]=D<<16|B}return new h(C,C[C.length-1]&-2147483648?-1:0)};function ne(A,N){return A.add(q(N))}s.j=function(A){if(P(this)||P(A))return E;if(G(this))return G(A)?q(this).j(q(A)):q(q(this).j(A));if(G(A))return q(this.j(q(A)));if(this.l(R)<0&&A.l(R)<0)return y(this.m()*A.m());const N=this.g.length+A.g.length,C=[];for(var M=0;M<2*N;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let j=0;j<A.g.length;j++){const B=this.i(M)>>>16,D=this.i(M)&65535,ze=A.i(j)>>>16,ct=A.i(j)&65535;C[2*M+2*j]+=D*ct,le(C,2*M+2*j),C[2*M+2*j+1]+=B*ct,le(C,2*M+2*j+1),C[2*M+2*j+1]+=D*ze,le(C,2*M+2*j+1),C[2*M+2*j+2]+=B*ze,le(C,2*M+2*j+2)}for(A=0;A<N;A++)C[A]=C[2*A+1]<<16|C[2*A];for(A=N;A<2*N;A++)C[A]=0;return new h(C,0)};function le(A,N){for(;(A[N]&65535)!=A[N];)A[N+1]+=A[N]>>>16,A[N]&=65535,N++}function Z(A,N){this.g=A,this.h=N}function re(A,N){if(P(N))throw Error("division by zero");if(P(A))return new Z(E,E);if(G(A))return N=re(q(A),N),new Z(q(N.g),q(N.h));if(G(N))return N=re(A,q(N)),new Z(q(N.g),N.h);if(A.g.length>30){if(G(A)||G(N))throw Error("slowDivide_ only works with positive integers.");for(var C=S,M=N;M.l(A)<=0;)C=ie(C),M=ie(M);var j=oe(C,1),B=oe(M,1);for(M=oe(M,2),C=oe(C,2);!P(M);){var D=B.add(M);D.l(A)<=0&&(j=j.add(C),B=D),M=oe(M,1),C=oe(C,1)}return N=ne(A,j.j(N)),new Z(j,N)}for(j=E;A.l(N)>=0;){for(C=Math.max(1,Math.floor(A.m()/N.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),B=y(C),D=B.j(N);G(D)||D.l(A)>0;)C-=M,B=y(C),D=B.j(N);P(B)&&(B=S),j=j.add(B),A=ne(A,D)}return new Z(j,A)}s.B=function(A){return re(this,A).h},s.and=function(A){const N=Math.max(this.g.length,A.g.length),C=[];for(let M=0;M<N;M++)C[M]=this.i(M)&A.i(M);return new h(C,this.h&A.h)},s.or=function(A){const N=Math.max(this.g.length,A.g.length),C=[];for(let M=0;M<N;M++)C[M]=this.i(M)|A.i(M);return new h(C,this.h|A.h)},s.xor=function(A){const N=Math.max(this.g.length,A.g.length),C=[];for(let M=0;M<N;M++)C[M]=this.i(M)^A.i(M);return new h(C,this.h^A.h)};function ie(A){const N=A.g.length+1,C=[];for(let M=0;M<N;M++)C[M]=A.i(M)<<1|A.i(M-1)>>>31;return new h(C,A.h)}function oe(A,N){const C=N>>5;N%=32;const M=A.g.length-C,j=[];for(let B=0;B<M;B++)j[B]=N>0?A.i(B+C)>>>N|A.i(B+C+1)<<32-N:A.i(B+C);return new h(j,A.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,f_=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=_,Ui=h}).apply(typeof Wx<"u"?Wx:typeof self<"u"?self:typeof window<"u"?window:{});var bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var m_,rc,p_,Id,xp,g_,y_,v_;(function(){var s,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof bd=="object"&&bd];for(var v=0;v<d.length;++v){var b=d[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=n(this);function l(d,v){if(v)e:{var b=i;d=d.split(".");for(var T=0;T<d.length-1;T++){var z=d[T];if(!(z in b))break e;b=b[z]}d=d[d.length-1],T=b[d],v=v(T),v!=T&&v!=null&&e(b,d,{configurable:!0,writable:!0,value:v})}}l("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(d){return d||function(v){var b=[],T;for(T in v)Object.prototype.hasOwnProperty.call(v,T)&&b.push([T,v[T]]);return b}});var c=c||{},h=this||self;function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function g(d,v,b){return d.call.apply(d.bind,arguments)}function y(d,v,b){return y=g,y.apply(null,arguments)}function _(d,v){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),d.apply(this,T)}}function E(d,v){function b(){}b.prototype=v.prototype,d.Z=v.prototype,d.prototype=new b,d.prototype.constructor=d,d.Ob=function(T,z,Q){for(var fe=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)fe[Ve-2]=arguments[Ve];return v.prototype[z].apply(T,fe)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function R(d){const v=d.length;if(v>0){const b=Array(v);for(let T=0;T<v;T++)b[T]=d[T];return b}return[]}function P(d,v){for(let T=1;T<arguments.length;T++){const z=arguments[T];var b=typeof z;if(b=b!="object"?b:z?Array.isArray(z)?"array":b:"null",b=="array"||b=="object"&&typeof z.length=="number"){b=d.length||0;const Q=z.length||0;d.length=b+Q;for(let fe=0;fe<Q;fe++)d[b+fe]=z[fe]}else d.push(z)}}class G{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function q(d){h.setTimeout(()=>{throw d},0)}function ne(){var d=A;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class le{constructor(){this.h=this.g=null}add(v,b){const T=Z.get();T.set(v,b),this.h?this.h.next=T:this.g=T,this.h=T}}var Z=new G(()=>new re,d=>d.reset());class re{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,oe=!1,A=new le,N=()=>{const d=Promise.resolve(void 0);ie=()=>{d.then(C)}};function C(){for(var d;d=ne();){try{d.h.call(d.g)}catch(b){q(b)}var v=Z;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}oe=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};h.addEventListener("test",b,v),h.removeEventListener("test",b,v)}catch{}return d})();function D(d){return/^[\s\xa0]*$/.test(d)}function ze(d,v){j.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}E(ze,j),ze.prototype.init=function(d,v){const b=this.type=d.type,T=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(b=="mouseover"?v=d.fromElement:b=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&ze.Z.h.call(this)},ze.prototype.h=function(){ze.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ct="closure_listenable_"+(Math.random()*1e6|0),X=0;function ce(d,v,b,T,z){this.listener=d,this.proxy=null,this.src=v,this.type=b,this.capture=!!T,this.ha=z,this.key=++X,this.da=this.fa=!1}function xe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function he(d,v,b){for(const T in d)v.call(b,d[T],T,d)}function we(d,v){for(const b in d)v.call(void 0,d[b],b,d)}function k(d){const v={};for(const b in d)v[b]=d[b];return v}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(d,v){let b,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(b in T)d[b]=T[b];for(let Q=0;Q<Y.length;Q++)b=Y[Q],Object.prototype.hasOwnProperty.call(T,b)&&(d[b]=T[b])}}function me(d){this.src=d,this.g={},this.h=0}me.prototype.add=function(d,v,b,T,z){const Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);const fe=Te(d,v,T,z);return fe>-1?(v=d[fe],b||(v.fa=!1)):(v=new ce(v,this.src,Q,!!T,z),v.fa=b,d.push(v)),v};function Ae(d,v){const b=v.type;if(b in d.g){var T=d.g[b],z=Array.prototype.indexOf.call(T,v,void 0),Q;(Q=z>=0)&&Array.prototype.splice.call(T,z,1),Q&&(xe(v),d.g[b].length==0&&(delete d.g[b],d.h--))}}function Te(d,v,b,T){for(let z=0;z<d.length;++z){const Q=d[z];if(!Q.da&&Q.listener==v&&Q.capture==!!b&&Q.ha==T)return z}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),at={};function Ge(d,v,b,T,z){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)Ge(d,v[Q],b,T,z);return null}return b=Us(b),d&&d[ct]?d.J(v,b,p(T)?!!T.capture:!1,z):Ue(d,v,b,!1,T,z)}function Ue(d,v,b,T,z,Q){if(!v)throw Error("Invalid event type");const fe=p(z)?!!z.capture:!!z;let Ve=En(d);if(Ve||(d[Le]=Ve=new me(d)),b=Ve.add(v,b,T,fe,Q),b.proxy)return b;if(T=zn(),b.proxy=T,T.src=d,T.listener=b,d.addEventListener)B||(z=fe),z===void 0&&(z=!1),d.addEventListener(v.toString(),T,z);else if(d.attachEvent)d.attachEvent(Rt(v.toString()),T);else if(d.addListener&&d.removeListener)d.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function zn(){function d(b){return v.call(d.src,d.listener,b)}const v=Un;return d}function Jt(d,v,b,T,z){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Jt(d,v[Q],b,T,z);else T=p(T)?!!T.capture:!!T,b=Us(b),d&&d[ct]?(d=d.i,Q=String(v).toString(),Q in d.g&&(v=d.g[Q],b=Te(v,b,T,z),b>-1&&(xe(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete d.g[Q],d.h--)))):d&&(d=En(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Te(v,b,T,z)),(b=d>-1?v[d]:null)&&kn(b))}function kn(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[ct])Ae(v.i,d);else{var b=d.type,T=d.proxy;v.removeEventListener?v.removeEventListener(b,T,d.capture):v.detachEvent?v.detachEvent(Rt(b),T):v.addListener&&v.removeListener&&v.removeListener(T),(b=En(v))?(Ae(b,d),b.h==0&&(b.src=null,v[Le]=null)):xe(d)}}}function Rt(d){return d in at?at[d]:at[d]="on"+d}function Un(d,v){if(d.da)d=!0;else{v=new ze(v,this);const b=d.listener,T=d.ha||d.src;d.fa&&kn(d),d=b.call(T,v)}return d}function En(d){return d=d[Le],d instanceof me?d:null}var zs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Us(d){return typeof d=="function"?d:(d[zs]||(d[zs]=function(v){return d.handleEvent(v)}),d[zs])}function bt(){M.call(this),this.i=new me(this),this.M=this,this.G=null}E(bt,M),bt.prototype[ct]=!0,bt.prototype.removeEventListener=function(d,v,b,T){Jt(this,d,v,b,T)};function lt(d,v){var b,T=d.G;if(T)for(b=[];T;T=T.G)b.push(T);if(d=d.M,T=v.type||v,typeof v=="string")v=new j(v,d);else if(v instanceof j)v.target=v.target||d;else{var z=v;v=new j(T,d),ue(v,z)}z=!0;let Q,fe;if(b)for(fe=b.length-1;fe>=0;fe--)Q=v.g=b[fe],z=Mn(Q,T,!0,v)&&z;if(Q=v.g=d,z=Mn(Q,T,!0,v)&&z,z=Mn(Q,T,!1,v)&&z,b)for(fe=0;fe<b.length;fe++)Q=v.g=b[fe],z=Mn(Q,T,!1,v)&&z}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const b=d.g[v];for(let T=0;T<b.length;T++)xe(b[T]);delete d.g[v],d.h--}}this.G=null},bt.prototype.J=function(d,v,b,T){return this.i.add(String(d),v,!1,b,T)},bt.prototype.K=function(d,v,b,T){return this.i.add(String(d),v,!0,b,T)};function Mn(d,v,b,T){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let z=!0;for(let Q=0;Q<v.length;++Q){const fe=v[Q];if(fe&&!fe.da&&fe.capture==b){const Ve=fe.listener,Vt=fe.ha||fe.src;fe.fa&&Ae(d.i,fe),z=Ve.call(Vt,T)!==!1&&z}}return z&&!T.defaultPrevented}function Fs(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:h.setTimeout(d,v||0)}function _r(d){d.g=Fs(()=>{d.g=null,d.i&&(d.i=!1,_r(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Ut extends M{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:_r(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function As(d){M.call(this),this.h=d,this.g={}}E(As,M);var qs=[];function K(d){he(d.g,function(v,b){this.g.hasOwnProperty(b)&&kn(v)},d),d.g={}}As.prototype.N=function(){As.Z.N.call(this),K(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var se=h.JSON.stringify,ye=h.JSON.parse,pe=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function de(){}function Se(){}var st={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ut(){j.call(this,"d")}E(ut,j);function jt(){j.call(this,"c")}E(jt,j);var et={},Fn=null;function Hs(){return Fn=Fn||new bt}et.Ia="serverreachability";function Xr(d){j.call(this,et.Ia,d)}E(Xr,j);function hs(d){const v=Hs();lt(v,new Xr(v))}et.STAT_EVENT="statevent";function Er(d,v){j.call(this,et.STAT_EVENT,d),this.stat=v}E(Er,j);function Fe(d){const v=Hs();lt(v,new Er(v,d))}et.Ja="timingevent";function Tt(d,v){j.call(this,et.Ja,d),this.size=v}E(Tt,j);function St(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},v)}function Ft(){this.g=!0}Ft.prototype.ua=function(){this.g=!1};function wn(d,v,b,T,z,Q){d.info(function(){if(d.g)if(Q){var fe="",Ve=Q.split("&");for(let rt=0;rt<Ve.length;rt++){var Vt=Ve[rt].split("=");if(Vt.length>1){const Nt=Vt[0];Vt=Vt[1];const gs=Nt.split("_");fe=gs.length>=2&&gs[1]=="type"?fe+(Nt+"="+Vt+"&"):fe+(Nt+"=redacted&")}}}else fe=null;else fe=Q;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+v+`
`+b+`
`+fe})}function an(d,v,b,T,z,Q,fe){d.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+v+`
`+b+`
`+Q+" "+fe})}function Mt(d,v,b,T){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ot(d,b)+(T?" "+T:"")})}function qn(d,v){d.info(function(){return"TIMEOUT: "+v})}Ft.prototype.info=function(){};function Ot(d,v){if(!d.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(d=0;d<Q.length;d++)if(Array.isArray(Q[d])){var b=Q[d];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var z=T[0];if(z!="noop"&&z!="stop"&&z!="close")for(let fe=1;fe<T.length;fe++)T[fe]=""}}}}return se(Q)}catch{return v}}var Tn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Sn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},On;function es(){}E(es,de),es.prototype.g=function(){return new XMLHttpRequest},On=new es;function Vn(d){return encodeURIComponent(String(d))}function ts(d){var v=1;d=d.split(":");const b=[];for(;v>0&&d.length;)b.push(d.shift()),v--;return d.length&&b.push(d.join(":")),b}function hn(d,v,b,T){this.j=d,this.i=v,this.l=b,this.S=T||1,this.V=new As(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var qt={},ln={};function Gs(d,v,b){d.M=1,d.A=ta(Gt(v)),d.u=b,d.R=!0,La(d,null)}function La(d,v){d.F=Date.now(),Qs(d),d.B=Gt(d.A);var b=d.B,T=d.S;Array.isArray(T)||(T=[String(T)]),Fa(b.i,"t",T),d.C=0,b=d.j.L,d.h=new Bn,d.g=du(d.j,b?v:null,!d.u),d.P>0&&(d.O=new Ut(y(d.Y,d,d.g),d.P)),v=d.V,b=d.g,T=d.ba;var z="readystatechange";Array.isArray(z)||(z&&(qs[0]=z.toString()),z=qs);for(let Q=0;Q<z.length;Q++){const fe=Ge(b,z[Q],T||v.handleEvent,!1,v.h||v);if(!fe)break;v.g[fe.key]=fe}v=d.J?k(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),hs(),wn(d.i,d.v,d.B,d.l,d.S,d.u)}hn.prototype.ba=function(d){d=d.target;const v=this.O;v&&Rs(d)==3?v.j():this.Y(d)},hn.prototype.Y=function(d){try{if(d==this.g)e:{const Ve=Rs(this.g),Vt=this.g.ya(),rt=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||fn(this.g)))){this.K||Ve!=4||Vt==7||(Vt==8||rt<=0?hs(3):hs(2)),$s(this);var v=this.g.ca();this.X=v;var b=qh(this);if(this.o=v==200,an(this.i,this.v,this.B,this.l,this.S,Ve,v),this.o){if(this.U&&!this.L){t:{if(this.g){var T,z=this.g;if((T=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(T)){var Q=T;break t}}Q=null}if(d=Q)Mt(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ys(this,d);else{this.o=!1,this.m=3,Fe(12),ns(this),fs(this);break e}}if(this.R){d=!0;let Nt;for(;!this.K&&this.C<b.length;)if(Nt=Jc(this,b),Nt==ln){Ve==4&&(this.m=4,Fe(14),d=!1),Mt(this.i,this.l,null,"[Incomplete Response]");break}else if(Nt==qt){this.m=4,Fe(15),Mt(this.i,this.l,b,"[Invalid Chunk]"),d=!1;break}else Mt(this.i,this.l,Nt,null),Ys(this,Nt);if(Wc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||b.length!=0||this.h.h||(this.m=1,Fe(16),d=!1),this.o=this.o&&d,!d)Mt(this.i,this.l,b,"[Invalid Chunked Response]"),ns(this),fs(this);else if(b.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),yo(fe),fe.P=!0,Fe(11))}}else Mt(this.i,this.l,b,null),Ys(this,b);Ve==4&&ns(this),this.o&&!this.K&&(Ve==4?lu(this.j,this):(this.o=!1,Qs(this)))}else Tr(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,Fe(12)):(this.m=0,Fe(13)),ns(this),fs(this)}}}catch{}};function qh(d){if(!Wc(d))return d.g.la();const v=fn(d.g);if(v==="")return"";let b="";const T=v.length,z=Rs(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return ns(d),fs(d),"";d.h.i=new h.TextDecoder}for(let Q=0;Q<T;Q++)d.h.h=!0,b+=d.h.i.decode(v[Q],{stream:!(z&&Q==T-1)});return v.length=0,d.h.g+=b,d.C=0,d.h.g}function Wc(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Jc(d,v){var b=d.C,T=v.indexOf(`
`,b);return T==-1?ln:(b=Number(v.substring(b,T)),isNaN(b)?qt:(T+=1,T+b>v.length?ln:(v=v.slice(T,T+b),d.C=T+b,v)))}hn.prototype.cancel=function(){this.K=!0,ns(this)};function Qs(d){d.T=Date.now()+d.H,Pa(d,d.H)}function Pa(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=St(y(d.aa,d),v)}function $s(d){d.D&&(h.clearTimeout(d.D),d.D=null)}hn.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(qn(this.i,this.B),this.M!=2&&(hs(),Fe(17)),ns(this),this.m=2,fs(this)):Pa(this,this.T-d)};function fs(d){d.j.I==0||d.K||lu(d.j,d)}function ns(d){$s(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,K(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function Ys(d,v){try{var b=d.j;if(b.I!=0&&(b.g==d||Xs(b.h,d))){if(!d.L&&Xs(b.h,d)&&b.I==3){try{var T=b.Ba.g.parse(v)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<d.F)$a(b),ri(b);else break e;oa(b),Fe(18)}}else b.xa=z[1],0<b.xa-b.K&&z[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=St(y(b.Va,b),6e3));Ks(b.h)<=1&&b.ta&&(b.ta=void 0)}else nr(b,11)}else if((d.L||b.g==d)&&$a(b),!D(v))for(z=b.Ba.g.parse(v),v=0;v<z.length;v++){let rt=z[v];const Nt=rt[0];if(!(Nt<=b.K))if(b.K=Nt,rt=rt[1],b.I==2)if(rt[0]=="c"){b.M=rt[1],b.ba=rt[2];const gs=rt[3];gs!=null&&(b.ka=gs,b.j.info("VER="+b.ka));const sr=rt[4];sr!=null&&(b.za=sr,b.j.info("SVER="+b.za));const js=rt[5];js!=null&&typeof js=="number"&&js>0&&(T=1.5*js,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const Is=d.g;if(Is){const ca=Is.g?Is.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ca){var Q=T.h;Q.g||ca.indexOf("spdy")==-1&&ca.indexOf("quic")==-1&&ca.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ro(Q,Q.h),Q.h=null))}if(T.G){const Ya=Is.g?Is.g.getResponseHeader("X-HTTP-Session-Id"):null;Ya&&(T.wa=Ya,dt(T.J,T.G,Ya))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-d.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var fe=d;if(T.na=uu(T,T.L?T.ba:null,T.W),fe.L){io(T.h,fe);var Ve=fe,Vt=T.O;Vt&&(Ve.H=Vt),Ve.D&&($s(Ve),Qs(Ve)),T.g=fe}else iu(T);b.i.length>0&&tr(b)}else rt[0]!="stop"&&rt[0]!="close"||nr(b,7);else b.I==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?nr(b,7):po(b):rt[0]!="noop"&&b.l&&b.l.qa(rt),b.A=0)}}hs(4)}catch{}}var Ht=class{constructor(d,v){this.g=d,this.map=v}};function no(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function so(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ks(d){return d.h?1:d.g?d.g.size:0}function Xs(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function ro(d,v){d.g?d.g.add(v):d.h=v}function io(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}no.prototype.cancel=function(){if(this.i=ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ao(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const b of d.g.values())v=v.concat(b.G);return v}return R(d.i)}var Zc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function za(d,v){if(d){d=d.split("&");for(let b=0;b<d.length;b++){const T=d[b].indexOf("=");let z,Q=null;T>=0?(z=d[b].substring(0,T),Q=d[b].substring(T+1)):z=d[b],v(z,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function ss(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof ss?(this.l=d.l,on(this,d.j),this.o=d.o,this.g=d.g,Wr(this,d.u),this.h=d.h,lo(this,su(d.i)),this.m=d.m):d&&(v=String(d).match(Zc))?(this.l=!1,on(this,v[1]||"",!0),this.o=Ws(v[2]||""),this.g=Ws(v[3]||"",!0),Wr(this,v[4]),this.h=Ws(v[5]||"",!0),lo(this,v[6]||"",!0),this.m=Ws(v[7]||"")):(this.l=!1,this.i=new Zr(null,this.l))}ss.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(na(v,Ua,!0),":");var b=this.g;return(b||v=="file")&&(d.push("//"),(v=this.o)&&d.push(na(v,Ua,!0),"@"),d.push(Vn(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&d.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(na(b,b.charAt(0)=="/"?oo:eu,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",na(b,tu)),d.join("")},ss.prototype.resolve=function(d){const v=Gt(this);let b=!!d.j;b?on(v,d.j):b=!!d.o,b?v.o=d.o:b=!!d.g,b?v.g=d.g:b=d.u!=null;var T=d.h;if(b)Wr(v,d.u);else if(b=!!d.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var z=v.h.lastIndexOf("/");z!=-1&&(T=v.h.slice(0,z+1)+T)}if(z=T,z==".."||z==".")T="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){T=z.lastIndexOf("/",0)==0,z=z.split("/");const Q=[];for(let fe=0;fe<z.length;){const Ve=z[fe++];Ve=="."?T&&fe==z.length&&Q.push(""):Ve==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),T&&fe==z.length&&Q.push("")):(Q.push(Ve),T=!0)}T=Q.join("/")}else T=z}return b?v.h=T:b=d.i.toString()!=="",b?lo(v,su(d.i)):b=!!d.m,b&&(v.m=d.m),v};function Gt(d){return new ss(d)}function on(d,v,b){d.j=b?Ws(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Wr(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function lo(d,v,b){v instanceof Zr?(d.i=v,qa(d.i,d.l)):(b||(v=na(v,Jr)),d.i=new Zr(v,d.l))}function dt(d,v,b){d.i.set(v,b)}function ta(d){return dt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Ws(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function na(d,v,b){return typeof d=="string"?(d=encodeURI(d).replace(v,Hn),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Hn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ua=/[#\/\?@]/g,eu=/[#\?:]/g,oo=/[#\?]/g,Jr=/[#\?@]/g,tu=/#/g;function Zr(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Gn(d){d.g||(d.g=new Map,d.h=0,d.i&&za(d.i,function(v,b){d.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}s=Zr.prototype,s.add=function(d,v){Gn(this),this.i=null,d=ei(this,d);let b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(v),this.h+=1,this};function nu(d,v){Gn(d),v=ei(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function co(d,v){return Gn(d),v=ei(d,v),d.g.has(v)}s.forEach=function(d,v){Gn(this),this.g.forEach(function(b,T){b.forEach(function(z){d.call(v,z,T,this)},this)},this)};function uo(d,v){Gn(d);let b=[];if(typeof v=="string")co(d,v)&&(b=b.concat(d.g.get(ei(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)b=b.concat(d[v]);return b}s.set=function(d,v){return Gn(this),this.i=null,d=ei(this,d),co(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},s.get=function(d,v){return d?(d=uo(this,d),d.length>0?String(d[0]):v):v};function Fa(d,v,b){nu(d,v),b.length>0&&(d.i=null,d.g.set(ei(d,v),R(b)),d.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let T=0;T<v.length;T++){var b=v[T];const z=Vn(b);b=uo(this,b);for(let Q=0;Q<b.length;Q++){let fe=z;b[Q]!==""&&(fe+="="+Vn(b[Q])),d.push(fe)}}return this.i=d.join("&")};function su(d){const v=new Zr;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function ei(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function qa(d,v){v&&!d.j&&(Gn(d),d.i=null,d.g.forEach(function(b,T){const z=T.toLowerCase();T!=z&&(nu(this,T),Fa(this,z,b))},d)),d.j=v}function Cs(d,v){const b=new Ft;if(h.Image){const T=new Image;T.onload=_(ms,b,"TestLoadImage: loaded",!0,v,T),T.onerror=_(ms,b,"TestLoadImage: error",!1,v,T),T.onabort=_(ms,b,"TestLoadImage: abort",!1,v,T),T.ontimeout=_(ms,b,"TestLoadImage: timeout",!1,v,T),h.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=d}else v(!1)}function ho(d,v){const b=new Ft,T=new AbortController,z=setTimeout(()=>{T.abort(),ms(b,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:T.signal}).then(Q=>{clearTimeout(z),Q.ok?ms(b,"TestPingServer: ok",!0,v):ms(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(z),ms(b,"TestPingServer: error",!1,v)})}function ms(d,v,b,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(b)}catch{}}function ti(){this.g=new pe}function Js(d){this.i=d.Sb||null,this.h=d.ab||!1}E(Js,de),Js.prototype.g=function(){return new sa(this.i,this.h)};function sa(d,v){bt.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(sa,bt),s=sa.prototype,s.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,Ds(this)},s.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||h).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},s.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ds(this)),this.g&&(this.readyState=3,Ds(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ha(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ha(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}s.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?ni(this):Ds(this),this.readyState==3&&Ha(this)}},s.Oa=function(d){this.g&&(this.response=this.responseText=d,ni(this))},s.Na=function(d){this.g&&(this.response=d,ni(this))},s.ga=function(){this.g&&ni(this)};function ni(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Ds(d)}s.setRequestHeader=function(d,v){this.A.append(d,v)},s.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=v.next();return d.join(`\r
`)};function Ds(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ps(d){let v="";return he(d,function(b,T){v+=T,v+=":",v+=b,v+=`\r
`}),v}function ra(d,v,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=ps(b),typeof d=="string"?b!=null&&Vn(b):dt(d,v,b))}function mt(d){bt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(mt,bt);var Zs=/^https?$/i,fo=["POST","PUT"];s=mt.prototype,s.Fa=function(d){this.H=d},s.ea=function(d,v,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():On.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Q){ia(this,Q);return}if(d=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)b.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const Q of T.keys())b.set(Q,T.get(Q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=h.FormData&&d instanceof h.FormData,!(Array.prototype.indexOf.call(fo,v,void 0)>=0)||T||z||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,fe]of b)this.g.setRequestHeader(Q,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Q){ia(this,Q)}};function ia(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,mo(d),wr(d)}function mo(d){d.A||(d.A=!0,lt(d,"complete"),lt(d,"error"))}s.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,lt(this,"complete"),lt(this,"abort"),wr(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wr(this,!0)),mt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?aa(this):this.Xa())},s.Xa=function(){aa(this)};function aa(d){if(d.h&&typeof c<"u"){if(d.v&&Rs(d)==4)setTimeout(d.Ca.bind(d),0);else if(lt(d,"readystatechange"),Rs(d)==4){d.h=!1;try{const Q=d.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var T;if(T=Q===0){let fe=String(d.D).match(Zc)[1]||null;!fe&&h.self&&h.self.location&&(fe=h.self.location.protocol.slice(0,-1)),T=!Zs.test(fe?fe.toLowerCase():"")}b=T}if(b)lt(d,"complete"),lt(d,"success");else{d.o=6;try{var z=Rs(d)>2?d.g.statusText:""}catch{z=""}d.l=z+" ["+d.ca()+"]",mo(d)}}finally{wr(d)}}}}function wr(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const b=d.g;d.g=null,v||lt(d,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Rs(d){return d.g?d.g.readyState:0}s.ca=function(){try{return Rs(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),ye(v)}};function fn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Tr(d){const v={};d=(d.g&&Rs(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<d.length;T++){if(D(d[T]))continue;var b=ts(d[T]);const z=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Q=v[z]||[];v[z]=Q,Q.push(b)}we(v,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function er(d,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||v}function si(d){this.za=0,this.i=[],this.j=new Ft,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=er("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=er("baseRetryDelayMs",5e3,d),this.Za=er("retryDelaySeedMs",1e4,d),this.Ta=er("forwardChannelMaxRetries",2,d),this.va=er("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new no(d&&d.concurrentRequestLimit),this.Ba=new ti,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=si.prototype,s.ka=8,s.I=1,s.connect=function(d,v,b,T){Fe(0),this.W=d,this.H=v||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=uu(this,null,this.W),tr(this)};function po(d){if(Ga(d),d.I==3){var v=d.V++,b=Gt(d.J);if(dt(b,"SID",d.M),dt(b,"RID",v),dt(b,"TYPE","terminate"),la(d,b),v=new hn(d,d.j,v),v.M=2,v.A=ta(Gt(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&h.Image&&(new Image().src=v.A,b=!0),b||(v.g=du(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Qs(v)}cu(d)}function ri(d){d.g&&(yo(d),d.g.cancel(),d.g=null)}function Ga(d){ri(d),d.v&&(h.clearTimeout(d.v),d.v=null),$a(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&h.clearTimeout(d.m),d.m=null)}function tr(d){if(!so(d.h)&&!d.m){d.m=!0;var v=d.Ea;ie||N(),oe||(ie(),oe=!0),A.add(v,d),d.D=0}}function Qa(d,v){return Ks(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=St(y(d.Ea,d,v),ou(d,d.D)),d.D++,!0)}s.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const z=new hn(this,this.j,d);let Q=this.o;if(this.U&&(Q?(Q=k(Q),ue(Q,this.U)):Q=this.U),this.u!==null||this.R||(z.J=Q,Q=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(v+=T,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=ru(this,z,v),b=Gt(this.J),dt(b,"RID",d),dt(b,"CVER",22),this.G&&dt(b,"X-HTTP-Session-Id",this.G),la(this,b),Q&&(this.R?v="headers="+Vn(ps(Q))+"&"+v:this.u&&ra(b,this.u,Q)),ro(this.h,z),this.Ra&&dt(b,"TYPE","init"),this.S?(dt(b,"$req",v),dt(b,"SID","null"),z.U=!0,Gs(z,b,null)):Gs(z,b,v),this.I=2}}else this.I==3&&(d?go(this,d):this.i.length==0||so(this.h)||go(this))};function go(d,v){var b;v?b=v.l:b=d.V++;const T=Gt(d.J);dt(T,"SID",d.M),dt(T,"RID",b),dt(T,"AID",d.K),la(d,T),d.u&&d.o&&ra(T,d.u,d.o),b=new hn(d,d.j,b,d.D+1),d.u===null&&(b.J=d.o),v&&(d.i=v.G.concat(d.i)),v=ru(d,b,1e3),b.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),ro(d.h,b),Gs(b,T,v)}function la(d,v){d.H&&he(d.H,function(b,T){dt(v,T,b)}),d.l&&he({},function(b,T){dt(v,T,b)})}function ru(d,v,b){b=Math.min(d.i.length,b);const T=d.l?y(d.l.Ka,d.l,d):null;e:{var z=d.i;let Ve=-1;for(;;){const Vt=["count="+b];Ve==-1?b>0?(Ve=z[0].g,Vt.push("ofs="+Ve)):Ve=0:Vt.push("ofs="+Ve);let rt=!0;for(let Nt=0;Nt<b;Nt++){var Q=z[Nt].g;const gs=z[Nt].map;if(Q-=Ve,Q<0)Ve=Math.max(0,z[Nt].g-100),rt=!1;else try{Q="req"+Q+"_"||"";try{var fe=gs instanceof Map?gs:Object.entries(gs);for(const[sr,js]of fe){let Is=js;p(js)&&(Is=se(js)),Vt.push(Q+sr+"="+encodeURIComponent(Is))}}catch(sr){throw Vt.push(Q+"type="+encodeURIComponent("_badmap")),sr}}catch{T&&T(gs)}}if(rt){fe=Vt.join("&");break e}}fe=void 0}return d=d.i.splice(0,b),v.G=d,fe}function iu(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;ie||N(),oe||(ie(),oe=!0),A.add(v,d),d.A=0}}function oa(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=St(y(d.Da,d),ou(d,d.A)),d.A++,!0)}s.Da=function(){if(this.v=null,au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=St(y(this.Wa,this),d)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Fe(10),ri(this),au(this))};function yo(d){d.B!=null&&(h.clearTimeout(d.B),d.B=null)}function au(d){d.g=new hn(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=Gt(d.na);dt(v,"RID","rpc"),dt(v,"SID",d.M),dt(v,"AID",d.K),dt(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&dt(v,"TO",d.ia),dt(v,"TYPE","xmlhttp"),la(d,v),d.u&&d.o&&ra(v,d.u,d.o),d.O&&(d.g.H=d.O);var b=d.g;d=d.ba,b.M=1,b.A=ta(Gt(v)),b.u=null,b.R=!0,La(b,d)}s.Va=function(){this.C!=null&&(this.C=null,ri(this),oa(this),Fe(19))};function $a(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function lu(d,v){var b=null;if(d.g==v){$a(d),yo(d),d.g=null;var T=2}else if(Xs(d.h,v))b=v.G,io(d.h,v),T=1;else return;if(d.I!=0){if(v.o)if(T==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var z=d.D;T=Hs(),lt(T,new Tt(T,b)),tr(d)}else iu(d);else if(z=v.m,z==3||z==0&&v.X>0||!(T==1&&Qa(d,v)||T==2&&oa(d)))switch(b&&b.length>0&&(v=d.h,v.i=v.i.concat(b)),z){case 1:nr(d,5);break;case 4:nr(d,10);break;case 3:nr(d,6);break;default:nr(d,2)}}}function ou(d,v){let b=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(b*=2),b*v}function nr(d,v){if(d.j.info("Error code "+v),v==2){var b=y(d.bb,d),T=d.Ua;const z=!T;T=new ss(T||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||on(T,"https"),ta(T),z?Cs(T.toString(),b):ho(T.toString(),b)}else Fe(2);d.I=0,d.l&&d.l.pa(v),cu(d),Ga(d)}s.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Fe(2)):(this.j.info("Failed to ping google.com"),Fe(1))};function cu(d){if(d.I=0,d.ja=[],d.l){const v=ao(d.h);(v.length!=0||d.i.length!=0)&&(P(d.ja,v),P(d.ja,d.i),d.h.i.length=0,R(d.i),d.i.length=0),d.l.oa()}}function uu(d,v,b){var T=b instanceof ss?Gt(b):new ss(b);if(T.g!="")v&&(T.g=v+"."+T.g),Wr(T,T.u);else{var z=h.location;T=z.protocol,v=v?v+"."+z.hostname:z.hostname,z=+z.port;const Q=new ss(null);T&&on(Q,T),v&&(Q.g=v),z&&Wr(Q,z),b&&(Q.h=b),T=Q}return b=d.G,v=d.wa,b&&v&&dt(T,b,v),dt(T,"VER",d.ka),la(d,T),T}function du(d,v,b){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new mt(new Js({ab:b})):new mt(d.ma),v.Fa(d.L),v}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function hu(){}s=hu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ii(){}ii.prototype.g=function(d,v){return new Ln(d,v)};function Ln(d,v){bt.call(this),this.g=new si(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!D(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Sr(this)}E(Ln,bt),Ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){po(this.g)},Ln.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.v&&(b={},b.__data__=se(d),d=b);v.i.push(new Ht(v.Ya++,d)),v.I==3&&tr(v)},Ln.prototype.N=function(){this.g.l=null,delete this.j,po(this.g),delete this.g,Ln.Z.N.call(this)};function fu(d){ut.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const b in v){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}E(fu,ut);function mu(){jt.call(this),this.status=1}E(mu,jt);function Sr(d){this.g=d}E(Sr,hu),Sr.prototype.ra=function(){lt(this.g,"a")},Sr.prototype.qa=function(d){lt(this.g,new fu(d))},Sr.prototype.pa=function(d){lt(this.g,new mu)},Sr.prototype.oa=function(){lt(this.g,"b")},ii.prototype.createWebChannel=ii.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,v_=function(){return new ii},y_=function(){return Hs()},g_=et,xp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tn.NO_ERROR=0,Tn.TIMEOUT=8,Tn.HTTP_ERROR=6,Id=Tn,Sn.COMPLETE="complete",p_=Sn,Se.EventType=st,st.OPEN="a",st.CLOSE="b",st.ERROR="c",st.MESSAGE="d",bt.prototype.listen=bt.prototype.J,rc=Se,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,m_=mt}).apply(typeof bd<"u"?bd:typeof self<"u"?self:typeof window<"u"?window:{});const Jx="@firebase/firestore",Zx="4.9.3";class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");let Yl="12.7.0";const ka=new Hp("@firebase/firestore");function Tl(){return ka.logLevel}function ge(s,...e){if(ka.logLevel<=Ye.DEBUG){const n=e.map(tg);ka.debug(`Firestore (${Yl}): ${s}`,...n)}}function $r(s,...e){if(ka.logLevel<=Ye.ERROR){const n=e.map(tg);ka.error(`Firestore (${Yl}): ${s}`,...n)}}function Bl(s,...e){if(ka.logLevel<=Ye.WARN){const n=e.map(tg);ka.warn(`Firestore (${Yl}): ${s}`,...n)}}function tg(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function je(s,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,x_(s,i,n)}function x_(s,e,n){let i=`FIRESTORE (${Yl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw $r(i),new Error(i)}function ot(s,e,n,i){let l="Unexpected state";typeof n=="string"?l=n:i=n,s||x_(e,l,i)}function Me(s,e){return s}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Aa{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class b_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $C{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Dn.UNAUTHENTICATED)))}shutdown(){}}class YC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class KC{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ot(this.o===void 0,42304);let i=this.i;const l=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let c=new Aa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Aa,e.enqueueRetryable((()=>l(this.currentUser)))};const h=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Aa)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ot(typeof i.accessToken=="string",31837,{l:i}),new b_(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new Dn(e)}}class XC{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WC{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new XC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class eb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ot(this.o===void 0,3512);const i=c=>{c.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,ge("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>i(c)))};const l=c=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new eb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ot(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new eb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ZC(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<s;i++)n[i]=Math.floor(256*Math.random());return n}class ng{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const l=ZC(40);for(let c=0;c<l.length;++c)i.length<20&&l[c]<n&&(i+=e.charAt(l[c]%62))}return i}}function Ke(s,e){return s<e?-1:s>e?1:0}function bp(s,e){const n=Math.min(s.length,e.length);for(let i=0;i<n;i++){const l=s.charAt(i),c=e.charAt(i);if(l!==c)return Wm(l)===Wm(c)?Ke(l,c):Wm(l)?1:-1}return Ke(s.length,e.length)}const e4=55296,t4=57343;function Wm(s){const e=s.charCodeAt(0);return e>=e4&&e<=t4}function Ll(s,e,n){return s.length===e.length&&s.every(((i,l)=>n(i,e[l])))}const tb="__name__";class or{constructor(e,n,i){n===void 0?n=0:n>e.length&&je(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&je(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return or.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof or?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let l=0;l<i;l++){const c=or.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return Ke(e.length,n.length)}static compareSegments(e,n){const i=or.isNumericId(e),l=or.isNumericId(n);return i&&!l?-1:!i&&l?1:i&&l?or.extractNumericId(e).compare(or.extractNumericId(n)):bp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ui.fromString(e.substring(4,e.length-2))}}class Ct extends or{construct(e,n,i){return new Ct(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ee(ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((l=>l.length>0)))}return new Ct(n)}static emptyPath(){return new Ct([])}}const n4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends or{construct(e,n,i){return new bn(e,n,i)}static isValidIdentifier(e){return n4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tb}static keyField(){return new bn([tb])}static fromServerFormat(e){const n=[];let i="",l=0;const c=()=>{if(i.length===0)throw new Ee(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let h=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new Ee(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Ee(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,l+=2}else p==="`"?(h=!h,l++):p!=="."||h?(i+=p,l++):(c(),l++)}if(c(),h)throw new Ee(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(n)}static emptyPath(){return new bn([])}}class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(Ct.fromString(e))}static fromName(e){return new Ce(Ct.fromString(e).popFirst(5))}static empty(){return new Ce(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new Ct(e.slice()))}}function s4(s,e,n){if(!n)throw new Ee(ae.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function r4(s,e,n,i){if(e===!0&&i===!0)throw new Ee(ae.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function nb(s){if(!Ce.isDocumentKey(s))throw new Ee(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function __(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function sg(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":je(12329,{type:typeof s})}function Fi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Ee(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sg(s);throw new Ee(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Wt(s,e){const n={typeString:s};return e&&(n.value=e),n}function zc(s,e){if(!__(s))throw new Ee(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const l=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in s)){n=`JSON missing required field: '${i}'`;break}const h=s[i];if(l&&typeof h!==l){n=`JSON field '${i}' must be a ${l}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${i}' field to equal '${c.value}'`;break}}if(n)throw new Ee(ae.INVALID_ARGUMENT,n);return!0}const sb=-62135596800,rb=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*rb);return new wt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<sb)throw new Ee(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rb}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zc(e,wt._jsonSchema))return new wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:Wt("string",wt._jsonSchemaVersion),seconds:Wt("number"),nanoseconds:Wt("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new wt(0,0))}static max(){return new Ie(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _c=-1;function i4(s,e){const n=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,l=Ie.fromTimestamp(i===1e9?new wt(n+1,0):new wt(n,i));return new Hi(l,Ce.empty(),e)}function a4(s){return new Hi(s.readTime,s.key,_c)}class Hi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Hi(Ie.min(),Ce.empty(),_c)}static max(){return new Hi(Ie.max(),Ce.empty(),_c)}}function l4(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(s.documentKey,e.documentKey),n!==0?n:Ke(s.largestBatchId,e.largestBatchId))}const o4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class c4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Kl(s){if(s.code!==ae.FAILED_PRECONDITION||s.message!==o4)throw s;ge("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((i,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(i,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,i)=>{n(e)}))}static reject(e){return new te(((n,i)=>{i(e)}))}static waitFor(e){return new te(((n,i)=>{let l=0,c=0,h=!1;e.forEach((p=>{++l,p.next((()=>{++c,h&&c===l&&n()}),(g=>i(g)))})),h=!0,c===l&&n()}))}static or(e){let n=te.resolve(!1);for(const i of e)n=n.next((l=>l?te.resolve(l):i()));return n}static forEach(e,n){const i=[];return e.forEach(((l,c)=>{i.push(n.call(this,l,c))})),this.waitFor(i)}static mapArray(e,n){return new te(((i,l)=>{const c=e.length,h=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((_=>{h[y]=_,++p,p===c&&i(h)}),(_=>l(_)))}}))}static doWhile(e,n){return new te(((i,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):i()};c()}))}}function u4(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xl(s){return s.name==="IndexedDbTransactionError"}class xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xh.ce=-1;const rg=-1;function bh(s){return s==null}function Yd(s){return s===0&&1/s==-1/0}function d4(s){return typeof s=="number"&&Number.isInteger(s)&&!Yd(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const E_="";function h4(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=ib(e)),e=f4(s.get(n),e);return ib(e)}function f4(s,e){let n=e;const i=s.length;for(let l=0;l<i;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case E_:n+="";break;default:n+=c}}return n}function ib(s){return s+E_+""}function ab(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Ji(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function w_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Dt{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new Dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(e,i.key);if(l===0)return n+i.left.size;l<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _d(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _d(this.root,e,this.comparator,!1)}getReverseIterator(){return new _d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _d(this.root,e,this.comparator,!0)}}class _d{constructor(e,n,i,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?i(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,i,l,c){this.key=e,this.value=n,this.color=i??vn.RED,this.left=l??vn.EMPTY,this.right=c??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,l,c){return new vn(e??this.key,n??this.value,i??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let l=this;const c=i(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,i),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return vn.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,n,i,l,c){return this}insert(e,n,i){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rn{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lb(this.data.getIterator())}getIteratorFrom(e){return new lb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=i.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new rn(this.comparator);return n.data=e,n}}class lb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ds{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new ds([])}unionWith(e){let n=new rn(bn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ds(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ll(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class T_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new T_("Invalid base64 string: "+c):c}})(e);return new _n(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let h=0;h<l.length;++h)c+=String.fromCharCode(l[h]);return c})(e);return new _n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let l=0;l<n.length;l++)i[l]=n.charCodeAt(l);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const m4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gi(s){if(ot(!!s,39018),typeof s=="string"){let e=0;const n=m4.exec(s);if(ot(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:zt(s.seconds),nanos:zt(s.nanos)}}function zt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Qi(s){return typeof s=="string"?_n.fromBase64String(s):_n.fromUint8Array(s)}const S_="server_timestamp",N_="__type__",A_="__previous_value__",C_="__local_write_time__";function ig(s){return(s?.mapValue?.fields||{})[N_]?.stringValue===S_}function _h(s){const e=s.mapValue.fields[A_];return ig(e)?_h(e):e}function Ec(s){const e=Gi(s.mapValue.fields[C_].timestampValue);return new wt(e.seconds,e.nanos)}class p4{constructor(e,n,i,l,c,h,p,g,y,_){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=l,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=_}}const Kd="(default)";class wc{constructor(e,n){this.projectId=e,this.database=n||Kd}static empty(){return new wc("","")}get isDefaultDatabase(){return this.database===Kd}isEqual(e){return e instanceof wc&&e.projectId===this.projectId&&e.database===this.database}}const D_="__type__",g4="__max__",Ed={mapValue:{}},R_="__vector__",Xd="value";function $i(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ig(s)?4:v4(s)?9007199254740991:y4(s)?10:11:je(28295,{value:s})}function yr(s,e){if(s===e)return!0;const n=$i(s);if(n!==$i(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ec(s).isEqual(Ec(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const h=Gi(l.timestampValue),p=Gi(c.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return Qi(l.bytesValue).isEqual(Qi(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return zt(l.geoPointValue.latitude)===zt(c.geoPointValue.latitude)&&zt(l.geoPointValue.longitude)===zt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return zt(l.integerValue)===zt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const h=zt(l.doubleValue),p=zt(c.doubleValue);return h===p?Yd(h)===Yd(p):isNaN(h)&&isNaN(p)}return!1})(s,e);case 9:return Ll(s.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return(function(l,c){const h=l.mapValue.fields||{},p=c.mapValue.fields||{};if(ab(h)!==ab(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!yr(h[g],p[g])))return!1;return!0})(s,e);default:return je(52216,{left:s})}}function Tc(s,e){return(s.values||[]).find((n=>yr(n,e)))!==void 0}function Pl(s,e){if(s===e)return 0;const n=$i(s),i=$i(e);if(n!==i)return Ke(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(s.booleanValue,e.booleanValue);case 2:return(function(c,h){const p=zt(c.integerValue||c.doubleValue),g=zt(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return ob(s.timestampValue,e.timestampValue);case 4:return ob(Ec(s),Ec(e));case 5:return bp(s.stringValue,e.stringValue);case 6:return(function(c,h){const p=Qi(c),g=Qi(h);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,h){const p=c.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const _=Ke(p[y],g[y]);if(_!==0)return _}return Ke(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,h){const p=Ke(zt(c.latitude),zt(h.latitude));return p!==0?p:Ke(zt(c.longitude),zt(h.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return cb(s.arrayValue,e.arrayValue);case 10:return(function(c,h){const p=c.fields||{},g=h.fields||{},y=p[Xd]?.arrayValue,_=g[Xd]?.arrayValue,E=Ke(y?.values?.length||0,_?.values?.length||0);return E!==0?E:cb(y,_)})(s.mapValue,e.mapValue);case 11:return(function(c,h){if(c===Ed.mapValue&&h===Ed.mapValue)return 0;if(c===Ed.mapValue)return 1;if(h===Ed.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=h.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let E=0;E<g.length&&E<_.length;++E){const S=bp(g[E],_[E]);if(S!==0)return S;const R=Pl(p[g[E]],y[_[E]]);if(R!==0)return R}return Ke(g.length,_.length)})(s.mapValue,e.mapValue);default:throw je(23264,{he:n})}}function ob(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ke(s,e);const n=Gi(s),i=Gi(e),l=Ke(n.seconds,i.seconds);return l!==0?l:Ke(n.nanos,i.nanos)}function cb(s,e){const n=s.values||[],i=e.values||[];for(let l=0;l<n.length&&l<i.length;++l){const c=Pl(n[l],i[l]);if(c)return c}return Ke(n.length,i.length)}function zl(s){return _p(s)}function _p(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const i=Gi(n);return`time(${i.seconds},${i.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Qi(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return Ce.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let i="[",l=!0;for(const c of n.values||[])l?l=!1:i+=",",i+=_p(c);return i+"]"})(s.arrayValue):"mapValue"in s?(function(n){const i=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const h of i)c?c=!1:l+=",",l+=`${h}:${_p(n.fields[h])}`;return l+"}"})(s.mapValue):je(61005,{value:s})}function kd(s){switch($i(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_h(s);return e?16+kd(e):16;case 5:return 2*s.stringValue.length;case 6:return Qi(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((l,c)=>l+kd(c)),0)})(s.arrayValue);case 10:case 11:return(function(i){let l=0;return Ji(i.fields,((c,h)=>{l+=c.length+kd(h)})),l})(s.mapValue);default:throw je(13486,{value:s})}}function Ep(s){return!!s&&"integerValue"in s}function ag(s){return!!s&&"arrayValue"in s}function ub(s){return!!s&&"nullValue"in s}function db(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Md(s){return!!s&&"mapValue"in s}function y4(s){return(s?.mapValue?.fields||{})[D_]?.stringValue===R_}function dc(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ji(s.mapValue.fields,((n,i)=>e.mapValue.fields[n]=dc(i))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dc(s.arrayValue.values[n]);return e}return{...s}}function v4(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===g4}class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Md(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dc(n)}setAll(e){let n=bn.emptyPath(),i={},l=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,i,l),i={},l=[],n=p.popLast()}h?i[p.lastSegment()]=dc(h):l.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,i,l)}delete(e){const n=this.field(e.popLast());Md(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let l=n.mapValue.fields[e.get(i)];Md(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,i){Ji(n,((l,c)=>e[l]=c));for(const l of i)delete e[l]}clone(){return new Jn(dc(this.value))}}function j_(s){const e=[];return Ji(s.fields,((n,i)=>{const l=new bn([n]);if(Md(i)){const c=j_(i.mapValue).fields;if(c.length===0)e.push(l);else for(const h of c)e.push(l.child(h))}else e.push(l)})),new ds(e)}class Rn{constructor(e,n,i,l,c,h,p){this.key=e,this.documentType=n,this.version=i,this.readTime=l,this.createTime=c,this.data=h,this.documentState=p}static newInvalidDocument(e){return new Rn(e,0,Ie.min(),Ie.min(),Ie.min(),Jn.empty(),0)}static newFoundDocument(e,n,i,l){return new Rn(e,1,n,Ie.min(),i,l,0)}static newNoDocument(e,n){return new Rn(e,2,n,Ie.min(),Ie.min(),Jn.empty(),0)}static newUnknownDocument(e,n){return new Rn(e,3,n,Ie.min(),Ie.min(),Jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wd{constructor(e,n){this.position=e,this.inclusive=n}}function hb(s,e,n){let i=0;for(let l=0;l<s.position.length;l++){const c=e[l],h=s.position[l];if(c.field.isKeyField()?i=Ce.comparator(Ce.fromName(h.referenceValue),n.key):i=Pl(h,n.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function fb(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!yr(s.position[n],e.position[n]))return!1;return!0}class Jd{constructor(e,n="asc"){this.field=e,this.dir=n}}function x4(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class I_{}class nn extends I_{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new _4(e,n,i):n==="array-contains"?new T4(e,i):n==="in"?new S4(e,i):n==="not-in"?new N4(e,i):n==="array-contains-any"?new A4(e,i):new nn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new E4(e,i):new w4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Pl(n,this.value)):n!==null&&$i(this.value)===$i(n)&&this.matchesComparison(Pl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vr extends I_{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new vr(e,n)}matches(e){return k_(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function k_(s){return s.op==="and"}function M_(s){return b4(s)&&k_(s)}function b4(s){for(const e of s.filters)if(e instanceof vr)return!1;return!0}function wp(s){if(s instanceof nn)return s.field.canonicalString()+s.op.toString()+zl(s.value);if(M_(s))return s.filters.map((e=>wp(e))).join(",");{const e=s.filters.map((n=>wp(n))).join(",");return`${s.op}(${e})`}}function O_(s,e){return s instanceof nn?(function(i,l){return l instanceof nn&&i.op===l.op&&i.field.isEqual(l.field)&&yr(i.value,l.value)})(s,e):s instanceof vr?(function(i,l){return l instanceof vr&&i.op===l.op&&i.filters.length===l.filters.length?i.filters.reduce(((c,h,p)=>c&&O_(h,l.filters[p])),!0):!1})(s,e):void je(19439)}function V_(s){return s instanceof nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${zl(n.value)}`})(s):s instanceof vr?(function(n){return n.op.toString()+" {"+n.getFilters().map(V_).join(" ,")+"}"})(s):"Filter"}class _4 extends nn{constructor(e,n,i){super(e,n,i),this.key=Ce.fromName(i.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class E4 extends nn{constructor(e,n){super(e,"in",n),this.keys=B_("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class w4 extends nn{constructor(e,n){super(e,"not-in",n),this.keys=B_("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function B_(s,e){return(e.arrayValue?.values||[]).map((n=>Ce.fromName(n.referenceValue)))}class T4 extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ag(n)&&Tc(n.arrayValue,this.value)}}class S4 extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tc(this.value.arrayValue,n)}}class N4 extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Tc(this.value.arrayValue,n)}}class A4 extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ag(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Tc(this.value.arrayValue,i)))}}class C4{constructor(e,n=null,i=[],l=[],c=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=l,this.limit=c,this.startAt=h,this.endAt=p,this.Te=null}}function mb(s,e=null,n=[],i=[],l=null,c=null,h=null){return new C4(s,e,n,i,l,c,h)}function lg(s){const e=Me(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>wp(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(c){return c.field.canonicalString()+c.dir})(i))).join(","),bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>zl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>zl(i))).join(",")),e.Te=n}return e.Te}function og(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!x4(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!O_(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!fb(s.startAt,e.startAt)&&fb(s.endAt,e.endAt)}function Tp(s){return Ce.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Eh{constructor(e,n=null,i=[],l=[],c=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=l,this.limit=c,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function D4(s,e,n,i,l,c,h,p){return new Eh(s,e,n,i,l,c,h,p)}function cg(s){return new Eh(s)}function pb(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function R4(s){return s.collectionGroup!==null}function hc(s){const e=Me(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new rn(bn.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Jd(c,i))})),n.has(bn.keyField().canonicalString())||e.Ie.push(new Jd(bn.keyField(),i))}return e.Ie}function hr(s){const e=Me(s);return e.Ee||(e.Ee=j4(e,hc(s))),e.Ee}function j4(s,e){if(s.limitType==="F")return mb(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Jd(l.field,c)}));const n=s.endAt?new Wd(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new Wd(s.startAt.position,s.startAt.inclusive):null;return mb(s.path,s.collectionGroup,e,s.filters,s.limit,n,i)}}function Sp(s,e,n){return new Eh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function wh(s,e){return og(hr(s),hr(e))&&s.limitType===e.limitType}function L_(s){return`${lg(hr(s))}|lt:${s.limitType}`}function Sl(s){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((l=>V_(l))).join(", ")}]`),bh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((l=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(l))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((l=>zl(l))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((l=>zl(l))).join(",")),`Target(${i})`})(hr(s))}; limitType=${s.limitType})`}function Th(s,e){return e.isFoundDocument()&&(function(i,l){const c=l.key.path;return i.collectionGroup!==null?l.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):Ce.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)})(s,e)&&(function(i,l){for(const c of hc(i))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(i,l){for(const c of i.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(i,l){return!(i.startAt&&!(function(h,p,g){const y=hb(h,p,g);return h.inclusive?y<=0:y<0})(i.startAt,hc(i),l)||i.endAt&&!(function(h,p,g){const y=hb(h,p,g);return h.inclusive?y>=0:y>0})(i.endAt,hc(i),l))})(s,e)}function I4(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function P_(s){return(e,n)=>{let i=!1;for(const l of hc(s)){const c=k4(l,e,n);if(c!==0)return c;i=i||l.field.isKeyField()}return 0}}function k4(s,e,n){const i=s.field.isKeyField()?Ce.comparator(e.key,n.key):(function(c,h,p){const g=h.data.field(c),y=p.data.field(c);return g!==null&&y!==null?Pl(g,y):je(42886)})(s.field,e,n);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return je(19790,{direction:s.dir})}}class Va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[l,c]of i)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),l=this.inner[i];if(l===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return i.length===1?delete this.inner[n]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ji(this.inner,((n,i)=>{for(const[l,c]of i)e(l,c)}))}isEmpty(){return w_(this.inner)}size(){return this.innerSize}}const M4=new Dt(Ce.comparator);function Yr(){return M4}const z_=new Dt(Ce.comparator);function ic(...s){let e=z_;for(const n of s)e=e.insert(n.key,n);return e}function U_(s){let e=z_;return s.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Na(){return fc()}function F_(){return fc()}function fc(){return new Va((s=>s.toString()),((s,e)=>s.isEqual(e)))}const O4=new Dt(Ce.comparator),V4=new rn(Ce.comparator);function Xe(...s){let e=V4;for(const n of s)e=e.add(n);return e}const B4=new rn(Ke);function L4(){return B4}function ug(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yd(e)?"-0":e}}function q_(s){return{integerValue:""+s}}function P4(s,e){return d4(e)?q_(e):ug(s,e)}class Sh{constructor(){this._=void 0}}function z4(s,e,n){return s instanceof Zd?(function(l,c){const h={fields:{[N_]:{stringValue:S_},[C_]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&ig(c)&&(c=_h(c)),c&&(h.fields[A_]=c),{mapValue:h}})(n,e):s instanceof Ul?G_(s,e):s instanceof Sc?Q_(s,e):(function(l,c){const h=H_(l,c),p=gb(h)+gb(l.Ae);return Ep(h)&&Ep(l.Ae)?q_(p):ug(l.serializer,p)})(s,e)}function U4(s,e,n){return s instanceof Ul?G_(s,e):s instanceof Sc?Q_(s,e):n}function H_(s,e){return s instanceof eh?(function(i){return Ep(i)||(function(c){return!!c&&"doubleValue"in c})(i)})(e)?e:{integerValue:0}:null}class Zd extends Sh{}class Ul extends Sh{constructor(e){super(),this.elements=e}}function G_(s,e){const n=$_(e);for(const i of s.elements)n.some((l=>yr(l,i)))||n.push(i);return{arrayValue:{values:n}}}class Sc extends Sh{constructor(e){super(),this.elements=e}}function Q_(s,e){let n=$_(e);for(const i of s.elements)n=n.filter((l=>!yr(l,i)));return{arrayValue:{values:n}}}class eh extends Sh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function gb(s){return zt(s.integerValue||s.doubleValue)}function $_(s){return ag(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class F4{constructor(e,n){this.field=e,this.transform=n}}function q4(s,e){return s.field.isEqual(e.field)&&(function(i,l){return i instanceof Ul&&l instanceof Ul||i instanceof Sc&&l instanceof Sc?Ll(i.elements,l.elements,yr):i instanceof eh&&l instanceof eh?yr(i.Ae,l.Ae):i instanceof Zd&&l instanceof Zd})(s.transform,e.transform)}class H4{constructor(e,n){this.version=e,this.transformResults=n}}class fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Od(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Nh{}function Y_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new X_(s.key,fr.none()):new Uc(s.key,s.data,fr.none());{const n=s.data,i=Jn.empty();let l=new rn(bn.comparator);for(let c of e.fields)if(!l.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?i.delete(c):i.set(c,h),l=l.add(c)}return new Zi(s.key,i,new ds(l.toArray()),fr.none())}}function G4(s,e,n){s instanceof Uc?(function(l,c,h){const p=l.value.clone(),g=vb(l.fieldTransforms,c,h.transformResults);p.setAll(g),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(s,e,n):s instanceof Zi?(function(l,c,h){if(!Od(l.precondition,c))return void c.convertToUnknownDocument(h.version);const p=vb(l.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(K_(l)),g.setAll(p),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(s,e,n):(function(l,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function mc(s,e,n,i){return s instanceof Uc?(function(c,h,p,g){if(!Od(c.precondition,h))return p;const y=c.value.clone(),_=xb(c.fieldTransforms,g,h);return y.setAll(_),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(s,e,n,i):s instanceof Zi?(function(c,h,p,g){if(!Od(c.precondition,h))return p;const y=xb(c.fieldTransforms,g,h),_=h.data;return _.setAll(K_(c)),_.setAll(y),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(s,e,n,i):(function(c,h,p){return Od(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(s,e,n)}function Q4(s,e){let n=null;for(const i of s.fieldTransforms){const l=e.data.field(i.field),c=H_(i.transform,l||null);c!=null&&(n===null&&(n=Jn.empty()),n.set(i.field,c))}return n||null}function yb(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(i,l){return i===void 0&&l===void 0||!(!i||!l)&&Ll(i,l,((c,h)=>q4(c,h)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Uc extends Nh{constructor(e,n,i,l=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Zi extends Nh{constructor(e,n,i,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function K_(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=s.data.field(n);e.set(n,i)}})),e}function vb(s,e,n){const i=new Map;ot(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const c=s[l],h=c.transform,p=e.data.field(c.field);i.set(c.field,U4(h,p,n[l]))}return i}function xb(s,e,n){const i=new Map;for(const l of s){const c=l.transform,h=n.data.field(l.field);i.set(l.field,z4(c,h,e))}return i}class X_ extends Nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $4 extends Nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Y4{constructor(e,n,i,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&G4(c,e,i[l])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=mc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=mc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=F_();return this.mutations.forEach((l=>{const c=e.get(l.key),h=c.overlayedDocument;let p=this.applyToLocalView(h,c.mutatedFields);p=n.has(l.key)?null:p;const g=Y_(h,p);g!==null&&i.set(l.key,g),h.isValidDocument()||h.convertToNoDocument(Ie.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&Ll(this.mutations,e.mutations,((n,i)=>yb(n,i)))&&Ll(this.baseMutations,e.baseMutations,((n,i)=>yb(n,i)))}}class dg{constructor(e,n,i,l){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=l}static from(e,n,i){ot(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let l=(function(){return O4})();const c=e.mutations;for(let h=0;h<c.length;h++)l=l.insert(c[h].key,i[h].version);return new dg(e,n,i,l)}}class K4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class X4{constructor(e,n){this.count=e,this.unchangedNames=n}}var Xt,Ze;function W4(s){switch(s){case ae.OK:return je(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return je(15467,{code:s})}}function W_(s){if(s===void 0)return $r("GRPC error has no .code"),ae.UNKNOWN;switch(s){case Xt.OK:return ae.OK;case Xt.CANCELLED:return ae.CANCELLED;case Xt.UNKNOWN:return ae.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return ae.INTERNAL;case Xt.UNAVAILABLE:return ae.UNAVAILABLE;case Xt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Xt.NOT_FOUND:return ae.NOT_FOUND;case Xt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Xt.ABORTED:return ae.ABORTED;case Xt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Xt.DATA_LOSS:return ae.DATA_LOSS;default:return je(39323,{code:s})}}(Ze=Xt||(Xt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";function J4(){return new TextEncoder}const Z4=new Ui([4294967295,4294967295],0);function bb(s){const e=J4().encode(s),n=new f_;return n.update(e),new Uint8Array(n.digest())}function _b(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ui([n,i],0),new Ui([l,c],0)]}class hg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ac(`Invalid padding: ${n}`);if(i<0)throw new ac(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ac(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ac(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ui.fromNumber(this.ge)}ye(e,n,i){let l=e.add(n.multiply(Ui.fromNumber(i)));return l.compare(Z4)===1&&(l=new Ui([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=bb(e),[i,l]=_b(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(i,l,c);if(!this.we(h))return!1}return!0}static create(e,n,i){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new hg(c,l,n);return i.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=bb(e),[i,l]=_b(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(i,l,c);this.Se(h)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(e,n,i,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const l=new Map;return l.set(e,Fc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Ah(Ie.min(),l,new Dt(Ke),Yr(),Xe())}}class Fc{constructor(e,n,i,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Fc(i,n,Xe(),Xe(),Xe())}}class Vd{constructor(e,n,i,l){this.be=e,this.removedTargetIds=n,this.key=i,this.De=l}}class J_{constructor(e,n){this.targetId=e,this.Ce=n}}class Z_{constructor(e,n,i=_n.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=l}}class Eb{constructor(){this.ve=0,this.Fe=wb(),this.Me=_n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),i=Xe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:i=i.add(l);break;default:je(38017,{changeType:c})}})),new Fc(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=wb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class e5{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yr(),this.Je=wd(),this.He=wd(),this.Ye=new Dt(Ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:je(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,i=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(Tp(c))if(i===0){const h=new Ce(c.path);this.et(n,h,Rn.newNoDocument(h,Ie.min()))}else ot(i===1,20013,{expectedCount:i});else{const h=this._t(n);if(h!==i){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:l=0},hashCount:c=0}=n;let h,p;try{h=Qi(i).toUint8Array()}catch(g){if(g instanceof T_)return Bl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new hg(h,l,c)}catch(g){return Bl(g instanceof ac?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let l=0;return i.forEach((c=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const p=this.ot(h);if(p){if(c.current&&Tp(p.target)){const g=new Ce(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,Rn.newNoDocument(g,e))}c.Be&&(n.set(h,c.ke()),c.qe())}}));let i=Xe();this.He.forEach(((c,h)=>{let p=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const l=new Ah(e,n,this.Ye,this.je,i);return this.je=Yr(),this.Je=wd(),this.He=wd(),this.Ye=new Dt(Ke),l}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Eb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new rn(Ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new rn(Ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Eb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function wd(){return new Dt(Ce.comparator)}function wb(){return new Dt(Ce.comparator)}const t5={asc:"ASCENDING",desc:"DESCENDING"},n5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s5={and:"AND",or:"OR"};class r5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Np(s,e){return s.useProto3Json||bh(e)?e:{value:e}}function th(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e2(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function i5(s,e){return th(s,e.toTimestamp())}function mr(s){return ot(!!s,49232),Ie.fromTimestamp((function(n){const i=Gi(n);return new wt(i.seconds,i.nanos)})(s))}function fg(s,e){return Ap(s,e).canonicalString()}function Ap(s,e){const n=(function(l){return new Ct(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function t2(s){const e=Ct.fromString(s);return ot(a2(e),10190,{key:e.toString()}),e}function Cp(s,e){return fg(s.databaseId,e.path)}function Jm(s,e){const n=t2(e);if(n.get(1)!==s.databaseId.projectId)throw new Ee(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new Ee(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Ce(s2(n))}function n2(s,e){return fg(s.databaseId,e)}function a5(s){const e=t2(s);return e.length===4?Ct.emptyPath():s2(e)}function Dp(s){return new Ct(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function s2(s){return ot(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Tb(s,e,n){return{name:Cp(s,e),fields:n.value.mapValue.fields}}function l5(s,e){let n;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:je(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,_){return y.useProto3Json?(ot(_===void 0||typeof _=="string",58123),_n.fromBase64String(_||"")):(ot(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),_n.fromUint8Array(_||new Uint8Array))})(s,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(y){const _=y.code===void 0?ae.UNKNOWN:W_(y.code);return new Ee(_,y.message||"")})(h);n=new Z_(i,l,c,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const l=Jm(s,i.document.name),c=mr(i.document.updateTime),h=i.document.createTime?mr(i.document.createTime):Ie.min(),p=new Jn({mapValue:{fields:i.document.fields}}),g=Rn.newFoundDocument(l,c,h,p),y=i.targetIds||[],_=i.removedTargetIds||[];n=new Vd(y,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const l=Jm(s,i.document),c=i.readTime?mr(i.readTime):Ie.min(),h=Rn.newNoDocument(l,c),p=i.removedTargetIds||[];n=new Vd([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const l=Jm(s,i.document),c=i.removedTargetIds||[];n=new Vd([],c,l,null)}else{if(!("filter"in e))return je(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:l=0,unchangedNames:c}=i,h=new X4(l,c),p=i.targetId;n=new J_(p,h)}}return n}function o5(s,e){let n;if(e instanceof Uc)n={update:Tb(s,e.key,e.value)};else if(e instanceof X_)n={delete:Cp(s,e.key)};else if(e instanceof Zi)n={update:Tb(s,e.key,e.data),updateMask:y5(e.fieldMask)};else{if(!(e instanceof $4))return je(16599,{Vt:e.type});n={verify:Cp(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(c,h){const p=h.transform;if(p instanceof Zd)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ul)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Sc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof eh)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw je(20930,{transform:h.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:i5(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:je(27497)})(s,e.precondition)),n}function c5(s,e){return s&&s.length>0?(ot(e!==void 0,14353),s.map((n=>(function(l,c){let h=l.updateTime?mr(l.updateTime):mr(c);return h.isEqual(Ie.min())&&(h=mr(c)),new H4(h,l.transformResults||[])})(n,e)))):[]}function u5(s,e){return{documents:[n2(s,e.path)]}}function d5(s,e){const n={structuredQuery:{}},i=e.path;let l;e.collectionGroup!==null?(l=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=n2(s,l);const c=(function(y){if(y.length!==0)return i2(vr.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(y){if(y.length!==0)return y.map((_=>(function(S){return{field:Nl(S.field),direction:m5(S.dir)}})(_)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=Np(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function h5(s){let e=a5(s.parent);const n=s.structuredQuery,i=n.from?n.from.length:0;let l=null;if(i>0){ot(i===1,65062);const _=n.from[0];_.allDescendants?l=_.collectionId:e=e.child(_.collectionId)}let c=[];n.where&&(c=(function(E){const S=r2(E);return S instanceof vr&&M_(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(E){return E.map((S=>(function(P){return new Jd(Al(P.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(S)))})(n.orderBy));let p=null;n.limit&&(p=(function(E){let S;return S=typeof E=="object"?E.value:E,bh(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(E){const S=!!E.before,R=E.values||[];return new Wd(R,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const S=!E.before,R=E.values||[];return new Wd(R,S)})(n.endAt)),D4(e,l,h,c,p,"F",g,y)}function f5(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function r2(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Al(n.unaryFilter.field);return nn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const l=Al(n.unaryFilter.field);return nn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Al(n.unaryFilter.field);return nn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Al(n.unaryFilter.field);return nn.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}})(s):s.fieldFilter!==void 0?(function(n){return nn.create(Al(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return vr.create(n.compositeFilter.filters.map((i=>r2(i))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return je(1026)}})(n.compositeFilter.op))})(s):je(30097,{filter:s})}function m5(s){return t5[s]}function p5(s){return n5[s]}function g5(s){return s5[s]}function Nl(s){return{fieldPath:s.canonicalString()}}function Al(s){return bn.fromServerFormat(s.fieldPath)}function i2(s){return s instanceof nn?(function(n){if(n.op==="=="){if(db(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NAN"}};if(ub(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(db(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NOT_NAN"}};if(ub(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nl(n.field),op:p5(n.op),value:n.value}}})(s):s instanceof vr?(function(n){const i=n.getFilters().map((l=>i2(l)));return i.length===1?i[0]:{compositeFilter:{op:g5(n.op),filters:i}}})(s):je(54877,{filter:s})}function y5(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function a2(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Vi{constructor(e,n,i,l,c=Ie.min(),h=Ie.min(),p=_n.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class v5{constructor(e){this.yt=e}}function x5(s){const e=h5({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Sp(e,e.limit,"L"):e}class b5{constructor(){this.Cn=new _5}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Hi.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Hi.min())}updateCollectionGroup(e,n,i){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class _5{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),l=this.index[n]||new rn(Ct.comparator),c=!l.has(i);return this.index[n]=l.add(i),c}has(e){const n=e.lastSegment(),i=e.popLast(),l=this.index[n];return l&&l.has(i)}getEntries(e){return(this.index[e]||new rn(Ct.comparator)).toArray()}}const Sb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},l2=41943040;class Wn{static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(l2,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);class Fl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Fl(0)}static cr(){return new Fl(-1)}}const Nb="LruGarbageCollector",E5=1048576;function Ab([s,e],[n,i]){const l=Ke(s,n);return l===0?Ke(e,i):l}class w5{constructor(e){this.Ir=e,this.buffer=new rn(Ab),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Ab(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class T5{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(Nb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xl(n)?ge(Nb,"Ignoring IndexedDB error during garbage collection: ",n):await Kl(n)}await this.Vr(3e5)}))}}class S5{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(xh.ce);const i=new w5(n);return this.mr.forEachTarget(e,(l=>i.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>i.Ar(l))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(Sb)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,l,c,h,p,g,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),l=this.params.maximumSequenceNumbersToCollect):l=E,h=Date.now(),this.nthSequenceNumber(e,l)))).next((E=>(i=E,p=Date.now(),this.removeTargets(e,i,n)))).next((E=>(c=E,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(y=Date.now(),Tl()<=Ye.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${l} in `+(p-h)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-_}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:E}))))}}function N5(s,e){return new S5(s,e)}class A5{constructor(){this.changes=new Va((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?te.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class C5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class D5{constructor(e,n,i,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=l}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(i=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(i!==null&&mc(i.mutation,l,ds.empty(),wt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Xe()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Xe()){const l=Na();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,i).next((c=>{let h=ic();return c.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const i=Na();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Xe())))}populateOverlays(e,n,i){const l=[];return i.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,i,l){let c=Yr();const h=fc(),p=(function(){return fc()})();return n.forEach(((g,y)=>{const _=i.get(y.key);l.has(y.key)&&(_===void 0||_.mutation instanceof Zi)?c=c.insert(y.key,y):_!==void 0?(h.set(y.key,_.mutation.getFieldMask()),mc(_.mutation,y,_.mutation.getFieldMask(),wt.now())):h.set(y.key,ds.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,_)=>h.set(y,_))),n.forEach(((y,_)=>p.set(y,new C5(_,h.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const i=fc();let l=new Dt(((h,p)=>h-p)),c=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let _=i.get(g)||ds.empty();_=p.applyToLocalView(y,_),i.set(g,_);const E=(l.get(p.batchId)||Xe()).add(g);l=l.insert(p.batchId,E)}))})).next((()=>{const h=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,_=g.value,E=F_();_.forEach((S=>{if(!c.has(S)){const R=Y_(n.get(S),i.get(S));R!==null&&E.set(S,R),c=c.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,E))}return te.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,l){return(function(h){return Ce.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):R4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,l):this.getDocumentsMatchingCollectionQuery(e,n,i,l)}getNextDocuments(e,n,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,l).next((c=>{const h=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,l-c.size):te.resolve(Na());let p=_c,g=c;return h.next((y=>te.forEach(y,((_,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),c.get(_)?te.resolve():this.remoteDocumentCache.getEntry(e,_).next((S=>{g=g.insert(_,S)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Xe()))).next((_=>({batchId:p,changes:U_(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next((i=>{let l=ic();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,l){const c=n.collectionGroup;let h=ic();return this.indexManager.getCollectionParents(e,c).next((p=>te.forEach(p,(g=>{const y=(function(E,S){return new Eh(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,i,l).next((_=>{_.forEach(((E,S)=>{h=h.insert(E,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,i,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,c,l)))).next((h=>{c.forEach(((g,y)=>{const _=y.getKey();h.get(_)===null&&(h=h.insert(_,Rn.newInvalidDocument(_)))}));let p=ic();return h.forEach(((g,y)=>{const _=c.get(g);_!==void 0&&mc(_.mutation,y,ds.empty(),wt.now()),Th(n,y)&&(p=p.insert(g,y))})),p}))}}class R5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:mr(l.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:x5(l.bundledQuery),readTime:mr(l.readTime)}})(n)),te.resolve()}}class j5{constructor(){this.overlays=new Dt(Ce.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Na();return te.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&i.set(l,c)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((l,c)=>{this.St(e,n,c)})),te.resolve()}removeOverlaysForBatchId(e,n,i){const l=this.qr.get(i);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(i)),te.resolve()}getOverlaysForCollection(e,n,i){const l=Na(),c=n.length+1,h=new Ce(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>i&&l.set(g.getKey(),g)}return te.resolve(l)}getOverlaysForCollectionGroup(e,n,i,l){let c=new Dt(((y,_)=>y-_));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let _=c.get(y.largestBatchId);_===null&&(_=Na(),c=c.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const p=Na(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,_)=>p.set(y,_))),!(p.size()>=l)););return te.resolve(p)}St(e,n,i){const l=this.overlays.get(i.key);if(l!==null){const h=this.qr.get(l.largestBatchId).delete(i.key);this.qr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new K4(n,i));let c=this.qr.get(n);c===void 0&&(c=Xe(),this.qr.set(n,c)),this.qr.set(n,c.add(i.key))}}class I5{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class mg{constructor(){this.Qr=new rn(un.$r),this.Ur=new rn(un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new un(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new un(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Ce(new Ct([])),i=new un(n,e),l=new un(n,e+1),c=[];return this.Ur.forEachInRange([i,l],(h=>{this.Gr(h),c.push(h.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ce(new Ct([])),i=new un(n,e),l=new un(n,e+1);let c=Xe();return this.Ur.forEachInRange([i,l],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new un(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class un{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ce.comparator(e.key,n.key)||Ke(e.Yr,n.Yr)}static Kr(e,n){return Ke(e.Yr,n.Yr)||Ce.comparator(e.key,n.key)}}class k5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new rn(un.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Y4(c,n,i,l);this.mutationQueue.push(h);for(const p of l)this.Zr=this.Zr.add(new un(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,l=this.ei(i),c=l<0?0:l;return te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?rg:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new un(n,0),l=new un(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([i,l],(h=>{const p=this.Xr(h.Yr);c.push(p)})),te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new rn(Ke);return n.forEach((l=>{const c=new un(l,0),h=new un(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,h],(p=>{i=i.add(p.Yr)}))})),te.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,l=i.length+1;let c=i;Ce.isDocumentKey(c)||(c=c.child(""));const h=new un(new Ce(c),0);let p=new rn(Ke);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),h),te.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((i=>{const l=this.Xr(i);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){ot(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return te.forEach(n.mutations,(l=>{const c=new un(l.key,n.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new un(n,0),l=this.Zr.firstAfterOrEqual(i);return te.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class M5{constructor(e){this.ri=e,this.docs=(function(){return new Dt(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,l=this.docs.get(i),c=l?l.size:0,h=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return te.resolve(i?i.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(e,n){let i=Yr();return n.forEach((l=>{const c=this.docs.get(l);i=i.insert(l,c?c.document.mutableCopy():Rn.newInvalidDocument(l))})),te.resolve(i)}getDocumentsMatchingQuery(e,n,i,l){let c=Yr();const h=n.path,p=new Ce(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||l4(a4(_),i)<=0||(l.has(_.key)||Th(n,_))&&(c=c.insert(_.key,_.mutableCopy()))}return te.resolve(c)}getAllFromCollectionGroup(e,n,i,l){je(9500)}ii(e,n){return te.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new O5(this)}getSize(e){return te.resolve(this.size)}}class O5 extends A5{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(i)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class V5{constructor(e){this.persistence=e,this.si=new Va((n=>lg(n)),og),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new mg,this.targetCount=0,this.ai=Fl.ur()}forEachTarget(e,n){return this.si.forEach(((i,l)=>n(l))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Fl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,i){let l=0;const c=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=n&&i.get(p.targetId)===null&&(this.si.delete(h),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),te.waitFor(c).next((()=>l))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return te.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),te.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((h=>{c.push(l.markPotentiallyOrphaned(e,h))})),te.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return te.resolve(i)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class o2{constructor(e,n){this.ui={},this.overlays={},this.ci=new xh(0),this.li=!1,this.li=!0,this.hi=new I5,this.referenceDelegate=e(this),this.Pi=new V5(this),this.indexManager=new b5,this.remoteDocumentCache=(function(l){return new M5(l)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new v5(n),this.Ii=new R5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new j5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new k5(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){ge("MemoryPersistence","Starting transaction:",e);const l=new B5(this.ci.next());return this.referenceDelegate.Ei(),i(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,n){return te.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class B5 extends c4{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Ri=new mg,this.Vi=null}static mi(e){return new pg(e)}get fi(){if(this.Vi)return this.Vi;throw je(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),te.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(i=>{const l=Ce.fromPath(i);return this.gi(e,l).next((c=>{c||n.removeEntry(l,Ie.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class nh{constructor(e,n){this.persistence=e,this.pi=new Va((i=>h4(i.path)),((i,l)=>i.isEqual(l))),this.garbageCollector=N5(this,n)}static mi(e,n){return new nh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((l=>i+l))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((i,l)=>this.br(e,i,l).next((c=>c?te.resolve():n(l)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(h=>this.br(e,h,n).next((p=>{p||(i++,c.removeEntry(h,Ie.min()))})))).next((()=>c.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),te.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=kd(e.data.value)),n}br(e,n,i){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return te.resolve(l!==void 0&&l>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class gg{constructor(e,n,i,l){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=l}static As(e,n){let i=Xe(),l=Xe();for(const c of n.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new gg(e,n.fromCache,i,l)}}class L5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class P5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return gS()?8:u4(jn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,l){const c={result:null};return this.ys(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ws(e,n,l,i).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new L5;return this.Ss(e,n,h).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,h,p.size)}))})).next((()=>c.result))}bs(e,n,i,l){return i.documentReadCount<this.fs?(Tl()<=Ye.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Sl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Tl()<=Ye.DEBUG&&ge("QueryEngine","Query:",Sl(n),"scans",i.documentReadCount,"local documents and returns",l,"documents as results."),i.documentReadCount>this.gs*l?(Tl()<=Ye.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Sl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(n))):te.resolve())}ys(e,n){if(pb(n))return te.resolve(null);let i=hr(n);return this.indexManager.getIndexType(e,i).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Sp(n,null,"F"),i=hr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((c=>{const h=Xe(...c);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,i).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,h,g.readTime)?this.ys(e,Sp(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,i,l){return pb(n)||l.isEqual(Ie.min())?te.resolve(null):this.ps.getDocuments(e,i).next((c=>{const h=this.Ds(n,c);return this.Cs(n,h,i,l)?te.resolve(null):(Tl()<=Ye.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Sl(n)),this.vs(e,h,n,i4(l,_c)).next((p=>p)))}))}Ds(e,n){let i=new rn(P_(e));return n.forEach(((l,c)=>{Th(e,c)&&(i=i.add(c))})),i}Cs(e,n,i,l){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,n,i){return Tl()<=Ye.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Sl(n)),this.ps.getDocumentsMatchingQuery(e,n,Hi.min(),i)}vs(e,n,i,l){return this.ps.getDocumentsMatchingQuery(e,i,l).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}const yg="LocalStore",z5=3e8;class U5{constructor(e,n,i,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new Dt(Ke),this.xs=new Va((c=>lg(c)),og),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function F5(s,e,n,i){return new U5(s,e,n,i)}async function c2(s,e){const n=Me(s);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let l;return n.mutationQueue.getAllMutationBatches(i).next((c=>(l=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((c=>{const h=[],p=[];let g=Xe();for(const y of l){h.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of c){p.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return n.localDocuments.getDocuments(i,g).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:p})))}))}))}function q5(s,e){const n=Me(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const l=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,_){const E=y.batch,S=E.keys();let R=te.resolve();return S.forEach((P=>{R=R.next((()=>_.getEntry(g,P))).next((G=>{const q=y.docVersions.get(P);ot(q!==null,48541),G.version.compareTo(q)<0&&(E.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),_.addEntry(G)))}))})),R.next((()=>p.mutationQueue.removeMutationBatch(g,E)))})(n,i,e,c).next((()=>c.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(p){let g=Xe();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(i,l)))}))}function u2(s){const e=Me(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function H5(s,e){const n=Me(s),i=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];e.targetChanges.forEach(((_,E)=>{const S=l.get(E);if(!S)return;p.push(n.Pi.removeMatchingKeys(c,_.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(c,_.addedDocuments,E))));let R=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(_n.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):_.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(_.resumeToken,i)),l=l.insert(E,R),(function(G,q,ne){return G.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=z5?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(S,R,_)&&p.push(n.Pi.updateTargetData(c,R))}));let g=Yr(),y=Xe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,_))})),p.push(G5(c,h,e.documentUpdates).next((_=>{g=_.ks,y=_.qs}))),!i.isEqual(Ie.min())){const _=n.Pi.getLastRemoteSnapshotVersion(c).next((E=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,i)));p.push(_)}return te.waitFor(p).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.Ms=l,c)))}function G5(s,e,n){let i=Xe(),l=Xe();return n.forEach((c=>i=i.add(c))),e.getEntries(s,i).next((c=>{let h=Yr();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Ie.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):ge(yg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:h,qs:l}}))}function Q5(s,e){const n=Me(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=rg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function $5(s,e){const n=Me(s);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let l;return n.Pi.getTargetData(i,e).next((c=>c?(l=c,te.resolve(l)):n.Pi.allocateTargetId(i).next((h=>(l=new Vi(e,h,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,l).next((()=>l)))))))})).then((i=>{const l=n.Ms.get(i.targetId);return(l===null||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function Rp(s,e,n){const i=Me(s),l=i.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",c,(h=>i.persistence.referenceDelegate.removeTarget(h,l)))}catch(h){if(!Xl(h))throw h;ge(yg,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ms=i.Ms.remove(e),i.xs.delete(l.target)}function Cb(s,e,n){const i=Me(s);let l=Ie.min(),c=Xe();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,_){const E=Me(g),S=E.xs.get(_);return S!==void 0?te.resolve(E.Ms.get(S)):E.Pi.getTargetData(y,_)})(i,h,hr(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,p.targetId).next((g=>{c=g}))})).next((()=>i.Fs.getDocumentsMatchingQuery(h,e,n?l:Ie.min(),n?c:Xe()))).next((p=>(Y5(i,I4(e),p),{documents:p,Qs:c})))))}function Y5(s,e,n){let i=s.Os.get(e)||Ie.min();n.forEach(((l,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)})),s.Os.set(e,i)}class Db{constructor(){this.activeTargetIds=L4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class K5{constructor(){this.Mo=new Db,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Db,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class X5{Oo(e){}shutdown(){}}const Rb="ConnectivityMonitor";class jb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(Rb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(Rb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Td=null;function jp(){return Td===null?Td=(function(){return 268435456+Math.round(2147483648*Math.random())})():Td++,"0x"+Td.toString(16)}const Zm="RestConnection",W5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class J5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${l}`,this.Wo=this.databaseId.database===Kd?`project_id=${i}`:`project_id=${i}&database_id=${l}`}Go(e,n,i,l,c){const h=jp(),p=this.zo(e,n.toUriEncodedString());ge(Zm,`Sending RPC '${e}' ${h}:`,p,i);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:y}=new URL(p),_=Hl(y);return this.Jo(e,p,g,i,_).then((E=>(ge(Zm,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw Bl(Zm,`RPC '${e}' ${h} failed with error: `,E,"url: ",p,"request:",i),E}))}Ho(e,n,i,l,c,h){return this.Go(e,n,i,l,c)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),i&&i.headers.forEach(((l,c)=>e[c]=l))}zo(e,n){const i=W5[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}class Z5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const An="WebChannelConnection";class eD extends J5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,l,c){const h=jp();return new Promise(((p,g)=>{const y=new m_;y.setWithCredentials(!0),y.listenOnce(p_.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Id.NO_ERROR:const E=y.getResponseJson();ge(An,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),p(E);break;case Id.TIMEOUT:ge(An,`RPC '${e}' ${h} timed out`),g(new Ee(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Id.HTTP_ERROR:const S=y.getStatus();if(ge(An,`RPC '${e}' ${h} failed with status:`,S,"response text:",y.getResponseText()),S>0){let R=y.getResponseJson();Array.isArray(R)&&(R=R[0]);const P=R?.error;if(P&&P.status&&P.message){const G=(function(ne){const le=ne.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(le)>=0?le:ae.UNKNOWN})(P.status);g(new Ee(G,P.message))}else g(new Ee(ae.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new Ee(ae.UNAVAILABLE,"Connection failed."));break;default:je(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ge(An,`RPC '${e}' ${h} completed.`)}}));const _=JSON.stringify(l);ge(An,`RPC '${e}' ${h} sending request:`,l),y.send(n,"POST",_,i,15)}))}T_(e,n,i){const l=jp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=v_(),p=y_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,i),g.encodeInitMessageHeaders=!0;const _=c.join("");ge(An,`Creating RPC '${e}' stream ${l}: ${_}`,g);const E=h.createWebChannel(_,g);this.I_(E);let S=!1,R=!1;const P=new Z5({Yo:q=>{R?ge(An,`Not sending because RPC '${e}' stream ${l} is closed:`,q):(S||(ge(An,`Opening RPC '${e}' stream ${l} transport.`),E.open(),S=!0),ge(An,`RPC '${e}' stream ${l} sending:`,q),E.send(q))},Zo:()=>E.close()}),G=(q,ne,le)=>{q.listen(ne,(Z=>{try{le(Z)}catch(re){setTimeout((()=>{throw re}),0)}}))};return G(E,rc.EventType.OPEN,(()=>{R||(ge(An,`RPC '${e}' stream ${l} transport opened.`),P.o_())})),G(E,rc.EventType.CLOSE,(()=>{R||(R=!0,ge(An,`RPC '${e}' stream ${l} transport closed`),P.a_(),this.E_(E))})),G(E,rc.EventType.ERROR,(q=>{R||(R=!0,Bl(An,`RPC '${e}' stream ${l} transport errored. Name:`,q.name,"Message:",q.message),P.a_(new Ee(ae.UNAVAILABLE,"The operation could not be completed")))})),G(E,rc.EventType.MESSAGE,(q=>{if(!R){const ne=q.data[0];ot(!!ne,16349);const le=ne,Z=le?.error||le[0]?.error;if(Z){ge(An,`RPC '${e}' stream ${l} received error:`,Z);const re=Z.status;let ie=(function(N){const C=Xt[N];if(C!==void 0)return W_(C)})(re),oe=Z.message;ie===void 0&&(ie=ae.INTERNAL,oe="Unknown error status: "+re+" with message "+Z.message),R=!0,P.a_(new Ee(ie,oe)),E.close()}else ge(An,`RPC '${e}' stream ${l} received:`,ne),P.u_(ne)}})),G(p,g_.STAT_EVENT,(q=>{q.stat===xp.PROXY?ge(An,`RPC '${e}' stream ${l} detected buffering proxy`):q.stat===xp.NOPROXY&&ge(An,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ep(){return typeof document<"u"?document:null}function Ch(s){return new r5(s,!0)}class d2{constructor(e,n,i=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-i);l>0&&ge("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Ib="PersistentStream";class h2{constructor(e,n,i,l,c,h,p,g){this.Mi=e,this.S_=i,this.b_=l,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new d2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?($r(n.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,l])=>{this.D_===n&&this.G_(i,l)}),(i=>{e((()=>{const l=new Ee(ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(l)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{i((()=>this.z_(l)))})),this.stream.onMessage((l=>{i((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(Ib,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(Ib,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tD extends h2{constructor(e,n,i,l,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,l,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=l5(this.serializer,e),i=(function(c){if(!("targetChange"in c))return Ie.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Ie.min():h.readTime?mr(h.readTime):Ie.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Dp(this.serializer),n.addTarget=(function(c,h){let p;const g=h.target;if(p=Tp(g)?{documents:u5(c,g)}:{query:d5(c,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=e2(c,h.resumeToken);const y=Np(c,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ie.min())>0){p.readTime=th(c,h.snapshotVersion.toTimestamp());const y=Np(c,h.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const i=f5(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Dp(this.serializer),n.removeTarget=e,this.q_(n)}}class nD extends h2{constructor(e,n,i,l,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,l,h),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=c5(e.writeResults,e.commitTime),i=mr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Dp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>o5(this.serializer,i)))};this.q_(n)}}class sD{}class rD extends sD{constructor(e,n,i,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Ee(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Go(e,Ap(n,i),l,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ee(ae.UNKNOWN,c.toString())}))}Ho(e,n,i,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,Ap(n,i),l,h,p,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ee(ae.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class iD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($r(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ma="RemoteStore";class aD{constructor(e,n,i,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((h=>{i.enqueueAndForget((async()=>{Ba(this)&&(ge(Ma,"Restarting streams for network reachability change."),await(async function(g){const y=Me(g);y.Ea.add(4),await qc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Dh(y)})(this))}))})),this.Ra=new iD(i,l)}}async function Dh(s){if(Ba(s))for(const e of s.da)await e(!0)}async function qc(s){for(const e of s.da)await e(!1)}function f2(s,e){const n=Me(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),_g(n)?bg(n):Wl(n).O_()&&xg(n,e))}function vg(s,e){const n=Me(s),i=Wl(n);n.Ia.delete(e),i.O_()&&m2(n,e),n.Ia.size===0&&(i.O_()?i.L_():Ba(n)&&n.Ra.set("Unknown"))}function xg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wl(s).Y_(e)}function m2(s,e){s.Va.Ue(e),Wl(s).Z_(e)}function bg(s){s.Va=new e5({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Wl(s).start(),s.Ra.ua()}function _g(s){return Ba(s)&&!Wl(s).x_()&&s.Ia.size>0}function Ba(s){return Me(s).Ea.size===0}function p2(s){s.Va=void 0}async function lD(s){s.Ra.set("Online")}async function oD(s){s.Ia.forEach(((e,n)=>{xg(s,e)}))}async function cD(s,e){p2(s),_g(s)?(s.Ra.ha(e),bg(s)):s.Ra.set("Unknown")}async function uD(s,e,n){if(s.Ra.set("Online"),e instanceof Z_&&e.state===2&&e.cause)try{await(async function(l,c){const h=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,h),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(i){ge(Ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await sh(s,i)}else if(e instanceof Vd?s.Va.Ze(e):e instanceof J_?s.Va.st(e):s.Va.tt(e),!n.isEqual(Ie.min()))try{const i=await u2(s.localStore);n.compareTo(i)>=0&&await(function(c,h){const p=c.Va.Tt(h);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=c.Ia.get(y);_&&c.Ia.set(y,_.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,y)=>{const _=c.Ia.get(g);if(!_)return;c.Ia.set(g,_.withResumeToken(_n.EMPTY_BYTE_STRING,_.snapshotVersion)),m2(c,g);const E=new Vi(_.target,g,y,_.sequenceNumber);xg(c,E)})),c.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(i){ge(Ma,"Failed to raise snapshot:",i),await sh(s,i)}}async function sh(s,e,n){if(!Xl(e))throw e;s.Ea.add(1),await qc(s),s.Ra.set("Offline"),n||(n=()=>u2(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ge(Ma,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Dh(s)}))}function g2(s,e){return e().catch((n=>sh(s,n,e)))}async function Rh(s){const e=Me(s),n=Yi(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:rg;for(;dD(e);)try{const l=await Q5(e.localStore,i);if(l===null){e.Ta.length===0&&n.L_();break}i=l.batchId,hD(e,l)}catch(l){await sh(e,l)}y2(e)&&v2(e)}function dD(s){return Ba(s)&&s.Ta.length<10}function hD(s,e){s.Ta.push(e);const n=Yi(s);n.O_()&&n.X_&&n.ea(e.mutations)}function y2(s){return Ba(s)&&!Yi(s).x_()&&s.Ta.length>0}function v2(s){Yi(s).start()}async function fD(s){Yi(s).ra()}async function mD(s){const e=Yi(s);for(const n of s.Ta)e.ea(n.mutations)}async function pD(s,e,n){const i=s.Ta.shift(),l=dg.from(i,e,n);await g2(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Rh(s)}async function gD(s,e){e&&Yi(s).X_&&await(async function(i,l){if((function(h){return W4(h)&&h!==ae.ABORTED})(l.code)){const c=i.Ta.shift();Yi(i).B_(),await g2(i,(()=>i.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Rh(i)}})(s,e),y2(s)&&v2(s)}async function kb(s,e){const n=Me(s);n.asyncQueue.verifyOperationInProgress(),ge(Ma,"RemoteStore received new credentials");const i=Ba(n);n.Ea.add(3),await qc(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Dh(n)}async function yD(s,e){const n=Me(s);e?(n.Ea.delete(2),await Dh(n)):e||(n.Ea.add(2),await qc(n),n.Ra.set("Unknown"))}function Wl(s){return s.ma||(s.ma=(function(n,i,l){const c=Me(n);return c.sa(),new tD(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:lD.bind(null,s),t_:oD.bind(null,s),r_:cD.bind(null,s),H_:uD.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),_g(s)?bg(s):s.Ra.set("Unknown")):(await s.ma.stop(),p2(s))}))),s.ma}function Yi(s){return s.fa||(s.fa=(function(n,i,l){const c=Me(n);return c.sa(),new nD(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:fD.bind(null,s),r_:gD.bind(null,s),ta:mD.bind(null,s),na:pD.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Rh(s)):(await s.fa.stop(),s.Ta.length>0&&(ge(Ma,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Eg{constructor(e,n,i,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=l,this.removalCallback=c,this.deferred=new Aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,l,c){const h=Date.now()+i,p=new Eg(e,n,h,l,c);return p.start(i),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wg(s,e){if($r("AsyncQueue",`${e}: ${s}`),Xl(s))return new Ee(ae.UNAVAILABLE,`${e}: ${s}`);throw s}class Il{static emptySet(e){return new Il(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ce.comparator(n.key,i.key):(n,i)=>Ce.comparator(n.key,i.key),this.keyedMap=ic(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Il)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=i.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Il;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class Mb{constructor(){this.ga=new Dt(Ce.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):je(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class ql{constructor(e,n,i,l,c,h,p,g,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,l,c){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new ql(e,n,Il.emptySet(n),h,i,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==i[l].type||!n[l].doc.isEqual(i[l].doc))return!1;return!0}}class vD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class xD{constructor(){this.queries=Ob(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const l=Me(n),c=l.queries;l.queries=Ob(),c.forEach(((h,p)=>{for(const g of p.Sa)g.onError(i)}))})(this,new Ee(ae.ABORTED,"Firestore shutting down"))}}function Ob(){return new Va((s=>L_(s)),wh)}async function bD(s,e){const n=Me(s);let i=3;const l=e.query;let c=n.queries.get(l);c?!c.ba()&&e.Da()&&(i=2):(c=new vD,i=e.Da()?0:1);try{switch(i){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(h){const p=wg(h,`Initialization of query '${Sl(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Tg(n)}async function _D(s,e){const n=Me(s),i=e.query;let l=3;const c=n.queries.get(i);if(c){const h=c.Sa.indexOf(e);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function ED(s,e){const n=Me(s);let i=!1;for(const l of e){const c=l.query,h=n.queries.get(c);if(h){for(const p of h.Sa)p.Fa(l)&&(i=!0);h.wa=l}}i&&Tg(n)}function wD(s,e,n){const i=Me(s),l=i.queries.get(e);if(l)for(const c of l.Sa)c.onError(n);i.queries.delete(e)}function Tg(s){s.Ca.forEach((e=>{e.next()}))}var Ip,Vb;(Vb=Ip||(Ip={})).Ma="default",Vb.Cache="cache";class TD{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const l of e.docChanges)l.type!==3&&i.push(l);e=new ql(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ip.Cache}}class x2{constructor(e){this.key=e}}class b2{constructor(e){this.key=e}}class SD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=P_(e),this.tu=new Il(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new Mb,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((_,E)=>{const S=l.get(_),R=Th(this.query,E)?E:null,P=!!S&&this.mutatedKeys.has(S.key),G=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let q=!1;S&&R?S.data.isEqual(R.data)?P!==G&&(i.track({type:3,doc:R}),q=!0):this.su(S,R)||(i.track({type:2,doc:R}),q=!0,(g&&this.eu(R,g)>0||y&&this.eu(R,y)<0)&&(p=!0)):!S&&R?(i.track({type:0,doc:R}),q=!0):S&&!R&&(i.track({type:1,doc:S}),q=!0,(g||y)&&(p=!0)),q&&(R?(h=h.add(R),c=G?c.add(_):c.delete(_)):(h=h.delete(_),c=c.delete(_)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),c=c.delete(_.key),i.track({type:1,doc:_})}return{tu:h,iu:i,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((_,E)=>(function(R,P){const G=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Rt:q})}};return G(R)-G(P)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(i),l=l??!1;const p=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,h.length!==0||y?{snapshot:new ql(this.query,e.tu,c,h,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Mb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new b2(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new x2(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ql.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sg="SyncEngine";class ND{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class AD{constructor(e){this.key=e,this.hu=!1}}class CD{constructor(e,n,i,l,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Va((p=>L_(p)),wh),this.Iu=new Map,this.Eu=new Set,this.du=new Dt(Ce.comparator),this.Au=new Map,this.Ru=new mg,this.Vu={},this.mu=new Map,this.fu=Fl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function DD(s,e,n=!0){const i=N2(s);let l;const c=i.Tu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await _2(i,e,n,!0),l}async function RD(s,e){const n=N2(s);await _2(n,e,!0,!1)}async function _2(s,e,n,i){const l=await $5(s.localStore,hr(e)),c=l.targetId,h=s.sharedClientState.addLocalQueryTarget(c,n);let p;return i&&(p=await jD(s,e,c,h==="current",l.resumeToken)),s.isPrimaryClient&&n&&f2(s.remoteStore,l),p}async function jD(s,e,n,i,l){s.pu=(E,S,R)=>(async function(G,q,ne,le){let Z=q.view.ru(ne);Z.Cs&&(Z=await Cb(G.localStore,q.query,!1).then((({documents:A})=>q.view.ru(A,Z))));const re=le&&le.targetChanges.get(q.targetId),ie=le&&le.targetMismatches.get(q.targetId)!=null,oe=q.view.applyChanges(Z,G.isPrimaryClient,re,ie);return Lb(G,q.targetId,oe.au),oe.snapshot})(s,E,S,R);const c=await Cb(s.localStore,e,!0),h=new SD(e,c.Qs),p=h.ru(c.documents),g=Fc.createSynthesizedTargetChangeForCurrentChange(n,i&&s.onlineState!=="Offline",l),y=h.applyChanges(p,s.isPrimaryClient,g);Lb(s,n,y.au);const _=new ND(e,n,h);return s.Tu.set(e,_),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function ID(s,e,n){const i=Me(s),l=i.Tu.get(e),c=i.Iu.get(l.targetId);if(c.length>1)return i.Iu.set(l.targetId,c.filter((h=>!wh(h,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(l.targetId),i.sharedClientState.isActiveQueryTarget(l.targetId)||await Rp(i.localStore,l.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(l.targetId),n&&vg(i.remoteStore,l.targetId),kp(i,l.targetId)})).catch(Kl)):(kp(i,l.targetId),await Rp(i.localStore,l.targetId,!0))}async function kD(s,e){const n=Me(s),i=n.Tu.get(e),l=n.Iu.get(i.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),vg(n.remoteStore,i.targetId))}async function MD(s,e,n){const i=UD(s);try{const l=await(function(h,p){const g=Me(h),y=wt.now(),_=p.reduce(((R,P)=>R.add(P.key)),Xe());let E,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let P=Yr(),G=Xe();return g.Ns.getEntries(R,_).next((q=>{P=q,P.forEach(((ne,le)=>{le.isValidDocument()||(G=G.add(ne))}))})).next((()=>g.localDocuments.getOverlayedDocuments(R,P))).next((q=>{E=q;const ne=[];for(const le of p){const Z=Q4(le,E.get(le.key).overlayedDocument);Z!=null&&ne.push(new Zi(le.key,Z,j_(Z.value.mapValue),fr.exists(!0)))}return g.mutationQueue.addMutationBatch(R,y,ne,p)})).next((q=>{S=q;const ne=q.applyToLocalDocumentSet(E,G);return g.documentOverlayCache.saveOverlays(R,q.batchId,ne)}))})).then((()=>({batchId:S.batchId,changes:U_(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(l.batchId),(function(h,p,g){let y=h.Vu[h.currentUser.toKey()];y||(y=new Dt(Ke)),y=y.insert(p,g),h.Vu[h.currentUser.toKey()]=y})(i,l.batchId,n),await Hc(i,l.changes),await Rh(i.remoteStore)}catch(l){const c=wg(l,"Failed to persist write");n.reject(c)}}async function E2(s,e){const n=Me(s);try{const i=await H5(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const h=n.Au.get(c);h&&(ot(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?h.hu=!0:l.modifiedDocuments.size>0?ot(h.hu,14607):l.removedDocuments.size>0&&(ot(h.hu,42227),h.hu=!1))})),await Hc(n,i,e)}catch(i){await Kl(i)}}function Bb(s,e,n){const i=Me(s);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const l=[];i.Tu.forEach(((c,h)=>{const p=h.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(h,p){const g=Me(h);g.onlineState=p;let y=!1;g.queries.forEach(((_,E)=>{for(const S of E.Sa)S.va(p)&&(y=!0)})),y&&Tg(g)})(i.eventManager,e),l.length&&i.Pu.H_(l),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function OD(s,e,n){const i=Me(s);i.sharedClientState.updateQueryState(e,"rejected",n);const l=i.Au.get(e),c=l&&l.key;if(c){let h=new Dt(Ce.comparator);h=h.insert(c,Rn.newNoDocument(c,Ie.min()));const p=Xe().add(c),g=new Ah(Ie.min(),new Map,new Dt(Ke),h,p);await E2(i,g),i.du=i.du.remove(c),i.Au.delete(e),Ng(i)}else await Rp(i.localStore,e,!1).then((()=>kp(i,e,n))).catch(Kl)}async function VD(s,e){const n=Me(s),i=e.batch.batchId;try{const l=await q5(n.localStore,e);T2(n,i,null),w2(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Hc(n,l)}catch(l){await Kl(l)}}async function BD(s,e,n){const i=Me(s);try{const l=await(function(h,p){const g=Me(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return g.mutationQueue.lookupMutationBatch(y,p).next((E=>(ot(E!==null,37113),_=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>g.localDocuments.getDocuments(y,_)))}))})(i.localStore,e);T2(i,e,n),w2(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Hc(i,l)}catch(l){await Kl(l)}}function w2(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function T2(s,e,n){const i=Me(s);let l=i.Vu[i.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),i.Vu[i.currentUser.toKey()]=l}}function kp(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const i of s.Iu.get(e))s.Tu.delete(i),n&&s.Pu.yu(i,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((i=>{s.Ru.containsKey(i)||S2(s,i)}))}function S2(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(vg(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),Ng(s))}function Lb(s,e,n){for(const i of n)i instanceof x2?(s.Ru.addReference(i.key,e),LD(s,i)):i instanceof b2?(ge(Sg,"Document no longer in limbo: "+i.key),s.Ru.removeReference(i.key,e),s.Ru.containsKey(i.key)||S2(s,i.key)):je(19791,{wu:i})}function LD(s,e){const n=e.key,i=n.path.canonicalString();s.du.get(n)||s.Eu.has(i)||(ge(Sg,"New document in limbo: "+n),s.Eu.add(i),Ng(s))}function Ng(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new Ce(Ct.fromString(e)),i=s.fu.next();s.Au.set(i,new AD(n)),s.du=s.du.insert(n,i),f2(s.remoteStore,new Vi(hr(cg(n.path)),i,"TargetPurposeLimboResolution",xh.ce))}}async function Hc(s,e,n){const i=Me(s),l=[],c=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach(((p,g)=>{h.push(i.pu(g,e,n).then((y=>{if((y||n)&&i.isPrimaryClient){const _=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(y){l.push(y);const _=gg.As(g.targetId,y);c.push(_)}})))})),await Promise.all(h),i.Pu.H_(l),await(async function(g,y){const _=Me(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>te.forEach(y,(S=>te.forEach(S.Es,(R=>_.persistence.referenceDelegate.addReference(E,S.targetId,R))).next((()=>te.forEach(S.ds,(R=>_.persistence.referenceDelegate.removeReference(E,S.targetId,R)))))))))}catch(E){if(!Xl(E))throw E;ge(yg,"Failed to update sequence numbers: "+E)}for(const E of y){const S=E.targetId;if(!E.fromCache){const R=_.Ms.get(S),P=R.snapshotVersion,G=R.withLastLimboFreeSnapshotVersion(P);_.Ms=_.Ms.insert(S,G)}}})(i.localStore,c))}async function PD(s,e){const n=Me(s);if(!n.currentUser.isEqual(e)){ge(Sg,"User change. New user:",e.toKey());const i=await c2(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new Ee(ae.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Hc(n,i.Ls)}}function zD(s,e){const n=Me(s),i=n.Au.get(e);if(i&&i.hu)return Xe().add(i.key);{let l=Xe();const c=n.Iu.get(e);if(!c)return l;for(const h of c){const p=n.Tu.get(h);l=l.unionWith(p.view.nu)}return l}}function N2(s){const e=Me(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=E2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OD.bind(null,e),e.Pu.H_=ED.bind(null,e.eventManager),e.Pu.yu=wD.bind(null,e.eventManager),e}function UD(s){const e=Me(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BD.bind(null,e),e}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ch(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return F5(this.persistence,new P5,e.initialUser,this.serializer)}Cu(e){return new o2(pg.mi,this.serializer)}Du(e){return new K5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class FD extends rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ot(this.persistence.referenceDelegate instanceof nh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new T5(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new o2((i=>nh.mi(i,n)),this.serializer)}}class Mp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Bb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=PD.bind(null,this.syncEngine),await yD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new xD})()}createDatastore(e){const n=Ch(e.databaseInfo.databaseId),i=(function(c){return new eD(c)})(e.databaseInfo);return(function(c,h,p,g){return new rD(c,h,p,g)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,l,c,h,p){return new aD(i,l,c,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>Bb(this.syncEngine,n,0)),(function(){return jb.v()?new jb:new X5})())}createSyncEngine(e,n){return(function(l,c,h,p,g,y,_){const E=new CD(l,c,h,p,g,y);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Me(n);ge(Ma,"RemoteStore shutting down."),i.Ea.add(5),await qc(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Mp.provider={build:()=>new Mp};class qD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$r("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ki="FirestoreClient";class HD{constructor(e,n,i,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=l,this.user=Dn.UNAUTHENTICATED,this.clientId=ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,(async h=>{ge(Ki,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(ge(Ki,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=wg(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function tp(s,e){s.asyncQueue.verifyOperationInProgress(),ge(Ki,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let i=n.initialUser;s.setCredentialChangeListener((async l=>{i.isEqual(l)||(await c2(e.localStore,l),i=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Pb(s,e){s.asyncQueue.verifyOperationInProgress();const n=await GD(s);ge(Ki,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((i=>kb(e.remoteStore,i))),s.setAppCheckTokenChangeListener(((i,l)=>kb(e.remoteStore,l))),s._onlineComponents=e}async function GD(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ge(Ki,"Using user provided OfflineComponentProvider");try{await tp(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ae.FAILED_PRECONDITION||l.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Bl("Error using user provided cache. Falling back to memory cache: "+n),await tp(s,new rh)}}else ge(Ki,"Using default OfflineComponentProvider"),await tp(s,new FD(void 0));return s._offlineComponents}async function A2(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ge(Ki,"Using user provided OnlineComponentProvider"),await Pb(s,s._uninitializedComponentsProvider._online)):(ge(Ki,"Using default OnlineComponentProvider"),await Pb(s,new Mp))),s._onlineComponents}function QD(s){return A2(s).then((e=>e.syncEngine))}async function zb(s){const e=await A2(s),n=e.eventManager;return n.onListen=DD.bind(null,e.syncEngine),n.onUnlisten=ID.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=RD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kD.bind(null,e.syncEngine),n}function C2(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Ub=new Map;const D2="firestore.googleapis.com",Fb=!0;class qb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=D2,this.ssl=Fb}else this.host=e.host,this.ssl=e.ssl??Fb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=l2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<E5)throw new Ee(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=C2(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ee(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ee(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ee(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,l){return i.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ag{constructor(e,n,i,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new $C;switch(i.type){case"firstParty":return new WC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ee(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Ub.get(n);i&&(ge("ComponentProvider","Removing Datastore"),Ub.delete(n),i.terminate())})(this),Promise.resolve()}}function $D(s,e,n,i={}){s=Fi(s,Ag);const l=Hl(e),c=s._getSettings(),h={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;l&&(N1(`https://${p}`),A1("Firestore",!0)),c.host!==D2&&c.host!==p&&Bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:l,emulatorOptions:i};if(!qi(g,h)&&(s._setSettings(g),i.mockUserToken)){let y,_;if(typeof i.mockUserToken=="string")y=i.mockUserToken,_=Dn.MOCK_USER;else{y=lS(i.mockUserToken,s._app?.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new Ee(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Dn(E)}s._authCredentials=new YC(new b_(y,_))}}class jh{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new jh(this.firestore,e,this._query)}}class sn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}toJSON(){return{type:sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(zc(n,sn._jsonSchema))return new sn(e,i||null,new Ce(Ct.fromString(n.referencePath)))}}sn._jsonSchemaVersion="firestore/documentReference/1.0",sn._jsonSchema={type:Wt("string",sn._jsonSchemaVersion),referencePath:Wt("string")};class Nc extends jh{constructor(e,n,i){super(e,n,cg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new Ce(e))}withConverter(e){return new Nc(this.firestore,e,this._path)}}function np(s,e,...n){if(s=In(s),arguments.length===1&&(e=ng.newId()),s4("doc","path",e),s instanceof Ag){const i=Ct.fromString(e,...n);return nb(i),new sn(s,null,new Ce(i))}{if(!(s instanceof sn||s instanceof Nc))throw new Ee(ae.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(Ct.fromString(e,...n));return nb(i),new sn(s.firestore,s instanceof Nc?s.converter:null,new Ce(i))}}const Hb="AsyncQueue";class Gb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new d2(this,"async_queue_retry"),this._c=()=>{const i=ep();i&&ge(Hb,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=ep();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Aa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xl(e))throw e;ge(Hb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,$r("INTERNAL UNHANDLED ERROR: ",Qb(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Eg.createAndSchedule(this,e,n,i,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&je(47125,{Pc:Qb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Qb(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function $b(s){return(function(n,i){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of i)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Ac extends Ag{constructor(e,n,i,l){super(e,n,i,l),this.type="firestore",this._queue=new Gb,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gb(e),this._firestoreClient=void 0,await e}}}function YD(s,e){const n=typeof s=="object"?s:j1(),i=typeof s=="string"?s:Kd,l=Qp(n,"firestore").getImmediate({identifier:i});if(!l._initialized){const c=iS("firestore");c&&$D(l,...c)}return l}function R2(s){if(s._terminated)throw new Ee(ae.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||KD(s),s._firestoreClient}function KD(s){const e=s._freezeSettings(),n=(function(l,c,h,p){return new p4(l,c,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,C2(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new HD(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Ns{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ns(_n.fromBase64String(e))}catch(n){throw new Ee(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ns(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ns._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zc(e,Ns._jsonSchema))return Ns.fromBase64String(e.bytes)}}Ns._jsonSchemaVersion="firestore/bytes/1.0",Ns._jsonSchema={type:Wt("string",Ns._jsonSchemaVersion),bytes:Wt("string")};class Ih{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class kh{constructor(e){this._methodName=e}}class pr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pr._jsonSchemaVersion}}static fromJSON(e){if(zc(e,pr._jsonSchema))return new pr(e.latitude,e.longitude)}}pr._jsonSchemaVersion="firestore/geoPoint/1.0",pr._jsonSchema={type:Wt("string",pr._jsonSchemaVersion),latitude:Wt("number"),longitude:Wt("number")};class gr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,l){if(i.length!==l.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zc(e,gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new gr(e.vectorValues);throw new Ee(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gr._jsonSchemaVersion="firestore/vectorValue/1.0",gr._jsonSchema={type:Wt("string",gr._jsonSchemaVersion),vectorValues:Wt("object")};const XD=/^__.*__$/;class WD{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uc(e,this.data,n,this.fieldTransforms)}}class j2{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function I2(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{Ac:s})}}class Mh{constructor(e,n,i,l,c,h){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(I2(this.Ac)&&XD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class JD{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Ch(e)}Cc(e,n,i,l=!1){return new Mh({Ac:e,methodName:n,Dc:i,path:bn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function k2(s){const e=s._freezeSettings(),n=Ch(s._databaseId);return new JD(s._databaseId,!!e.ignoreUndefinedProperties,n)}function ZD(s,e,n,i,l,c={}){const h=s.Cc(c.merge||c.mergeFields?2:0,e,n,l);Dg("Data must be an object, but it was:",h,i);const p=M2(i,h);let g,y;if(c.merge)g=new ds(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const _=[];for(const E of c.mergeFields){const S=Op(e,E,n);if(!h.contains(S))throw new Ee(ae.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);V2(_,S)||_.push(S)}g=new ds(_),y=h.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=h.fieldTransforms;return new WD(new Jn(p),g,y)}class Oh extends kh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oh}}function e3(s,e,n){return new Mh({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Cg extends kh{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=e3(this,e,!0),i=this.vc.map((c=>Gc(c,n))),l=new Ul(i);return new F4(e.path,l)}isEqual(e){return e instanceof Cg&&qi(this.vc,e.vc)}}function t3(s,e,n,i){const l=s.Cc(1,e,n);Dg("Data must be an object, but it was:",l,i);const c=[],h=Jn.empty();Ji(i,((g,y)=>{const _=Rg(e,g,n);y=In(y);const E=l.yc(_);if(y instanceof Oh)c.push(_);else{const S=Gc(y,E);S!=null&&(c.push(_),h.set(_,S))}}));const p=new ds(c);return new j2(h,p,l.fieldTransforms)}function n3(s,e,n,i,l,c){const h=s.Cc(1,e,n),p=[Op(e,i,n)],g=[l];if(c.length%2!=0)throw new Ee(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)p.push(Op(e,c[S])),g.push(c[S+1]);const y=[],_=Jn.empty();for(let S=p.length-1;S>=0;--S)if(!V2(y,p[S])){const R=p[S];let P=g[S];P=In(P);const G=h.yc(R);if(P instanceof Oh)y.push(R);else{const q=Gc(P,G);q!=null&&(y.push(R),_.set(R,q))}}const E=new ds(y);return new j2(_,E,h.fieldTransforms)}function Gc(s,e){if(O2(s=In(s)))return Dg("Unsupported field value:",e,s),M2(s,e);if(s instanceof kh)return(function(i,l){if(!I2(l.Ac))throw l.Sc(`${i._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,l){const c=[];let h=0;for(const p of i){let g=Gc(p,l.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}})(s,e)}return(function(i,l){if((i=In(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return P4(l.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=wt.fromDate(i);return{timestampValue:th(l.serializer,c)}}if(i instanceof wt){const c=new wt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:th(l.serializer,c)}}if(i instanceof pr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ns)return{bytesValue:e2(l.serializer,i._byteString)};if(i instanceof sn){const c=l.databaseId,h=i.firestore._databaseId;if(!h.isEqual(c))throw l.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:fg(i.firestore._databaseId||l.databaseId,i._key.path)}}if(i instanceof gr)return(function(h,p){return{mapValue:{fields:{[D_]:{stringValue:R_},[Xd]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return ug(p.serializer,y)}))}}}}}})(i,l);throw l.Sc(`Unsupported field value: ${sg(i)}`)})(s,e)}function M2(s,e){const n={};return w_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ji(s,((i,l)=>{const c=Gc(l,e.mc(i));c!=null&&(n[i]=c)})),{mapValue:{fields:n}}}function O2(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof wt||s instanceof pr||s instanceof Ns||s instanceof sn||s instanceof kh||s instanceof gr)}function Dg(s,e,n){if(!O2(n)||!__(n)){const i=sg(n);throw i==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+i)}}function Op(s,e,n){if((e=In(e))instanceof Ih)return e._internalPath;if(typeof e=="string")return Rg(s,e);throw ih("Field path arguments must be of type string or ",s,!1,void 0,n)}const s3=new RegExp("[~\\*/\\[\\]]");function Rg(s,e,n){if(e.search(s3)>=0)throw ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Ih(...e.split("."))._internalPath}catch{throw ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function ih(s,e,n,i,l){const c=i&&!i.isEmpty(),h=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${i}`),h&&(g+=` in document ${l}`),g+=")"),new Ee(ae.INVALID_ARGUMENT,p+s+g)}function V2(s,e){return s.some((n=>n.isEqual(e)))}class B2{constructor(e,n,i,l,c){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(L2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class r3 extends B2{data(){return super.data()}}function L2(s,e){return typeof e=="string"?Rg(s,e):e instanceof Ih?e._internalPath:e._delegate._internalPath}function i3(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new Ee(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class a3{convertValue(e,n="none"){switch($i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ji(e,((l,c)=>{i[l]=this.convertValue(c,n)})),i}convertVectorValue(e){const n=e.fields?.[Xd].arrayValue?.values?.map((i=>zt(i.doubleValue)));return new gr(n)}convertGeoPoint(e){return new pr(zt(e.latitude),zt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=_h(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ec(e));default:return null}}convertTimestamp(e){const n=Gi(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ct.fromString(e);ot(a2(i),9688,{name:e});const l=new wc(i.get(1),i.get(3)),c=new Ce(i.popFirst(5));return l.isEqual(n)||$r(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function l3(s,e,n){let i;return i=s?s.toFirestore(e):e,i}class lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ca extends B2{constructor(e,n,i,l,c,h){super(e,n,i,l,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(L2("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ca._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ca._jsonSchema={type:Wt("string",Ca._jsonSchemaVersion),bundleSource:Wt("string","DocumentSnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class Bd extends Ca{data(e={}){return super.data(e)}}class kl{constructor(e,n,i,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new lc(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Bd(this._firestore,this._userDataWriter,i.key,i,new lc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map((p=>{const g=new Bd(l._firestore,l._userDataWriter,p.doc.key,p.doc,new lc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Bd(l._firestore,l._userDataWriter,p.doc.key,p.doc,new lc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,_=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),_=h.indexOf(p.doc.key)),{type:o3(p.type),doc:g,oldIndex:y,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=kl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ng.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function o3(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:s})}}kl._jsonSchemaVersion="firestore/querySnapshot/1.0",kl._jsonSchema={type:Wt("string",kl._jsonSchemaVersion),bundleSource:Wt("string","QuerySnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class P2 extends a3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ns(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function c3(s,e,n){s=Fi(s,sn);const i=Fi(s.firestore,Ac),l=l3(s.converter,e);return z2(i,[ZD(k2(i),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,fr.none())])}function u3(s,e,n,...i){s=Fi(s,sn);const l=Fi(s.firestore,Ac),c=k2(l);let h;return h=typeof(e=In(e))=="string"||e instanceof Ih?n3(c,"updateDoc",s._key,e,n,i):t3(c,"updateDoc",s._key,e),z2(l,[h.toMutation(s._key,fr.exists(!0))])}function d3(s,...e){s=In(s);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||$b(e[i])||(n=e[i++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if($b(e[i])){const g=e[i];e[i]=g.next?.bind(g),e[i+1]=g.error?.bind(g),e[i+2]=g.complete?.bind(g)}let c,h,p;if(s instanceof sn)h=Fi(s.firestore,Ac),p=cg(s._key.path),c={next:g=>{e[i]&&e[i](h3(h,s,g))},error:e[i+1],complete:e[i+2]};else{const g=Fi(s,jh);h=Fi(g.firestore,Ac),p=g._query;const y=new P2(h);c={next:_=>{e[i]&&e[i](new kl(h,y,g,_))},error:e[i+1],complete:e[i+2]},i3(s._query)}return(function(y,_,E,S){const R=new qD(S),P=new TD(_,R,E);return y.asyncQueue.enqueueAndForget((async()=>bD(await zb(y),P))),()=>{R.Nu(),y.asyncQueue.enqueueAndForget((async()=>_D(await zb(y),P)))}})(R2(h),p,l,c)}function z2(s,e){return(function(i,l){const c=new Aa;return i.asyncQueue.enqueueAndForget((async()=>MD(await QD(i),l,c))),c.promise})(R2(s),e)}function h3(s,e,n){const i=n.docs.get(e._key),l=new P2(s);return new Ca(s,l,e._key,i,new lc(n.hasPendingWrites,n.fromCache),e.converter)}function f3(...s){return new Cg("arrayUnion",s)}(function(e,n=!0){(function(l){Yl=l})(Gl),Ol(new ja("firestore",((i,{instanceIdentifier:l,options:c})=>{const h=i.getProvider("app").getImmediate(),p=new Ac(new KC(i.getProvider("auth-internal")),new JC(h,i.getProvider("app-check-internal")),(function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Ee(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wc(y.options.projectId,_)})(h,l),h);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Pi(Jx,Zx,e),Pi(Jx,Zx,"esm2020")})();var m3="firebase",p3="12.7.0";Pi(m3,p3,"app");const g3={apiKey:"AIzaSyC9LA_PFA6KZ7s8IlQdJuolA0gaBm8kgNI",authDomain:"simply-louie.firebaseapp.com",projectId:"simply-louie",storageBucket:"simply-louie.firebasestorage.app",messagingSenderId:"822487405638",appId:"1:822487405638:web:078f7f6b9e968f80266647"},U2=R1(g3),sp=GC(U2),rp=YD(U2),Di={names:"Louie & Florie",dateString:"July 4th, 2026",dateIso:"2026-07-04T00:00:00",location:"Cebu, Philippines",heroImage:"https://images.unsplash.com/photo-1519741497674-611481863552?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80",rsvpMode:"form",rsvpExternalLink:"https://forms.google.com/",rsvpDeadline:"May 1st, 2026",rsvpImage:"https://images.unsplash.com/photo-1606216794074-735e91aa2c92?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",instagram:"#",facebook:"#",contact:"#",logoText:"",websiteTitle:"",showOpeningScreen:!0,passcode:"admin",colorPalette:[{name:"Dusty Rose",hex:"#E6D2B5"},{name:"Sage Green",hex:"#8C9E8C"},{name:"Terracotta",hex:"#C76D55"},{name:"Cream",hex:"#FDFBF7"},{name:"Charcoal",hex:"#43342E"}],savedPalettes:[],guestList:[],notes:[],storyTitle:"Our Journey",storySubtitle:"Since 2018",story:[{date:"June 15, 2018",title:"The Encounter",description:"We met at a coffee shop in downtown. It started with a spilled latte and ended with a conversation that lasted for hours."},{date:"December 24, 2022",title:"Building a Home",description:"After a year and a half of adventures, we moved in together. Our first apartment was small, but full of love (and plants)."},{date:"August 10, 2024",title:"The Promise",description:"On a sunset hike overlooking the ocean, Louie got down on one knee. It was the easiest question Florie ever had to answer."}],eventsTitle:"The Events",eventsSubtitle:"Save the Date",timeline:[{time:"1:00 PM",title:"Preparation",description:"Bridal party getting ready and photos at the Hotel Suite.",icon:"camera"},{time:"3:00 PM",title:"Wedding Ceremony",description:"Processional and exchange of vows at St. Thrse Chapel.",icon:"heart"},{time:"4:30 PM",title:"Cocktails & Pictorials",description:"Enjoy drinks and grazing table at the Garden while the family takes photos.",icon:"wine"},{time:"6:00 PM",title:"Grand Entrance",description:"Welcoming Mr. & Mrs. Mendez to the Reception Hall.",icon:"music"},{time:"6:30 PM",title:"Dinner Feast",description:"A sumptuous buffet dinner accompanied by acoustic serenades.",icon:"utensils"},{time:"8:00 PM",title:"Cake Cutting & Toasts",description:"Traditional cutting of the cake and messages from loved ones.",icon:"wine"},{time:"9:00 PM",title:"Party Time",description:"Open dance floor and music under the stars!",icon:"music"}],events:[{title:"Welcome Party",time:"Friday, July 3  6:00 PM",description:"Join us for cocktails and hors d'oeuvres to kick off the celebration.",location:"The Gardens",mapLink:"https://maps.google.com",image:"https://images.unsplash.com/photo-1558636508-e0db3836bd1b?auto=format&fit=crop&w=800&q=80",icon:"wine"},{title:"The Ceremony",time:"Saturday, July 4  2:00 PM",description:"We exchange vows followed by dinner and dancing under the stars.",location:"St. Thrse",mapLink:"https://maps.google.com",image:"https://images.unsplash.com/photo-1548624298-967faff0d3b4?auto=format&fit=crop&w=800&q=80",icon:"heart"},{title:"Reception",time:"Saturday, July 4  6:00 PM",description:"Dinner, dancing, and drinks to celebrate the newlyweds.",location:"Reception Hall",mapLink:"https://maps.google.com",image:"https://images.unsplash.com/photo-1519741497674-611481863552?auto=format&fit=crop&w=800&q=80",icon:"music"}],entourageTitle:"The Entourage",entourageSubtitle:"Wedding Party",groomParents:"Mr. Rolando & Mrs. Elena Mendez",brideParents:"Mr. Francisco & Mrs. Maria Santos",bestMan:"Michael James",maidOfHonor:"Sarah Jean",groomsmen:["Adam Driver","Ben Affleck","Chris Evans","David Beckham"],bridesmaids:["Anna Smith","Bella Ciao","Cara Delevingne","Diane Lane"],principalSponsors:[{mr:"Mr. Juan Dela Cruz",mrs:"Mrs. Maria Dela Cruz"},{mr:"Mr. Pedro Santos",mrs:"Mrs. Ana Santos"},{mr:"Mr. Jose Rizal",mrs:"Mrs. Josephine Bracken"}],secondarySponsors:[{role:"Candle",names:"John & Jane"},{role:"Veil",names:"Mark & Mary"},{role:"Cord",names:"Luke & Lucy"}],bearers:[{role:"Ring",name:"Little Mr. C"},{role:"Coin",name:"Little Mr. D"},{role:"Bible",name:"Little Mr. E"}],flowerGirls:["Little Miss A","Little Miss B","Little Miss C"],offertory:["Family A","Family B"],entourageGroups:[],galleryImages:["https://images.unsplash.com/photo-1621621667797-e06afc217fb0?auto=format&fit=crop&w=600&q=90","https://images.unsplash.com/photo-1530023367847-a683933f4172?auto=format&fit=crop&w=600&q=90","https://images.unsplash.com/photo-1520854221256-17451cc330e7?auto=format&fit=crop&w=600&q=90","https://images.unsplash.com/photo-1535295972055-1c762f4483e5?auto=format&fit=crop&w=600&q=90","https://images.unsplash.com/photo-1516961642265-531546e84af2?auto=format&fit=crop&w=600&q=90","https://images.unsplash.com/photo-1522673607200-1645062cd958?auto=format&fit=crop&w=600&q=90","https://images.unsplash.com/photo-1519225421980-715cb0202128?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=90","https://images.unsplash.com/photo-1607193384230-25e635834331?auto=format&fit=crop&w=600&q=90"],registryTitle:"Gift Registry",registrySubtitle:"Love & Support",registryInstruction:"Your presence is the greatest gift, but if you wish to honor us with a gift, we've set up a registry for your convenience.",registryItems:[{type:"bank",accountName:"Louie Mendez",accountNumber:"1234-5678-90",bankName:"BDO Unibank",qrCode:"",label:"Bank Transfer"},{type:"ewallet",accountName:"Florie Santos",accountNumber:"0917-000-0000",bankName:"GCash",qrCode:"",label:"GCash"}],mapTitle:"Venue Map",mapSubtitle:"Church to Reception",mapEmbedUrl:"https://www.google.com/maps/embed?pb=!1m28!1m12!1m3!1d31405.021074747424!2d123.8824855877843!3d10.33166881775791!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m13!3e0!4m5!1s0x33a998b965e52569%3A0x11218408f6d8995c!2sBasilica%20Minore%20del%20Santo%20Ni%C3%B1o%20de%20Cebu!3m2!1d10.2941913!2d123.9021183!4m5!1s0x33a9992186481351%3A0xc6360f08960851ec!2sCasino%20Espa%C3%B1ol%20de%20Cebu!3m2!1d10.312999999999999!2d123.9024042!5e0!3m2!1sen!2sph!4v1716750000000!5m2!1sen!2sph",mapDestination:"Casino Espaol de Cebu, V. Ranudo St, Cebu City",mapInstructions:"The reception is approximately 15-20 minutes away from the church by car. Plenty of parking is available at the venue.",sectionOrder:[{id:"story",label:"Our Story",visible:!0},{id:"timeline",label:"Timeline",visible:!0},{id:"palette",label:"Color Palette",visible:!0},{id:"entourage",label:"Entourage",visible:!0},{id:"gallery",label:"Gallery",visible:!0},{id:"registry",label:"Gift Registry",visible:!0},{id:"rsvp",label:"RSVP",visible:!0},{id:"events",label:"Events",visible:!0},{id:"map",label:"Venue Map",visible:!0}]};const y3=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),v3=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Yb=s=>{const e=v3(s);return e.charAt(0).toUpperCase()+e.slice(1)},F2=(...s)=>s.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),x3=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var b3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const _3=O.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:c,iconNode:h,...p},g)=>O.createElement("svg",{ref:g,...b3,width:e,height:e,stroke:s,strokeWidth:i?Number(n)*24/Number(e):n,className:F2("lucide",l),...!c&&!x3(p)&&{"aria-hidden":"true"},...p},[...h.map(([y,_])=>O.createElement(y,_)),...Array.isArray(c)?c:[c]]));const _e=(s,e)=>{const n=O.forwardRef(({className:i,...l},c)=>O.createElement(_3,{ref:c,iconNode:e,className:F2(`lucide-${y3(Yb(s))}`,`lucide-${s}`,i),...l}));return n.displayName=Yb(s),n};const E3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Kb=_e("arrow-right",E3);const w3=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],T3=_e("arrow-up",w3);const S3=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],N3=_e("calendar-plus",S3);const A3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],C3=_e("calendar",A3);const D3=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Qc=_e("camera",D3);const R3=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],q2=_e("car",R3);const j3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Cc=_e("check",j3);const I3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Dc=_e("circle-alert",I3);const k3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],M3=_e("circle-check-big",k3);const O3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],V3=_e("circle-question-mark",O3);const B3=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],L3=_e("clipboard-list",B3);const P3=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Jl=_e("clock",P3);const z3=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],H2=_e("coffee",z3);const U3=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],F3=_e("copy",U3);const q3=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],H3=_e("credit-card",q3);const G3=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Q3=_e("database",G3);const $3=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Y3=_e("download",$3);const K3=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],G2=_e("external-link",K3);const X3=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],W3=_e("eye-off",X3);const J3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jg=_e("eye",J3);const Z3=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],Q2=_e("gem",Z3);const eR=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],ah=_e("gift",eR);const tR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ig=_e("globe",tR);const nR=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],sR=_e("grip-vertical",nR);const rR=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],$c=_e("heart",rR);const iR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Vp=_e("image",iR);const aR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],$2=_e("info",aR);const lR=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],oR=_e("link",lR);const cR=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Y2=_e("loader",cR);const uR=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],dR=_e("lock",uR);const hR=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Da=_e("map-pin",hR);const fR=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],K2=_e("map",fR);const mR=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],pR=_e("menu",mR);const gR=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Vh=_e("music",gR);const yR=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],vR=_e("palette",yR);const xR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],bR=_e("panels-top-left",xR);const _R=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],X2=_e("party-popper",_R);const ER=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],W2=_e("pen",ER);const wR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Cn=_e("plus",wR);const TR=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],J2=_e("qr-code",TR);const SR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],lh=_e("refresh-cw",SR);const NR=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Z2=_e("save",NR);const AR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],CR=_e("search",AR);const DR=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kg=_e("settings",DR);const RR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],jR=_e("shield-alert",RR);const IR=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],kR=_e("shirt",IR);const MR=[["path",{d:"M22 2 2 22",key:"y4kqgn"}]],Xb=_e("slash",MR);const OR=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],VR=_e("smartphone",OR);const BR=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],LR=_e("star",BR);const PR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],xr=_e("trash-2",PR);const zR=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],UR=_e("type",zR);const FR=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ra=_e("upload",FR);const qR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],HR=_e("users",qR);const GR=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Bh=_e("utensils",GR);const QR=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],$R=_e("wallet",QR);const YR=[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]],Lh=_e("wine",YR);const KR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],en=_e("x",KR);const XR=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],WR=_e("zoom-in",XR),JR=({activeTab:s,setActiveTab:e,resetConfirm:n,handleResetRequest:i})=>{const l=[{id:"guests",label:"Guest List",shortLabel:"Guests",icon:HR},{id:"planner",label:"Planner",shortLabel:"Plan",icon:L3},{id:"organizer",label:"Organizer",shortLabel:"Org",icon:bR},{id:"general",label:"General",shortLabel:"Gen",icon:kg},{id:"story",label:"Our Story",shortLabel:"Story",icon:$c},{id:"timeline",label:"Timeline",shortLabel:"Time",icon:Jl},{id:"events",label:"Events",shortLabel:"Events",icon:C3},{id:"entourage",label:"Entourage",shortLabel:"Entourage",icon:LR},{id:"colors",label:"Palette",shortLabel:"Palette",icon:vR},{id:"rsvp",label:"RSVP Config",shortLabel:"RSVP",icon:ah},{id:"images",label:"Images",shortLabel:"Imgs",icon:Vp},{id:"registry",label:"Gift Registry",shortLabel:"Gift",icon:ah},{id:"map",label:"Venue Map",shortLabel:"Map",icon:K2},{id:"systems",label:"Systems",shortLabel:"Sys",icon:Ig}];return u.jsxs("div",{className:"relative w-full md:w-64 bg-white border-b md:border-b-0 md:border-r border-[#E6D2B5]/30 flex shrink-0 z-20",children:[u.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-8 bg-gradient-to-r from-white to-transparent pointer-events-none z-10 md:hidden opacity-50"}),u.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-white to-transparent pointer-events-none z-10 md:hidden opacity-50"}),u.jsxs("div",{className:"flex flex-row md:flex-col overflow-x-auto md:overflow-y-auto md:overflow-x-visible w-full no-scrollbar md:pb-20",children:[l.map(c=>u.jsxs("button",{onClick:()=>e(c.id),className:`
                            flex-1 md:flex-none
                            flex flex-col md:flex-row items-center justify-center md:justify-start 
                            gap-1 md:gap-3 
                            px-3 md:px-8 
                            py-2 md:py-4 
                            min-w-[70px] md:min-w-0
                            text-[10px] md:text-xs font-bold uppercase tracking-wider md:tracking-widest 
                            transition-all whitespace-nowrap 
                            border-b-2 md:border-b-0 md:border-l-4 
                            ${s===c.id?"border-[#B08D55] bg-[#F9F4EF]/50 text-[#43342E]":"border-transparent text-[#8C7C72] hover:bg-gray-50"}
                        `,children:[u.jsx(c.icon,{size:s===c.id?18:16,className:`transition-transform duration-300 ${s===c.id?"scale-110":""}`}),u.jsxs("span",{className:"text-[9px] md:text-xs",children:[u.jsx("span",{className:"hidden md:inline",children:c.label}),u.jsx("span",{className:"md:hidden",children:c.shortLabel})]})]},c.id)),u.jsx("div",{className:"p-2 md:p-4 md:mt-auto md:px-8 md:pb-4 min-w-[100px] md:min-w-0 flex items-center shrink-0",children:u.jsxs("button",{onClick:i,className:`flex flex-col md:flex-row items-center gap-1 md:gap-2 text-[9px] md:text-xs uppercase tracking-wider transition-all duration-300 w-full justify-center py-2 md:py-3 rounded-md min-w-[60px] ${n?"bg-red-50 text-red-600 font-bold border border-red-200":"text-red-300 hover:text-red-500 hover:bg-red-50/50"}`,children:[n?u.jsx(xr,{size:14,className:"animate-bounce"}):u.jsx(lh,{size:14}),u.jsx("span",{className:"text-[8px] md:text-xs",children:n?"Sure?":"Reset"})]})})]})]})},ZR=({mode:s,guestForm:e,setGuestForm:n,onClose:i,onSave:l,onEdit:c,currentGuest:h})=>s==="none"?null:u.jsx("div",{className:"fixed inset-0 z-[70] bg-black/50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95",children:[u.jsxs("div",{className:"bg-[#F9F4EF] px-6 py-4 border-b border-[#E6D2B5] flex justify-between items-center",children:[u.jsx("h3",{className:"font-serif text-lg text-[#43342E]",children:s==="add"?"Add New Guest":s==="edit"?"Edit Guest":"Guest Details"}),u.jsxs("div",{className:"flex gap-2",children:[s==="view"&&u.jsxs("button",{onClick:c,className:"text-[#B08D55] hover:text-[#43342E] flex items-center gap-1 text-xs uppercase font-bold mr-2",children:[u.jsx(W2,{size:14})," Edit"]}),u.jsx("button",{onClick:i,className:"text-[#8C7C72] hover:text-[#43342E]",children:u.jsx(en,{size:20})})]})]}),u.jsx("div",{className:"p-6 space-y-4",children:s==="view"?u.jsxs("div",{className:"space-y-4 text-sm text-[#43342E]",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Full Name"}),u.jsx("div",{className:"p-2 bg-[#FAF9F6] border border-[#E6D2B5]/30 rounded",children:e.name})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Status"}),u.jsx("div",{className:"p-2 bg-[#FAF9F6] border border-[#E6D2B5]/30 rounded capitalize",children:e.attending==="undecided"?"Pending":e.attending})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Guests"}),u.jsx("div",{className:"p-2 bg-[#FAF9F6] border border-[#E6D2B5]/30 rounded",children:e.guests})]})]}),parseInt(e.guests)>1&&e.extraGuestNames?.some(p=>p)&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Additional Guests"}),u.jsx("div",{className:"p-2 bg-[#FAF9F6] border border-[#E6D2B5]/30 rounded space-y-1",children:e.extraGuestNames.map((p,g)=>p&&u.jsxs("div",{children:[" ",p]},g))})]}),e.rejectedIndividuals?.length>0&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-red-500 uppercase mb-1",children:"Rejected Individuals"}),u.jsx("div",{className:"p-2 bg-red-50/30 border border-red-100 rounded space-y-2",children:e.rejectedIndividuals.map((p,g)=>u.jsxs("div",{className:"flex justify-between items-center text-xs",children:[u.jsxs("span",{className:"text-red-700 strike-through opacity-70",children:[" ",p]}),u.jsx("button",{onClick:()=>{const y=e.rejectedIndividuals.filter((E,S)=>S!==g),_=[...e.extraGuestNames||[],p];n({...e,guests:(parseInt(e.guests)+1).toString(),extraGuestNames:_,rejectedIndividuals:y})},className:"text-green-600 bg-white border border-green-100 px-2 py-0.5 rounded-full hover:bg-green-50",children:"Approve"})]},g))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Email"}),u.jsx("div",{className:"p-2 bg-[#FAF9F6] border border-[#E6D2B5]/30 rounded",children:e.email||"-"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Message"}),u.jsx("div",{className:"p-2 bg-[#FAF9F6] border border-[#E6D2B5]/30 rounded min-h-[3rem] whitespace-pre-wrap",children:e.message||"-"})]}),h?.timestamp&&u.jsxs("div",{className:"text-xs text-gray-400 text-right",children:["Registered: ",new Date(h.timestamp).toLocaleString()]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Full Name"}),u.jsx("input",{type:"text",value:e.name,onChange:p=>n({...e,name:p.target.value}),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner",placeholder:"Guest Name"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Attending?"}),u.jsxs("select",{value:e.attending,onChange:p=>n({...e,attending:p.target.value}),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner",children:[u.jsx("option",{value:"yes",children:"Attending"}),u.jsx("option",{value:"undecided",children:"Pending"}),u.jsx("option",{value:"no",children:"Declined"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Guests Count"}),u.jsxs("select",{value:e.guests,onChange:p=>{const g=parseInt(p.target.value),y=e.extraGuestNames||[],_=Array(Math.max(0,g-1)).fill("").map((E,S)=>y[S]||"");n({...e,guests:p.target.value,extraGuestNames:_})},className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner",children:[u.jsx("option",{value:"1",children:"1 Person"}),u.jsx("option",{value:"2",children:"2 People"}),u.jsx("option",{value:"3",children:"3 People"}),u.jsx("option",{value:"4",children:"4 People"}),u.jsx("option",{value:"5",children:"5 People"})]})]})]}),parseInt(e.guests)>1&&u.jsxs("div",{className:"space-y-2 bg-gray-50 p-3 rounded border border-gray-100",children:[u.jsx("p",{className:"text-[10px] text-[#B08D55] uppercase font-bold",children:"Extra Guest Names"}),e.extraGuestNames.map((p,g)=>u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("input",{type:"text",placeholder:`Guest ${g+2} Name`,value:p,onChange:y=>{const _=[...e.extraGuestNames];_[g]=y.target.value,n({...e,extraGuestNames:_})},className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner text-xs"}),u.jsx("button",{onClick:()=>{const y=e.extraGuestNames[g],_=e.extraGuestNames.filter((S,R)=>R!==g),E=[...e.rejectedIndividuals||[],y];n({...e,guests:(parseInt(e.guests)-1).toString(),extraGuestNames:_,rejectedIndividuals:E})},className:"text-red-400 hover:text-red-600 p-1 bg-red-50 rounded",title:"Reject this person",children:u.jsx(en,{size:14})})]},g))]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Email (Optional)"}),u.jsx("input",{type:"email",value:e.email,onChange:p=>n({...e,email:p.target.value}),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Message / Notes"}),u.jsx("textarea",{value:e.message,onChange:p=>n({...e,message:p.target.value}),className:"w-full px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner h-20"})]}),u.jsx("button",{onClick:l,className:"w-full bg-[#43342E] text-white py-3 rounded text-xs font-bold uppercase tracking-widest hover:bg-[#5D4B42] transition-colors",children:s==="edit"?"Update Guest":"Add Guest"})]})})]})}),ej=({stats:s,statusFilter:e,setStatusFilter:n,searchTerm:i,setSearchTerm:l,filteredGuests:c,openGuestModal:h,updateGuestStatus:p,restoreIndividual:g,downloadCSV:y,deleteGuest:_})=>u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center border-b border-[#E6D2B5]/30 pb-6 gap-4",children:u.jsxs("div",{className:"shrink-0",children:[u.jsx("h3",{className:"font-serif text-2xl text-[#43342E] mb-1",children:"Guest Management"}),u.jsx("p",{className:"text-xs text-[#8C7C72]",children:"Track RSVPs and manage your guest list"})]})}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"bg-white p-4 rounded border border-[#E6D2B5]/30 text-center",children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-[#8C7C72] mb-1",children:"Total Heads"}),u.jsx("p",{className:"font-serif text-2xl text-[#43342E]",children:s.totalHeads}),u.jsxs("p",{className:"text-[9px] text-gray-400 mt-1",children:[s.totalSubmissions," groups"]})]}),u.jsxs("div",{className:"bg-white p-4 rounded border border-green-100 text-center",children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-green-600 mb-1",children:"Attending"}),u.jsx("p",{className:"font-serif text-2xl text-green-700",children:s.attendingHeads}),u.jsx("p",{className:"text-[9px] text-green-500/60 mt-1",children:"Confirmed"})]}),u.jsxs("div",{className:"bg-white p-4 rounded border border-amber-100 text-center",children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-amber-600 mb-1",children:"Pending"}),u.jsx("p",{className:"font-serif text-2xl text-amber-700",children:s.pendingReviewHeads}),u.jsx("p",{className:"text-[9px] text-amber-500/60 mt-1",children:"Reviewing"})]}),u.jsxs("div",{className:"bg-white p-4 rounded border border-red-50 text-center",children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-red-400 mb-1",children:"Declined"}),u.jsx("p",{className:"font-serif text-2xl text-red-500",children:s.declinedByGuestHeads}),u.jsx("p",{className:"text-[9px] text-red-400/60 mt-1",children:"By Guest"})]}),u.jsxs("div",{className:"bg-[#1F1815] p-4 rounded border border-black text-center",children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-[#DBC1A7] mb-1",children:"Rejected"}),u.jsx("p",{className:"font-serif text-2xl text-[#F9F4EF]",children:s.rejectedByAdminHeads}),u.jsx("p",{className:"text-[9px] text-[#DBC1A7]/60 mt-1",children:"By Admin"})]})]}),u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white p-4 rounded border border-[#E6D2B5]/30 shadow-sm",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-3 w-full md:w-auto",children:[u.jsx("button",{onClick:y,className:"w-10 h-10 bg-[#43342E] text-white p-2 rounded-full flex items-center justify-center hover:bg-[#5D4B42] transition-colors shadow-sm",title:"Export CSV",children:u.jsx(Y3,{size:18})}),u.jsx("button",{onClick:()=>h(null,"add"),className:"w-10 h-10 bg-[#B08D55] text-white p-2 rounded-full flex items-center justify-center hover:bg-[#8C6B3F] transition-colors shadow-sm",title:"Add Guest",children:u.jsx(Cn,{size:18})}),u.jsxs("select",{value:e,onChange:E=>n(E.target.value),className:"h-10 bg-white border border-[#E6D2B5] text-[10px] uppercase font-bold tracking-wider px-4 py-2 rounded-full outline-none focus:border-[#B08D55] text-[#43342E] cursor-pointer hover:bg-gray-100 transition-colors shadow-sm min-w-[130px]",children:[u.jsx("option",{value:"all",children:"All RSVP"}),u.jsx("option",{value:"yes",children:"Attending"}),u.jsx("option",{value:"undecided",children:"Pending Review"}),u.jsx("option",{value:"no",children:"Guest Declined"}),u.jsx("option",{value:"rejected",children:"Admin Rejected"})]})]}),u.jsxs("div",{className:"relative w-full md:w-96",children:[u.jsx(CR,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#8C7C72]",size:14}),u.jsx("input",{type:"text",placeholder:"Search guests...",value:i,onChange:E=>l(E.target.value),className:"h-10 pl-11 pr-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] w-full rounded-full shadow-inner placeholder:text-gray-400"})]})]}),u.jsx("div",{className:"bg-white rounded border border-[#E6D2B5]/30 overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left min-w-[600px]",children:[u.jsx("thead",{className:"bg-[#F9F4EF] text-[#B08D55] text-[10px] uppercase tracking-wider font-bold",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-4",children:"Name"}),u.jsx("th",{className:"p-4",children:"Status"}),u.jsx("th",{className:"p-4",children:"Guests"}),u.jsx("th",{className:"p-4 text-right",children:"Action"})]})}),u.jsx("tbody",{className:"divide-y divide-[#E6D2B5]/20 text-sm text-[#43342E]",children:c.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"4",className:"p-8 text-center text-[#8C7C72] italic",children:"No guests found."})}):c.map((E,S)=>u.jsxs("tr",{className:"hover:bg-[#FAF9F6]",children:[u.jsx("td",{className:"p-4 font-medium",children:u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("span",{children:E.name}),E.extraGuestNames?.length>0&&E.extraGuestNames.some(R=>R)&&u.jsxs("div",{className:"text-[10px] text-gray-500 pl-2 border-l border-[#E6D2B5]",children:["+ ",E.extraGuestNames.filter(R=>R).join(", ")]}),E.rejectedIndividuals?.length>0&&u.jsx("div",{className:"flex flex-col gap-1 mt-1 pl-2 border-l border-red-200",children:E.rejectedIndividuals.map((R,P)=>u.jsxs("div",{className:"flex items-center gap-2 group/item",children:[u.jsxs("span",{className:"text-[10px] text-red-400 bg-red-50/50 px-1.5 py-0.5 rounded flex items-center gap-1 leading-none uppercase font-bold",children:[u.jsx(Xb,{size:8})," Rejected: ",R]}),u.jsxs("button",{onClick:()=>g(E,R),className:"hidden group-hover/item:flex items-center gap-1 text-[9px] text-green-600 bg-white border border-green-100 px-1 rounded hover:bg-green-50",title:`Restore ${R}`,children:[u.jsx(Cc,{size:10})," Restore"]})]},P))})]})}),u.jsx("td",{className:"p-4",children:E.attending==="no"?u.jsxs("span",{className:"inline-flex items-center gap-1 text-red-600 bg-red-50 px-2 py-1 rounded text-xs font-bold uppercase",children:[u.jsx(en,{size:12})," Declined"]}):E.adminStatus==="rejected"?u.jsxs("span",{className:"inline-flex items-center gap-1 text-white bg-black px-2 py-1 rounded text-xs font-bold uppercase",children:[u.jsx(Xb,{size:12})," Rejected"]}):E.adminStatus==="approved"?u.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 bg-green-50 px-2 py-1 rounded text-xs font-bold uppercase",children:[u.jsx(M3,{size:12})," Approved"]}):u.jsxs("span",{className:"inline-flex items-center gap-1 text-amber-600 bg-amber-50 px-2 py-1 rounded text-xs font-bold uppercase",children:[u.jsx(Dc,{size:12})," Pending Review"]})}),u.jsx("td",{className:"p-4",children:E.guests}),u.jsxs("td",{className:"p-4 text-right flex justify-end gap-2",children:[(E.attending==="yes"||E.adminStatus)&&u.jsxs(u.Fragment,{children:[E.adminStatus!=="approved"&&u.jsx("button",{onClick:()=>p(E,"yes"),className:"text-green-500 hover:text-green-700 p-1 bg-green-50 hover:bg-green-100 rounded",title:"Approve",children:u.jsx(Cc,{size:16})}),E.adminStatus!=="rejected"&&u.jsx("button",{onClick:()=>p(E,"no"),className:"text-red-500 hover:text-red-700 p-1 bg-red-50 hover:bg-red-100 rounded",title:"Reject",children:u.jsx(en,{size:16})}),E.adminStatus&&u.jsx("button",{onClick:()=>p(E,"undecided"),className:"text-amber-500 hover:text-amber-700 p-1 bg-amber-50 hover:bg-amber-100 rounded",title:"Reset Status",children:u.jsx(lh,{size:14})}),u.jsx("div",{className:"w-[1px] h-4 bg-gray-200 mx-1 self-center"})]}),u.jsx("button",{onClick:()=>h(E,"view"),className:"text-blue-400 hover:text-blue-600 p-1",title:"View Details",children:u.jsx(jg,{size:16})}),u.jsx("button",{onClick:()=>_(E),className:"text-gray-400 hover:text-red-600 p-1",title:"Delete",children:u.jsx(xr,{size:16})})]})]},S))})]})})]}),tj=({config:s,addNote:e,updateNote:n,deleteNote:i})=>u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsxs("div",{className:"flex justify-between items-end border-b border-[#E6D2B5]/30 pb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-serif text-2xl text-[#43342E] mb-2",children:"Meeting Notes & Checklist"}),u.jsx("p",{className:"text-xs text-[#8C7C72]",children:"Keep track of your planning to-dos"})]}),u.jsxs("button",{onClick:e,className:"bg-[#43342E] text-white px-4 py-2 rounded text-xs font-bold uppercase tracking-wider flex items-center gap-2 hover:bg-[#5D4B42]",children:[u.jsx(Cn,{size:14})," ",u.jsx("span",{className:"hidden md:inline",children:"Add Note"})]})]}),u.jsxs("div",{className:"grid gap-4",children:[s.notes?.map(l=>u.jsxs("div",{className:`bg-white p-4 rounded border flex items-start gap-4 transition-all ${l.completed?"opacity-60 border-green-100":"border-[#E6D2B5]/50"}`,children:[u.jsx("button",{onClick:()=>n(l.id,"completed",!l.completed),className:`mt-1 w-5 h-5 rounded-full border flex items-center justify-center transition-colors shrink-0 ${l.completed?"bg-green-500 border-green-500 text-white":"border-[#E6D2B5] text-transparent hover:border-[#B08D55]"}`,children:u.jsx(Cc,{size:12,strokeWidth:3})}),u.jsxs("div",{className:"flex-1 space-y-2 min-w-0",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:gap-4",children:[u.jsx("input",{type:"text",value:l.text,onChange:c=>n(l.id,"text",c.target.value),className:`w-full bg-transparent border-b border-transparent focus:border-[#B08D55] outline-none font-medium text-[#43342E] ${l.completed?"line-through text-[#8C7C72]":""}`}),u.jsx("input",{type:"date",value:l.date,onChange:c=>n(l.id,"date",c.target.value),className:"text-xs text-[#8C7C72] bg-transparent outline-none md:text-right"})]}),u.jsx("textarea",{placeholder:"Add details...",value:l.details||"",onChange:c=>n(l.id,"details",c.target.value),className:"w-full text-sm text-[#8C7C72] bg-transparent resize-none outline-none",rows:1})]}),u.jsx("button",{onClick:()=>i(l.id),className:"text-gray-300 hover:text-red-400 transition-colors shrink-0",children:u.jsx(en,{size:16})})]},l.id)),(!s.notes||s.notes.length===0)&&u.jsx("div",{className:"text-center py-12 bg-white rounded border border-dashed border-[#E6D2B5]/50",children:u.jsx("p",{className:"text-[#8C7C72] italic text-sm",children:"No notes yet. Start planning by adding your first note!"})})]})]}),nj=({config:s,updateConfig:e,handleImageChange:n})=>u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsx("h3",{className:"font-serif text-lg text-[#43342E] border-b border-[#E6D2B5]/30 pb-2",children:"Core Details"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Couple Names"}),u.jsx("input",{type:"text",value:s.names,onChange:i=>e("names",i.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner"})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Display Date"}),u.jsx("input",{type:"text",value:s.dateString,onChange:i=>e("dateString",i.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner"})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Countdown Date"}),u.jsx("input",{type:"datetime-local",value:s.dateIso?.substring(0,16),onChange:i=>e("dateIso",i.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner"})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Location"}),u.jsx("input",{type:"text",value:s.location,onChange:i=>e("location",i.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner"})]})]}),u.jsxs("div",{className:"border-t border-[#E6D2B5]/30 pt-8 mt-4",children:[u.jsxs("h3",{className:"font-serif text-lg text-[#43342E] mb-6 flex items-center gap-2",children:[u.jsx(Ig,{size:18})," Browser & Device Styling"]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Favicon Icon (Tab Icon)"}),u.jsxs("div",{className:"flex gap-4 items-center",children:[u.jsx("div",{className:"w-10 h-10 border border-[#E6D2B5] p-1 flex items-center justify-center bg-gray-50 shrink-0",children:s.faviconUrl?u.jsx("img",{src:s.faviconUrl,className:"max-w-full max-h-full",alt:"Favicon"}):u.jsx("span",{className:"text-[8px] text-gray-400",children:"None"})}),u.jsx("div",{className:"flex-1 space-y-2",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("label",{className:"cursor-pointer bg-white border border-[#E6D2B5] px-3 py-2 text-[10px] uppercase font-bold hover:bg-[#FAF9F6] flex items-center justify-center gap-2 w-full md:w-fit transition-colors",children:[u.jsx(Ra,{size:12})," Upload Icon",u.jsx("input",{type:"file",className:"hidden",accept:"image/png,image/x-icon,image/jpeg",onChange:i=>n(i,"faviconUrl")})]}),s.faviconUrl&&u.jsx("button",{onClick:()=>e("faviconUrl",""),className:"px-3 py-2 border border-red-200 text-red-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Remove Favicon",children:u.jsx(xr,{size:12})})]})})]}),u.jsx("input",{type:"text",value:s.faviconUrl||"",onChange:i=>e("faviconUrl",i.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner mt-2 text-xs",placeholder:"Or paste image URL..."})]}),u.jsxs("div",{className:"group",children:[u.jsxs("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2 flex items-center gap-2",children:[u.jsx(VR,{size:12})," Mobile Theme Color"]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("input",{type:"color",value:s.themeColor||"#FAF9F6",onChange:i=>e("themeColor",i.target.value),className:"w-10 h-10 p-1 bg-white border border-[#E6D2B5] cursor-pointer"}),u.jsx("input",{type:"text",value:s.themeColor||"#FAF9F6",onChange:i=>e("themeColor",i.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner uppercase font-mono",maxLength:7})]}),u.jsx("p",{className:"text-[9px] text-[#8C7C72] mt-2 leading-tight",children:"Controls the color of the browser address bar on mobile devices."})]})]})]}),u.jsxs("div",{className:"border-t border-[#E6D2B5]/30 pt-8 mt-4",children:[u.jsxs("h3",{className:"font-serif text-lg text-[#43342E] mb-6 flex items-center gap-2",children:[u.jsx(UR,{size:18})," Branding & Logo"]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Website Title"}),u.jsx("input",{type:"text",value:s.websiteTitle||"",onChange:i=>e("websiteTitle",i.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner",placeholder:"e.g. Louie & Florie's Wedding"})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Logo Text"}),u.jsx("input",{type:"text",value:s.logoText||"",onChange:i=>e("logoText",i.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner",placeholder:"Auto-generated if empty"})]}),u.jsxs("div",{className:"group md:col-span-2",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Logo Image (Optional)"}),u.jsxs("div",{className:"flex gap-4 items-center",children:[s.logoImage&&u.jsx("img",{src:s.logoImage,alt:"Logo Preview",className:"h-10 w-auto border border-[#E6D2B5] p-1"}),u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("label",{className:"cursor-pointer bg-white border border-[#E6D2B5] text-[#43342E] px-4 py-2 text-xs uppercase font-bold hover:bg-[#FAF9F6] flex items-center justify-center gap-2 w-fit",children:[u.jsx(Ra,{size:14})," Upload Logo Image",u.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:i=>n(i,"logoImage")})]}),s.logoImage&&u.jsx("button",{onClick:()=>e("logoImage",""),className:"px-3 py-2 border border-red-200 text-red-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Remove Logo",children:u.jsx(xr,{size:14})})]})})]})]})]})]}),u.jsxs("div",{className:"border-t border-[#E6D2B5]/30 pt-8 mt-4",children:[u.jsx("h3",{className:"font-serif text-lg text-[#43342E] mb-6",children:"Social & Contact Links"}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Instagram URL"}),u.jsx("input",{type:"text",value:s.instagram,onChange:i=>e("instagram",i.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner",placeholder:"#"})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Facebook URL"}),u.jsx("input",{type:"text",value:s.facebook,onChange:i=>e("facebook",i.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner",placeholder:"#"})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Contact URL"}),u.jsx("input",{type:"text",value:s.contact,onChange:i=>e("contact",i.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner",placeholder:"mailto:us@example.com"})]})]})]})]}),sj=({config:s,updateConfig:e,updateStory:n,addStoryItem:i,removeStoryItem:l})=>u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsxs("div",{className:"flex justify-between items-center border-b border-[#E6D2B5]/30 pb-2",children:[u.jsx("h3",{className:"font-serif text-lg text-[#43342E]",children:"Our Journey Timeline"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[8px] font-bold text-[#B08D55] uppercase",children:"Title"}),u.jsx("input",{type:"text",value:s.storyTitle,onChange:c=>e("storyTitle",c.target.value),className:"border-none bg-transparent font-serif text-lg focus:outline-none text-right w-24 md:w-32"})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[8px] font-bold text-[#B08D55] uppercase",children:"Subtitle"}),u.jsx("input",{type:"text",value:s.storySubtitle,onChange:c=>e("storySubtitle",c.target.value),className:"border-none bg-transparent font-serif text-lg focus:outline-none text-right w-24 md:w-32"})]})]})]}),s.story?.map((c,h)=>u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-[#E6D2B5]/50 relative group transition-all hover:shadow-md",children:[u.jsx("button",{onClick:()=>l(h),className:"absolute top-4 right-4 text-red-300 hover:text-red-500 transition-colors p-1",title:"Remove Item",children:u.jsx(xr,{size:16})}),u.jsxs("div",{className:"grid md:grid-cols-12 gap-4",children:[u.jsxs("div",{className:"md:col-span-3",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Date"}),u.jsx("input",{type:"text",value:c.date,onChange:p=>n(h,"date",p.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm"})]}),u.jsxs("div",{className:"md:col-span-9 pr-8",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Title"}),u.jsx("input",{type:"text",value:c.title,onChange:p=>n(h,"title",p.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 font-serif text-lg mb-2"}),u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Description"}),u.jsx("textarea",{value:c.description,onChange:p=>n(h,"description",p.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm h-20"})]})]})]},h)),u.jsxs("button",{onClick:i,className:"w-full py-4 border-2 border-dashed border-[#E6D2B5] text-[#B08D55] uppercase text-xs font-bold tracking-widest hover:bg-[#E6D2B5]/10 transition-colors flex items-center justify-center gap-2",children:[u.jsx(Cn,{size:16})," Add Timeline Milestone"]})]}),rj=[{id:"clock",icon:Jl,label:"Clock"},{id:"coffee",icon:H2,label:"Coffee"},{id:"heart",icon:$c,label:"Heart"},{id:"camera",icon:Qc,label:"Camera"},{id:"music",icon:Vh,label:"Music"},{id:"utensils",icon:Bh,label:"Food"},{id:"wine",icon:Lh,label:"Drinks"},{id:"car",icon:q2,label:"Travel"},{id:"ring",icon:Q2,label:"Ring"}],ij=({config:s,updateConfig:e})=>u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsxs("div",{className:"flex justify-between items-center border-b border-[#E6D2B5]/30 pb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-serif text-2xl text-[#43342E] mb-2",children:"Wedding Day Timeline"}),u.jsx("p",{className:"text-xs text-[#8C7C72]",children:"Manage the flow of your wedding day program"})]}),u.jsxs("button",{onClick:()=>{const n={time:"00:00 AM",title:"New Event",description:"Event description"};e("timeline",[...s.timeline||[],n])},className:"bg-[#B08D55] text-white px-4 py-2 rounded-full text-xs uppercase font-bold flex items-center gap-2 hover:bg-[#8C6B3F] transition-colors",children:[u.jsx(Cn,{size:14})," Add Event"]})]}),u.jsx("div",{className:"space-y-4",children:s.timeline?.map((n,i)=>u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-[#E6D2B5]/50 shadow-sm relative group",children:[u.jsx("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx("button",{onClick:()=>{const l=s.timeline.filter((c,h)=>h!==i);e("timeline",l)},className:"text-red-300 hover:text-red-500 p-1",title:"Remove Event",children:u.jsx(xr,{size:16})})}),u.jsxs("div",{className:"grid md:grid-cols-12 gap-4",children:[u.jsxs("div",{className:"md:col-span-3",children:[u.jsx("label",{className:"block text-[10px] uppercase font-bold text-[#B08D55] mb-1",children:"Time"}),u.jsx("input",{type:"text",value:n.time,onChange:l=>{const c=[...s.timeline];c[i]={...n,time:l.target.value},e("timeline",c)},className:"w-full bg-[#FAF9F6] border border-[#E6D2B5]/30 p-2 rounded text-[#43342E] font-medium",placeholder:"e.g. 3:00 PM"})]}),u.jsxs("div",{className:"md:col-span-4",children:[u.jsx("label",{className:"block text-[10px] uppercase font-bold text-[#B08D55] mb-1",children:"Title"}),u.jsx("input",{type:"text",value:n.title,onChange:l=>{const c=[...s.timeline];c[i]={...n,title:l.target.value},e("timeline",c)},className:"w-full bg-[#FAF9F6] border border-[#E6D2B5]/30 p-2 rounded text-[#43342E] font-serif",placeholder:"Event Title"})]}),u.jsxs("div",{className:"md:col-span-12 mt-2",children:[u.jsx("label",{className:"block text-[10px] uppercase font-bold text-[#B08D55] mb-2",children:"Event Icon"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:rj.map(l=>u.jsxs("button",{onClick:()=>{const c=[...s.timeline];c[i]={...n,icon:l.id},e("timeline",c)},className:`p-2 rounded border flex items-center gap-2 text-xs transition-all ${n.icon===l.id?"bg-[#B08D55] text-white border-[#B08D55]":"bg-white border-[#E6D2B5]/50 text-[#8C7C72] hover:border-[#B08D55]"}`,title:l.label,children:[u.jsx(l.icon,{size:14}),u.jsx("span",{className:"hidden sm:inline",children:l.label})]},l.id))})]}),u.jsxs("div",{className:"md:col-span-5",children:[u.jsx("label",{className:"block text-[10px] uppercase font-bold text-[#B08D55] mb-1",children:"Description"}),u.jsx("input",{type:"text",value:n.description,onChange:l=>{const c=[...s.timeline];c[i]={...n,description:l.target.value},e("timeline",c)},className:"w-full bg-[#FAF9F6] border border-[#E6D2B5]/30 p-2 rounded text-[#43342E] text-sm",placeholder:"Short description"})]})]})]},i))})]}),Wb=[{value:"music",label:"Music",icon:Vh},{value:"heart",label:"Heart",icon:$c},{value:"clock",label:"Clock",icon:Jl},{value:"location",label:"Location",icon:Da},{value:"wine",label:"Wine",icon:Lh},{value:"utensils",label:"Food",icon:Bh},{value:"camera",label:"Photo",icon:Qc},{value:"party",label:"Party",icon:X2}],aj=({config:s,updateConfig:e,updateEvent:n,processImage:i})=>{const[l,c]=O.useState(null);return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsxs("div",{className:"flex justify-between items-center border-b border-[#E6D2B5]/30 pb-2",children:[u.jsx("h3",{className:"font-serif text-lg text-[#43342E]",children:"Wedding Events"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[8px] font-bold text-[#B08D55] uppercase",children:"Title"}),u.jsx("input",{type:"text",value:s.eventsTitle,onChange:h=>e("eventsTitle",h.target.value),className:"border-none bg-transparent font-serif text-lg focus:outline-none text-right w-24 md:w-32"})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[8px] font-bold text-[#B08D55] uppercase",children:"Subtitle"}),u.jsx("input",{type:"text",value:s.eventsSubtitle,onChange:h=>e("eventsSubtitle",h.target.value),className:"border-none bg-transparent font-serif text-lg focus:outline-none text-right w-24 md:w-32"})]}),u.jsxs("button",{onClick:()=>{const h=[...s.events||[],{title:"New Event",time:"Date & Time",description:"Event description.",location:"Location Name",mapLink:"https://maps.google.com",icon:"location"}];e("events",h)},className:"bg-[#B08D55] text-white px-3 md:px-4 py-2 rounded-full text-[10px] md:text-xs uppercase font-bold flex items-center gap-2 hover:bg-[#8C6B3F] transition-colors",children:[u.jsx(Cn,{size:14})," ",u.jsx("span",{className:"hidden md:inline",children:"Add Event"})]})]})]}),u.jsx("div",{className:"grid gap-6",children:s.events?.map((h,p)=>u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-[#E6D2B5]/50 relative group",children:[u.jsx("div",{className:"absolute top-4 right-4 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx("button",{onClick:()=>{if(confirm("Delete this event?")){const g=s.events.filter((y,_)=>_!==p);e("events",g)}},className:"bg-white text-red-300 hover:text-red-500 p-2 rounded-full shadow-md hover:bg-red-50 transition-colors",title:"Delete Event",children:u.jsx(xr,{size:16})})}),u.jsxs("div",{className:"flex items-center gap-4 mb-6 relative z-20",children:[u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>c(l===p?null:p),className:"w-10 h-10 rounded-full bg-[#FAF9F6] border border-[#E6D2B5] flex items-center justify-center text-[#B08D55] shadow-sm hover:bg-[#E6D2B5] hover:text-white transition-colors",title:"Change Icon",children:(()=>{const g=Wb.find(y=>y.value===h.icon)?.icon||Da;return u.jsx(g,{size:20})})()}),l===p&&u.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white border border-[#E6D2B5]/50 rounded-lg shadow-xl p-2 w-48 z-50 grid grid-cols-4 gap-2 animate-in zoom-in-95 duration-200",children:Wb.map(g=>u.jsx("button",{onClick:()=>{n(p,"icon",g.value),c(null)},className:`p-2 rounded hover:bg-[#F9F4EF] flex items-center justify-center transition-colors ${h.icon===g.value?"bg-[#E6D2B5] text-white":"text-[#8C7C72]"}`,title:g.label,children:u.jsx(g.icon,{size:16})},g.value))})]}),u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsxs("span",{className:"text-xs uppercase font-bold tracking-wider text-[#B08D55]",children:["Event ",p+1]}),u.jsxs("label",{className:"cursor-pointer text-[10px] text-[#8C7C72] hover:text-[#B08D55] flex items-center gap-1 bg-[#FAF9F6] px-2 py-1 rounded border border-[#E6D2B5]/20 hover:border-[#E6D2B5]",children:[u.jsx(Vp,{size:12})," Change Photo",u.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:async g=>{const y=g.target.files[0];if(y){const _=await i(y);if(_.length>1e6){Pt.error("Image too large");return}const E=[...s.events];E[p]={...h,image:_},e("events",E),Pt.success("Image updated!")}}})]})]})})]}),u.jsxs("div",{className:"w-full h-32 bg-[#FAF9F6] border border-[#E6D2B5]/30 rounded mb-4 overflow-hidden relative group/img z-10",children:[h.image?u.jsx("img",{src:h.image,alt:"Event Context",className:"w-full h-full object-cover"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-[#E6D2B5]",children:u.jsx(Vp,{size:32,opacity:.5})}),u.jsxs("label",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover/img:opacity-100 transition-opacity flex items-center justify-center text-white text-xs font-bold cursor-pointer uppercase tracking-widest gap-2",children:[u.jsx(Ra,{size:14})," Upload Details Photo",u.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:async g=>{const y=g.target.files[0];if(y){const _=await i(y),E=[...s.events];E[p]={...h,image:_},e("events",E)}}})]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Event Title"}),u.jsx("input",{type:"text",value:h.title,onChange:g=>n(p,"title",g.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 font-serif text-lg"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Time / Date"}),u.jsx("input",{type:"text",value:h.time,onChange:g=>n(p,"time",g.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm font-bold text-[#B08D55]"})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Description"}),u.jsx("textarea",{value:h.description,onChange:g=>n(p,"description",g.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm h-16"})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Location Name"}),u.jsx("input",{type:"text",value:h.location,onChange:g=>n(p,"location",g.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Map Link (URL)"}),u.jsx("input",{type:"text",value:h.mapLink||"",onChange:g=>n(p,"mapLink",g.target.value),placeholder:"https://maps.google.com/...",className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm text-blue-600"})]})]})]},p))})]})},lj=({config:s,updateConfig:e,updateListItem:n,addListItem:i,removeListItem:l,updatePrincipalSponsor:c,addPrincipalSponsor:h,removePrincipalSponsor:p,updateSecondarySponsor:g,addSecondarySponsor:y,removeSecondarySponsor:_,updateBearer:E,addBearer:S,removeBearer:R,updateEntourageGroup:P,updateEntourageName:G,addEntourageName:q,removeEntourageName:ne,addEntourageGroup:le,removeEntourageGroup:Z})=>u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsxs("div",{className:"flex justify-between items-center border-b border-[#E6D2B5]/30 pb-2",children:[u.jsx("h3",{className:"font-serif text-lg text-[#43342E]",children:"Wedding Entourage"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[8px] font-bold text-[#B08D55] uppercase",children:"Title"}),u.jsx("input",{type:"text",value:s.entourageTitle||"",onChange:re=>e("entourageTitle",re.target.value),className:"border-none bg-transparent font-serif text-lg focus:outline-none text-right w-24 md:w-32",placeholder:"The Entourage"})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[8px] font-bold text-[#B08D55] uppercase",children:"Subtitle"}),u.jsx("input",{type:"text",value:s.entourageSubtitle||"",onChange:re=>e("entourageSubtitle",re.target.value),className:"border-none bg-transparent font-serif text-lg focus:outline-none text-right w-24 md:w-32",placeholder:"Wedding Party"})]})]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8 p-6 bg-white rounded-lg border border-[#E6D2B5]",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Parents of the Groom"}),u.jsx("input",{type:"text",value:s.groomParents||"",onChange:re=>e("groomParents",re.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner font-serif text-lg text-center",placeholder:"Mr. & Mrs. Name"})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Parents of the Bride"}),u.jsx("input",{type:"text",value:s.brideParents||"",onChange:re=>e("brideParents",re.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner font-serif text-lg text-center",placeholder:"Mr. & Mrs. Name"})]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8 p-6 bg-[#F9F4EF] rounded-lg border border-[#E6D2B5]",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Maid of Honor"}),u.jsx("input",{type:"text",value:s.maidOfHonor||"",onChange:re=>e("maidOfHonor",re.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner font-serif text-lg text-center",placeholder:"Name Here"})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Best Man"}),u.jsx("input",{type:"text",value:s.bestMan||"",onChange:re=>e("bestMan",re.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner font-serif text-lg text-center",placeholder:"Name Here"})]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-[#E6D2B5]/50",children:[u.jsx("h4",{className:"text-xs font-bold text-[#B08D55] uppercase mb-4",children:"Bridesmaids"}),u.jsxs("div",{className:"space-y-2",children:[s.bridesmaids?.map((re,ie)=>u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:re,onChange:oe=>n("bridesmaids",ie,oe.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm"}),u.jsx("button",{onClick:()=>l("bridesmaids",ie),className:"text-gray-300 hover:text-red-400 p-2",children:u.jsx(en,{size:14})})]},ie)),u.jsxs("button",{onClick:()=>i("bridesmaids"),className:"mt-2 text-[10px] uppercase font-bold text-[#B08D55] hover:text-[#43342E] flex items-center gap-1",children:[u.jsx(Cn,{size:12})," Add Bridesmaid"]})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-[#E6D2B5]/50",children:[u.jsx("h4",{className:"text-xs font-bold text-[#B08D55] uppercase mb-4",children:"Groomsmen"}),u.jsxs("div",{className:"space-y-2",children:[s.groomsmen?.map((re,ie)=>u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:re,onChange:oe=>n("groomsmen",ie,oe.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm"}),u.jsx("button",{onClick:()=>l("groomsmen",ie),className:"text-gray-300 hover:text-red-400 p-2",children:u.jsx(en,{size:14})})]},ie)),u.jsxs("button",{onClick:()=>i("groomsmen"),className:"mt-2 text-[10px] uppercase font-bold text-[#B08D55] hover:text-[#43342E] flex items-center gap-1",children:[u.jsx(Cn,{size:12})," Add Groomsman"]})]})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-[#E6D2B5]/50 relative",children:[u.jsx("h4",{className:"text-xs font-bold text-[#B08D55] uppercase mb-4",children:"Principal Sponsors"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex gap-4 px-2 text-[10px] font-bold text-[#8C7C72] uppercase tracking-wider",children:[u.jsx("div",{className:"flex-1 text-center",children:"Mr."}),u.jsx("div",{className:"flex-1 text-center",children:"Mrs."}),u.jsx("div",{className:"w-8"})]}),s.principalSponsors?.map((re,ie)=>u.jsxs("div",{className:"flex gap-4 items-center",children:[u.jsx("input",{type:"text",value:re.mr,onChange:oe=>c(ie,"mr",oe.target.value),className:"flex-1 bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm md:text-right",placeholder:"Mr. Name"}),u.jsx("span",{className:"text-[#B08D55] font-bold",children:"&"}),u.jsx("input",{type:"text",value:re.mrs,onChange:oe=>c(ie,"mrs",oe.target.value),className:"flex-1 bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm",placeholder:"Mrs. Name"}),u.jsx("button",{onClick:()=>p(ie),className:"text-gray-300 hover:text-red-400 p-2",children:u.jsx(en,{size:14})})]},ie)),u.jsxs("button",{onClick:h,className:"mt-2 text-[10px] uppercase font-bold text-[#B08D55] hover:text-[#43342E] flex items-center gap-1 justify-center w-full py-2 border border-dashed border-[#E6D2B5]",children:[u.jsx(Cn,{size:12})," Add Sponsor Pair"]})]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-[#E6D2B5]/50 relative",children:[u.jsx("h4",{className:"text-xs font-bold text-[#B08D55] uppercase mb-4",children:"Secondary Sponsors"}),u.jsxs("div",{className:"space-y-2",children:[s.secondarySponsors?.map((re,ie)=>u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("input",{type:"text",value:re.role,onChange:oe=>g(ie,"role",oe.target.value),className:"w-1/3 bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-xs font-bold text-[#8C7C72]",placeholder:"Role"}),u.jsx("input",{type:"text",value:re.names,onChange:oe=>g(ie,"names",oe.target.value),className:"w-2/3 bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm",placeholder:"Names"}),u.jsx("button",{onClick:()=>_(ie),className:"text-gray-300 hover:text-red-400 p-2",children:u.jsx(en,{size:14})})]},ie)),u.jsxs("button",{onClick:y,className:"mt-2 text-[10px] uppercase font-bold text-[#B08D55] hover:text-[#43342E] flex items-center gap-1",children:[u.jsx(Cn,{size:12})," Add Secondary Sponsor"]})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-[#E6D2B5]/50 relative",children:[u.jsx("h4",{className:"text-xs font-bold text-[#B08D55] uppercase mb-4",children:"Bearers"}),u.jsxs("div",{className:"space-y-2",children:[s.bearers?.map((re,ie)=>u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("input",{type:"text",value:re.role,onChange:oe=>E(ie,"role",oe.target.value),className:"w-1/3 bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-xs font-bold text-[#8C7C72]",placeholder:"Role"}),u.jsx("input",{type:"text",value:re.name,onChange:oe=>E(ie,"name",oe.target.value),className:"w-2/3 bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm",placeholder:"Name"}),u.jsx("button",{onClick:()=>R(ie),className:"text-gray-300 hover:text-red-400 p-2",children:u.jsx(en,{size:14})})]},ie)),u.jsxs("button",{onClick:S,className:"mt-2 text-[10px] uppercase font-bold text-[#B08D55] hover:text-[#43342E] flex items-center gap-1",children:[u.jsx(Cn,{size:12})," Add Bearer"]})]})]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-[#E6D2B5]/50 relative",children:[u.jsx("h4",{className:"text-xs font-bold text-[#B08D55] uppercase mb-4",children:"Flower Girls"}),u.jsxs("div",{className:"space-y-2",children:[s.flowerGirls?.map((re,ie)=>u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:re,onChange:oe=>n("flowerGirls",ie,oe.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm"}),u.jsx("button",{onClick:()=>l("flowerGirls",ie),className:"text-gray-300 hover:text-red-400 p-2",children:u.jsx(en,{size:14})})]},ie)),u.jsxs("button",{onClick:()=>i("flowerGirls"),className:"mt-2 text-[10px] uppercase font-bold text-[#B08D55] hover:text-[#43342E] flex items-center gap-1",children:[u.jsx(Cn,{size:12})," Add Flower Girl"]})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-[#E6D2B5]/50 relative",children:[u.jsx("h4",{className:"text-xs font-bold text-[#B08D55] uppercase mb-4",children:"Offertory"}),u.jsxs("div",{className:"space-y-2",children:[s.offertory?.map((re,ie)=>u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:re,onChange:oe=>n("offertory",ie,oe.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm"}),u.jsx("button",{onClick:()=>l("offertory",ie),className:"text-gray-300 hover:text-red-400 p-2",children:u.jsx(en,{size:14})})]},ie)),u.jsxs("button",{onClick:()=>i("offertory"),className:"mt-2 text-[10px] uppercase font-bold text-[#B08D55] hover:text-[#43342E] flex items-center gap-1",children:[u.jsx(Cn,{size:12})," Add Offertory"]})]})]})]}),u.jsxs("div",{className:"grid gap-6",children:[s.entourageGroups?.map((re,ie)=>u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-[#E6D2B5]/50 relative group",children:[u.jsx("button",{onClick:()=>Z(ie),className:"absolute top-4 right-4 text-red-300 hover:text-red-500 transition-colors p-1 opacity-0 group-hover:opacity-100",title:"Remove Group",children:u.jsx(xr,{size:16})}),u.jsxs("div",{className:"mb-4 pr-8",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Group Title (e.g. Bridesmaids)"}),u.jsx("input",{type:"text",value:re.title,onChange:oe=>P(ie,"title",oe.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 font-serif text-lg"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Members"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:re.names.map((oe,A)=>u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:oe,onChange:N=>G(ie,A,N.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm"}),u.jsx("button",{onClick:()=>ne(ie,A),className:"text-gray-300 hover:text-red-400 p-2",children:u.jsx(en,{size:14})})]},A))}),u.jsxs("button",{onClick:()=>q(ie),className:"mt-2 text-[10px] uppercase font-bold text-[#B08D55] hover:text-[#43342E] flex items-center gap-1",children:[u.jsx(Cn,{size:12})," Add Member"]})]})]},ie)),u.jsxs("button",{onClick:le,className:"w-full py-4 border-2 border-dashed border-[#E6D2B5] text-[#B08D55] uppercase text-xs font-bold tracking-widest hover:bg-[#E6D2B5]/10 transition-colors flex items-center justify-center gap-2",children:[u.jsx(Cn,{size:16})," Add New Group"]})]})]}),oj=({config:s,updateConfig:e,saveCurrentAsPreset:n,deletePreset:i,updateColor:l,addColor:c,removeColor:h})=>{const p=[{name:"Rustic",colors:[{name:"Dusty Rose",hex:"#E6D2B5"},{name:"Sage",hex:"#8C9E8C"},{name:"Terracotta",hex:"#C76D55"},{name:"Cream",hex:"#FDFBF7"},{name:"Charcoal",hex:"#43342E"}]},{name:"Elegant",colors:[{name:"Navy",hex:"#1B263B"},{name:"Gold",hex:"#D4AF37"},{name:"Ivory",hex:"#FFFFF0"},{name:"Slate",hex:"#778DA9"},{name:"Silver",hex:"#C0C0C0"}]},{name:"Garden",colors:[{name:"Lilac",hex:"#C8A2C8"},{name:"Soft Pink",hex:"#FFB7B2"},{name:"Mint",hex:"#98FF98"},{name:"Peach",hex:"#FFE5B4"},{name:"Cream",hex:"#FFFDD0"}]},{name:"Boho",colors:[{name:"Burnt Orange",hex:"#CC5500"},{name:"Mustard",hex:"#FFDB58"},{name:"Brown",hex:"#964B00"},{name:"Beige",hex:"#F5F5DC"},{name:"Olive",hex:"#808000"}]},{name:"Minimal",colors:[{name:"Black",hex:"#000000"},{name:"White",hex:"#FFFFFF"},{name:"Grey",hex:"#808080"},{name:"Gold",hex:"#FFD700"},{name:"Tan",hex:"#D2B48C"}]}];return u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsx("h3",{className:"font-serif text-lg text-[#43342E] border-b border-[#E6D2B5]/30 pb-2",children:"Color Palette"}),u.jsxs("div",{className:"bg-[#F9F4EF] p-4 rounded-lg border border-[#E6D2B5]",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("label",{className:"text-[10px] font-bold text-[#B08D55] uppercase",children:"Quick Presets (Group Palette)"}),u.jsxs("button",{onClick:n,className:"text-[10px] font-bold text-[#43342E] uppercase hover:underline flex items-center gap-1",children:[u.jsx(Z2,{size:10})," Save Current as Preset"]})]}),u.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:[p.map((g,y)=>u.jsxs("button",{onClick:()=>{confirm(`Apply "${g.name}" preset?`)&&e("colorPalette",g.colors)},className:"shrink-0 bg-white border border-[#E6D2B5]/50 px-3 py-2 rounded shadow-sm hover:shadow-md hover:border-[#B08D55] transition-all text-left min-w-[120px]",children:[u.jsx("div",{className:"text-xs font-bold text-[#43342E] mb-2",children:g.name}),u.jsx("div",{className:"flex gap-1",children:g.colors.map((_,E)=>u.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-100",style:{backgroundColor:_.hex}},E))})]},`builtin-${y}`)),s.savedPalettes?.map((g,y)=>u.jsxs("div",{className:"relative group shrink-0",children:[u.jsxs("button",{onClick:()=>{confirm(`Apply "${g.name}" preset?`)&&e("colorPalette",g.colors)},className:"bg-white border border-[#E6D2B5] px-3 py-2 rounded shadow-sm hover:shadow-md hover:border-[#B08D55] transition-all text-left min-w-[120px] h-full",children:[u.jsxs("div",{className:"text-xs font-bold text-[#43342E] mb-2 flex justify-between",children:[g.name,u.jsx("span",{className:"text-[9px] text-gray-400 font-normal italic ml-1",children:"(Custom)"})]}),u.jsx("div",{className:"flex gap-1",children:g.colors.map((_,E)=>u.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-100",style:{backgroundColor:_.hex}},E))})]}),u.jsx("button",{onClick:()=>i(y),className:"absolute -top-2 -right-2 bg-red-400 text-white rounded-full p-1 shadow-md opacity-0 group-hover:opacity-100 transition-opacity",title:"Delete Preset",children:u.jsx(en,{size:10})})]},`saved-${y}`))]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.colorPalette?.map((g,y)=>u.jsxs("div",{className:"bg-white p-4 rounded-lg border border-[#E6D2B5]/50 flex items-center gap-4 shadow-sm",children:[u.jsx("div",{className:"relative group",children:u.jsx("input",{type:"color",value:g.hex,onChange:_=>l(y,"hex",_.target.value),className:"w-12 h-12 rounded-full overflow-hidden border-2 border-white shadow-md cursor-pointer"})}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx("input",{type:"text",value:g.name,onChange:_=>l(y,"name",_.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm font-medium text-[#43342E]",placeholder:"Color Name (e.g. Sage)"}),u.jsx("input",{type:"text",value:g.hex,onChange:_=>l(y,"hex",_.target.value),className:"w-full bg-[#FAF9F6] p-1 border border-[#E6D2B5]/30 text-xs text-gray-500 uppercase tracking-widest font-mono",placeholder:"#HEX"})]}),u.jsx("button",{onClick:()=>h(y),className:"text-gray-300 hover:text-red-400 p-2 transition-colors",title:"Remove Color",children:u.jsx(en,{size:16})})]},y)),u.jsxs("button",{onClick:c,className:"bg-[#FAF9F6] border-2 border-dashed border-[#E6D2B5] rounded-lg flex flex-col items-center justify-center p-6 text-[#B08D55] hover:bg-[#E6D2B5]/10 transition-colors min-h-[100px]",children:[u.jsx(Cn,{size:24,className:"mb-2"}),u.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Add Color"})]})]})]})},cj=({config:s,updateConfig:e})=>u.jsxs("div",{className:"space-y-10 animate-fade-in max-w-2xl",children:[u.jsx("h3",{className:"font-serif text-lg text-[#43342E] border-b border-[#E6D2B5]/30 pb-2",children:"RSVP Settings"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-4",children:"RSVP Mode Selection"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("button",{onClick:()=>e("rsvpMode","form"),className:`py-8 px-6 border flex flex-col items-center justify-center gap-4 transition-all ${s.rsvpMode==="form"?"border-[#43342E] bg-white text-[#43342E] shadow-lg scale-105":"border-[#E6D2B5] bg-transparent text-[#8C7C72] hover:bg-white"}`,children:[u.jsx(W2,{size:28,strokeWidth:1.5}),u.jsx("span",{className:"font-serif text-lg",children:"Built-in Form"})]}),u.jsxs("button",{onClick:()=>e("rsvpMode","link"),className:`py-8 px-6 border flex flex-col items-center justify-center gap-4 transition-all ${s.rsvpMode==="link"?"border-[#43342E] bg-white text-[#43342E] shadow-lg scale-105":"border-[#E6D2B5] bg-transparent text-[#8C7C72] hover:bg-white"}`,children:[u.jsx(oR,{size:28,strokeWidth:1.5}),u.jsx("span",{className:"font-serif text-lg",children:"External Link"})]})]})]}),s.rsvpMode==="link"&&u.jsxs("div",{className:"animate-fade-in bg-white p-8 border border-[#E6D2B5]",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"External Link URL"}),u.jsx("input",{type:"url",placeholder:"e.g. https://theknot.com/us/...",value:s.rsvpExternalLink,onChange:n=>e("rsvpExternalLink",n.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner"}),u.jsx("p",{className:"text-xs text-[#8C7C72] mt-4 italic",children:'Visitors will be redirected to this URL when clicking "RSVP".'})]}),u.jsxs("div",{className:"border-t border-[#E6D2B5]/30 pt-8 mt-8",children:[u.jsx("h4",{className:"font-serif text-md text-[#43342E] mb-4",children:"Deadline Configuration"}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"RSVP Deadline Text"}),u.jsx("input",{type:"text",value:s.rsvpDeadline,onChange:n=>e("rsvpDeadline",n.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner",placeholder:"e.g. May 1st, 2026"})]})]})]}),uj=({config:s,handleImageChange:e,handleUrlChange:n})=>u.jsxs("div",{className:"space-y-12 animate-fade-in",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-serif text-xl text-[#43342E] mb-6",children:"Hero Background"}),u.jsxs("div",{className:"relative group w-full h-64 overflow-hidden bg-gray-100 border border-[#E6D2B5] mb-4",children:[u.jsx("img",{src:s.heroImage,className:"w-full h-full object-cover opacity-90 group-hover:opacity-100 transition-opacity duration-500"}),u.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:u.jsxs("label",{className:"cursor-pointer bg-white/90 text-[#43342E] px-6 py-3 rounded-none uppercase tracking-widest text-xs font-bold hover:bg-white flex items-center gap-3 transition-transform transform group-hover:-translate-y-1",children:[u.jsx(Ra,{size:16})," Upload New",u.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:i=>e(i,"heroImage")})]})})]}),u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Or Paste URL"}),u.jsx("input",{type:"text",value:s.heroImage,onChange:i=>n(i.target.value,"heroImage"),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner"})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-serif text-xl text-[#43342E] mb-6",children:"RSVP Side Image"}),u.jsxs("div",{className:"relative group w-full h-64 overflow-hidden bg-gray-100 border border-[#E6D2B5] mb-4",children:[u.jsx("img",{src:s.rsvpImage,className:"w-full h-full object-cover transition-opacity duration-500"}),u.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:u.jsxs("label",{className:"cursor-pointer bg-white/90 text-[#43342E] px-6 py-3 rounded-none uppercase tracking-widest text-xs font-bold hover:bg-white flex items-center gap-3 transition-transform transform group-hover:-translate-y-1",children:[u.jsx(Ra,{size:16})," Upload New",u.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:i=>e(i,"rsvpImage")})]})})]}),u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Or Paste URL"}),u.jsx("input",{type:"text",value:s.rsvpImage,onChange:i=>n(i.target.value,"rsvpImage"),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner"})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-serif text-xl text-[#43342E] mb-6",children:"Gallery Collection"}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:s.galleryImages?.map((i,l)=>u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"relative group cursor-pointer aspect-square bg-[#E6D2B5]/20 overflow-hidden border border-[#E6D2B5]/50",children:[u.jsx("img",{src:i,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),u.jsx("div",{className:"absolute inset-0 bg-[#43342E]/0 group-hover:bg-[#43342E]/40 transition-colors duration-300 flex items-center justify-center",children:u.jsx(Ra,{className:"text-white opacity-0 group-hover:opacity-100 transform translate-y-4 group-hover:translate-y-0 transition-all duration-300",size:24})}),u.jsx("input",{type:"file",className:"absolute inset-0 opacity-0 cursor-pointer z-10",accept:"image/*",onChange:c=>e(c,null,l)})]}),u.jsx("input",{type:"text",value:i,onChange:c=>n(c.target.value,null,l),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner p-2 text-[10px]",placeholder:"Image URL..."})]},l))})]})]}),dj=({config:s,updateConfig:e,onSave:n})=>u.jsxs("div",{className:"space-y-8 animate-fade-in max-w-2xl",children:[u.jsxs("div",{className:"border-b border-[#E6D2B5]/30 pb-6",children:[u.jsx("h3",{className:"font-serif text-2xl text-[#43342E] mb-1",children:"System Settings"}),u.jsx("p",{className:"text-xs text-[#8C7C72]",children:"Manage global website features and system behavior"})]}),u.jsxs("div",{className:"bg-white rounded border border-[#E6D2B5]/30 overflow-hidden shadow-sm",children:[u.jsx("div",{className:"p-6 border-b border-gray-100",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-bold text-[#43342E] mb-1",children:"Opening Screen"}),u.jsx("p",{className:"text-xs text-[#8C7C72]",children:"Show a landing screen before the main website content"})]}),u.jsx("button",{onClick:()=>{const i=!s.showOpeningScreen;e("showOpeningScreen",i),n&&n({...s,showOpeningScreen:i}),Pt.success(`Opening Screen ${i?"Enabled":"Disabled"}`)},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${s.showOpeningScreen?"bg-[#C5A059]":"bg-gray-200"}`,children:u.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s.showOpeningScreen?"translate-x-6":"translate-x-1"}`})})]})}),u.jsx("div",{className:"p-6 bg-[#FAF9F6]",children:u.jsxs("div",{className:"flex items-start gap-4 text-[#8C7C72]",children:[u.jsx(Dc,{size:18,className:"shrink-0 mt-0.5"}),u.jsxs("div",{className:"text-xs space-y-2",children:[u.jsxs("p",{children:["Disabling the ",u.jsx("strong",{children:"Opening Screen"})," will skip the initial invitation animation and take guests directly to the Home page."]}),u.jsx("p",{children:"This is useful if you want a faster loading experience for returning visitors."})]})]})})]}),u.jsxs("div",{className:"bg-white rounded border border-[#E6D2B5]/30 overflow-hidden shadow-sm",children:[u.jsx("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-bold text-[#43342E] mb-1",children:"Global Guest Refresh"}),u.jsx("p",{className:"text-xs text-[#8C7C72]",children:"Force all guest browsers to reload the latest data"})]})}),u.jsxs("div",{className:"p-6 bg-[#FAF9F6] space-y-4",children:[u.jsxs("div",{className:"flex items-start gap-4 text-[#8C7C72]",children:[u.jsx(lh,{size:18,className:"shrink-0 mt-0.5"}),u.jsxs("div",{className:"text-xs space-y-2",children:[u.jsxs("p",{children:['If you made changes and some guests still see "old" information, you can trigger a ',u.jsx("strong",{children:"Global Refresh"}),"."]}),u.jsx("p",{children:"This will force every guest's website to automatically refresh exactly once to fetch the latest database updates."})]})]}),u.jsxs("button",{onClick:()=>{const i=Date.now().toString();e("syncId",i),n&&Pt.promise(n({...s,syncId:i}),{loading:"Broadcasting Refresh signal...",success:u.jsx("b",{children:"Broadcast Sent Successfully!"}),error:u.jsx("b",{children:"Failed to broadcast."})})},className:"w-full py-4 rounded font-bold uppercase tracking-widest text-xs bg-[#43342E] text-white hover:bg-[#5D4B42] transition-all flex items-center justify-center gap-2 shadow-md",children:[u.jsx(lh,{size:14}),"Trigger Global Refresh"]}),u.jsxs("p",{className:"text-[10px] text-center text-[#8C7C72]",children:["Last Synchronized: ",s.syncId?new Date(parseInt(s.syncId)).toLocaleString():"Never"]})]})]}),u.jsxs("div",{className:"bg-white rounded border border-[#E6D2B5]/30 overflow-hidden shadow-sm",children:[u.jsx("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-bold text-[#43342E] mb-1",children:"Debug & Diagnostics"}),u.jsx("p",{className:"text-xs text-[#8C7C72]",children:"Verify database synchronization status"})]})}),u.jsxs("div",{className:"p-6 bg-[#FAF9F6] space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-white p-3 border border-[#E6D2B5]/30 rounded",children:[u.jsx("label",{className:"block text-[8px] font-bold text-[#B08D55] uppercase mb-1",children:"Sync Version (Timestamp)"}),u.jsx("p",{className:"text-[10px] font-mono text-[#43342E] truncate",title:s.lastSaved,children:s.lastSaved?new Date(s.lastSaved).toLocaleString():"Never Saved"})]}),u.jsxs("div",{className:"bg-white p-3 border border-[#E6D2B5]/30 rounded",children:[u.jsx("label",{className:"block text-[8px] font-bold text-[#B08D55] uppercase mb-1",children:"Status"}),u.jsxs("p",{className:"text-[10px] font-bold text-green-600 flex items-center gap-1",children:[u.jsx("span",{className:"flex h-1.5 w-1.5 rounded-full bg-green-500 animate-pulse"}),"Live Connection"]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"block text-[8px] font-bold text-[#B08D55] uppercase",children:"Raw Configuration Data (JSON)"}),u.jsxs("div",{className:"relative group",children:[u.jsx("pre",{className:"text-[9px] bg-[#1F1815] text-[#A8D8B9] p-4 rounded h-40 overflow-auto no-scrollbar font-mono leading-relaxed ring-1 ring-inset ring-white/10",children:JSON.stringify(s,null,2)}),u.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx("button",{onClick:()=>{navigator.clipboard.writeText(JSON.stringify(s,null,2)),Pt.success("JSON copied to clipboard")},className:"bg-white/10 hover:bg-white/20 text-white p-1 rounded backdrop-blur-sm",title:"Copy JSON",children:u.jsx(Q3,{size:12})})})]}),u.jsx("p",{className:"text-[8px] text-[#8C7C72]",children:`This shows the exact data currently held in the app's memory. When you click "Save Changes", this is what is sent to Firestore.`})]})]})]})]});var oc=h1();function hj(){for(var s=arguments.length,e=new Array(s),n=0;n<s;n++)e[n]=arguments[n];return O.useMemo(()=>i=>{e.forEach(l=>l(i))},e)}const Ph=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Zl(s){const e=Object.prototype.toString.call(s);return e==="[object Window]"||e==="[object global]"}function Mg(s){return"nodeType"in s}function Zn(s){var e,n;return s?Zl(s)?s:Mg(s)&&(e=(n=s.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Og(s){const{Document:e}=Zn(s);return s instanceof e}function Yc(s){return Zl(s)?!1:s instanceof Zn(s).HTMLElement}function eE(s){return s instanceof Zn(s).SVGElement}function eo(s){return s?Zl(s)?s.document:Mg(s)?Og(s)?s:Yc(s)||eE(s)?s.ownerDocument:document:document:document}const br=Ph?O.useLayoutEffect:O.useEffect;function Vg(s){const e=O.useRef(s);return br(()=>{e.current=s}),O.useCallback(function(){for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return e.current==null?void 0:e.current(...i)},[])}function fj(){const s=O.useRef(null),e=O.useCallback((i,l)=>{s.current=setInterval(i,l)},[]),n=O.useCallback(()=>{s.current!==null&&(clearInterval(s.current),s.current=null)},[]);return[e,n]}function Rc(s,e){e===void 0&&(e=[s]);const n=O.useRef(s);return br(()=>{n.current!==s&&(n.current=s)},e),n}function Kc(s,e){const n=O.useRef();return O.useMemo(()=>{const i=s(n.current);return n.current=i,i},[...e])}function oh(s){const e=Vg(s),n=O.useRef(null),i=O.useCallback(l=>{l!==n.current&&e?.(l,n.current),n.current=l},[]);return[n,i]}function Bp(s){const e=O.useRef();return O.useEffect(()=>{e.current=s},[s]),e.current}let ip={};function Xc(s,e){return O.useMemo(()=>{if(e)return e;const n=ip[s]==null?0:ip[s]+1;return ip[s]=n,s+"-"+n},[s,e])}function tE(s){return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),l=1;l<n;l++)i[l-1]=arguments[l];return i.reduce((c,h)=>{const p=Object.entries(h);for(const[g,y]of p){const _=c[g];_!=null&&(c[g]=_+s*y)}return c},{...e})}}const Ml=tE(1),jc=tE(-1);function mj(s){return"clientX"in s&&"clientY"in s}function Bg(s){if(!s)return!1;const{KeyboardEvent:e}=Zn(s.target);return e&&s instanceof e}function pj(s){if(!s)return!1;const{TouchEvent:e}=Zn(s.target);return e&&s instanceof e}function Lp(s){if(pj(s)){if(s.touches&&s.touches.length){const{clientX:e,clientY:n}=s.touches[0];return{x:e,y:n}}else if(s.changedTouches&&s.changedTouches.length){const{clientX:e,clientY:n}=s.changedTouches[0];return{x:e,y:n}}}return mj(s)?{x:s.clientX,y:s.clientY}:null}const Ic=Object.freeze({Translate:{toString(s){if(!s)return;const{x:e,y:n}=s;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(s){if(!s)return;const{scaleX:e,scaleY:n}=s;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(s){if(s)return[Ic.Translate.toString(s),Ic.Scale.toString(s)].join(" ")}},Transition:{toString(s){let{property:e,duration:n,easing:i}=s;return e+" "+n+"ms "+i}}}),Jb="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function gj(s){return s.matches(Jb)?s:s.querySelector(Jb)}const yj={display:"none"};function vj(s){let{id:e,value:n}=s;return xn.createElement("div",{id:e,style:yj},n)}function xj(s){let{id:e,announcement:n,ariaLiveType:i="assertive"}=s;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return xn.createElement("div",{id:e,style:l,role:"status","aria-live":i,"aria-atomic":!0},n)}function bj(){const[s,e]=O.useState("");return{announce:O.useCallback(i=>{i!=null&&e(i)},[]),announcement:s}}const nE=O.createContext(null);function _j(s){const e=O.useContext(nE);O.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(s)},[s,e])}function Ej(){const[s]=O.useState(()=>new Set),e=O.useCallback(i=>(s.add(i),()=>s.delete(i)),[s]);return[O.useCallback(i=>{let{type:l,event:c}=i;s.forEach(h=>{var p;return(p=h[l])==null?void 0:p.call(h,c)})},[s]),e]}const wj={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Tj={onDragStart(s){let{active:e}=s;return"Picked up draggable item "+e.id+"."},onDragOver(s){let{active:e,over:n}=s;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(s){let{active:e,over:n}=s;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(s){let{active:e}=s;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Sj(s){let{announcements:e=Tj,container:n,hiddenTextDescribedById:i,screenReaderInstructions:l=wj}=s;const{announce:c,announcement:h}=bj(),p=Xc("DndLiveRegion"),[g,y]=O.useState(!1);if(O.useEffect(()=>{y(!0)},[]),_j(O.useMemo(()=>({onDragStart(E){let{active:S}=E;c(e.onDragStart({active:S}))},onDragMove(E){let{active:S,over:R}=E;e.onDragMove&&c(e.onDragMove({active:S,over:R}))},onDragOver(E){let{active:S,over:R}=E;c(e.onDragOver({active:S,over:R}))},onDragEnd(E){let{active:S,over:R}=E;c(e.onDragEnd({active:S,over:R}))},onDragCancel(E){let{active:S,over:R}=E;c(e.onDragCancel({active:S,over:R}))}}),[c,e])),!g)return null;const _=xn.createElement(xn.Fragment,null,xn.createElement(vj,{id:i,value:l.draggable}),xn.createElement(xj,{id:p,announcement:h}));return n?oc.createPortal(_,n):_}var tn;(function(s){s.DragStart="dragStart",s.DragMove="dragMove",s.DragEnd="dragEnd",s.DragCancel="dragCancel",s.DragOver="dragOver",s.RegisterDroppable="registerDroppable",s.SetDroppableDisabled="setDroppableDisabled",s.UnregisterDroppable="unregisterDroppable"})(tn||(tn={}));function ch(){}function Zb(s,e){return O.useMemo(()=>({sensor:s,options:e??{}}),[s,e])}function Nj(){for(var s=arguments.length,e=new Array(s),n=0;n<s;n++)e[n]=arguments[n];return O.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const Ps=Object.freeze({x:0,y:0});function sE(s,e){return Math.sqrt(Math.pow(s.x-e.x,2)+Math.pow(s.y-e.y,2))}function rE(s,e){let{data:{value:n}}=s,{data:{value:i}}=e;return n-i}function Aj(s,e){let{data:{value:n}}=s,{data:{value:i}}=e;return i-n}function e1(s){let{left:e,top:n,height:i,width:l}=s;return[{x:e,y:n},{x:e+l,y:n},{x:e,y:n+i},{x:e+l,y:n+i}]}function iE(s,e){if(!s||s.length===0)return null;const[n]=s;return n[e]}function t1(s,e,n){return e===void 0&&(e=s.left),n===void 0&&(n=s.top),{x:e+s.width*.5,y:n+s.height*.5}}const Cj=s=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=s;const l=t1(e,e.left,e.top),c=[];for(const h of i){const{id:p}=h,g=n.get(p);if(g){const y=sE(t1(g),l);c.push({id:p,data:{droppableContainer:h,value:y}})}}return c.sort(rE)},Dj=s=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=s;const l=e1(e),c=[];for(const h of i){const{id:p}=h,g=n.get(p);if(g){const y=e1(g),_=l.reduce((S,R,P)=>S+sE(y[P],R),0),E=Number((_/4).toFixed(4));c.push({id:p,data:{droppableContainer:h,value:E}})}}return c.sort(rE)};function Rj(s,e){const n=Math.max(e.top,s.top),i=Math.max(e.left,s.left),l=Math.min(e.left+e.width,s.left+s.width),c=Math.min(e.top+e.height,s.top+s.height),h=l-i,p=c-n;if(i<l&&n<c){const g=e.width*e.height,y=s.width*s.height,_=h*p,E=_/(g+y-_);return Number(E.toFixed(4))}return 0}const jj=s=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=s;const l=[];for(const c of i){const{id:h}=c,p=n.get(h);if(p){const g=Rj(p,e);g>0&&l.push({id:h,data:{droppableContainer:c,value:g}})}}return l.sort(Aj)};function Ij(s,e,n){return{...s,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function aE(s,e){return s&&e?{x:s.left-e.left,y:s.top-e.top}:Ps}function kj(s){return function(n){for(var i=arguments.length,l=new Array(i>1?i-1:0),c=1;c<i;c++)l[c-1]=arguments[c];return l.reduce((h,p)=>({...h,top:h.top+s*p.y,bottom:h.bottom+s*p.y,left:h.left+s*p.x,right:h.right+s*p.x}),{...n})}}const Mj=kj(1);function Oj(s){if(s.startsWith("matrix3d(")){const e=s.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(s.startsWith("matrix(")){const e=s.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Vj(s,e,n){const i=Oj(e);if(!i)return s;const{scaleX:l,scaleY:c,x:h,y:p}=i,g=s.left-h-(1-l)*parseFloat(n),y=s.top-p-(1-c)*parseFloat(n.slice(n.indexOf(" ")+1)),_=l?s.width/l:s.width,E=c?s.height/c:s.height;return{width:_,height:E,top:y,right:g+_,bottom:y+E,left:g}}const Bj={ignoreTransform:!1};function to(s,e){e===void 0&&(e=Bj);let n=s.getBoundingClientRect();if(e.ignoreTransform){const{transform:y,transformOrigin:_}=Zn(s).getComputedStyle(s);y&&(n=Vj(n,y,_))}const{top:i,left:l,width:c,height:h,bottom:p,right:g}=n;return{top:i,left:l,width:c,height:h,bottom:p,right:g}}function n1(s){return to(s,{ignoreTransform:!0})}function Lj(s){const e=s.innerWidth,n=s.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function Pj(s,e){return e===void 0&&(e=Zn(s).getComputedStyle(s)),e.position==="fixed"}function zj(s,e){e===void 0&&(e=Zn(s).getComputedStyle(s));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const c=e[l];return typeof c=="string"?n.test(c):!1})}function zh(s,e){const n=[];function i(l){if(e!=null&&n.length>=e||!l)return n;if(Og(l)&&l.scrollingElement!=null&&!n.includes(l.scrollingElement))return n.push(l.scrollingElement),n;if(!Yc(l)||eE(l)||n.includes(l))return n;const c=Zn(s).getComputedStyle(l);return l!==s&&zj(l,c)&&n.push(l),Pj(l,c)?n:i(l.parentNode)}return s?i(s):n}function lE(s){const[e]=zh(s,1);return e??null}function ap(s){return!Ph||!s?null:Zl(s)?s:Mg(s)?Og(s)||s===eo(s).scrollingElement?window:Yc(s)?s:null:null}function oE(s){return Zl(s)?s.scrollX:s.scrollLeft}function cE(s){return Zl(s)?s.scrollY:s.scrollTop}function Pp(s){return{x:oE(s),y:cE(s)}}var dn;(function(s){s[s.Forward=1]="Forward",s[s.Backward=-1]="Backward"})(dn||(dn={}));function uE(s){return!Ph||!s?!1:s===document.scrollingElement}function dE(s){const e={x:0,y:0},n=uE(s)?{height:window.innerHeight,width:window.innerWidth}:{height:s.clientHeight,width:s.clientWidth},i={x:s.scrollWidth-n.width,y:s.scrollHeight-n.height},l=s.scrollTop<=e.y,c=s.scrollLeft<=e.x,h=s.scrollTop>=i.y,p=s.scrollLeft>=i.x;return{isTop:l,isLeft:c,isBottom:h,isRight:p,maxScroll:i,minScroll:e}}const Uj={x:.2,y:.2};function Fj(s,e,n,i,l){let{top:c,left:h,right:p,bottom:g}=n;i===void 0&&(i=10),l===void 0&&(l=Uj);const{isTop:y,isBottom:_,isLeft:E,isRight:S}=dE(s),R={x:0,y:0},P={x:0,y:0},G={height:e.height*l.y,width:e.width*l.x};return!y&&c<=e.top+G.height?(R.y=dn.Backward,P.y=i*Math.abs((e.top+G.height-c)/G.height)):!_&&g>=e.bottom-G.height&&(R.y=dn.Forward,P.y=i*Math.abs((e.bottom-G.height-g)/G.height)),!S&&p>=e.right-G.width?(R.x=dn.Forward,P.x=i*Math.abs((e.right-G.width-p)/G.width)):!E&&h<=e.left+G.width&&(R.x=dn.Backward,P.x=i*Math.abs((e.left+G.width-h)/G.width)),{direction:R,speed:P}}function qj(s){if(s===document.scrollingElement){const{innerWidth:c,innerHeight:h}=window;return{top:0,left:0,right:c,bottom:h,width:c,height:h}}const{top:e,left:n,right:i,bottom:l}=s.getBoundingClientRect();return{top:e,left:n,right:i,bottom:l,width:s.clientWidth,height:s.clientHeight}}function hE(s){return s.reduce((e,n)=>Ml(e,Pp(n)),Ps)}function Hj(s){return s.reduce((e,n)=>e+oE(n),0)}function Gj(s){return s.reduce((e,n)=>e+cE(n),0)}function Qj(s,e){if(e===void 0&&(e=to),!s)return;const{top:n,left:i,bottom:l,right:c}=e(s);lE(s)&&(l<=0||c<=0||n>=window.innerHeight||i>=window.innerWidth)&&s.scrollIntoView({block:"center",inline:"center"})}const $j=[["x",["left","right"],Hj],["y",["top","bottom"],Gj]];class Lg{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=zh(n),l=hE(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[c,h,p]of $j)for(const g of h)Object.defineProperty(this,g,{get:()=>{const y=p(i),_=l[c]-y;return this.rect[g]+_},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class pc{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...n)})},this.target=e}add(e,n,i){var l;(l=this.target)==null||l.addEventListener(e,n,i),this.listeners.push([e,n,i])}}function Yj(s){const{EventTarget:e}=Zn(s);return s instanceof e?s:eo(s)}function lp(s,e){const n=Math.abs(s.x),i=Math.abs(s.y);return typeof e=="number"?Math.sqrt(n**2+i**2)>e:"x"in e&&"y"in e?n>e.x&&i>e.y:"x"in e?n>e.x:"y"in e?i>e.y:!1}var Ss;(function(s){s.Click="click",s.DragStart="dragstart",s.Keydown="keydown",s.ContextMenu="contextmenu",s.Resize="resize",s.SelectionChange="selectionchange",s.VisibilityChange="visibilitychange"})(Ss||(Ss={}));function s1(s){s.preventDefault()}function Kj(s){s.stopPropagation()}var Je;(function(s){s.Space="Space",s.Down="ArrowDown",s.Right="ArrowRight",s.Left="ArrowLeft",s.Up="ArrowUp",s.Esc="Escape",s.Enter="Enter",s.Tab="Tab"})(Je||(Je={}));const fE={start:[Je.Space,Je.Enter],cancel:[Je.Esc],end:[Je.Space,Je.Enter,Je.Tab]},Xj=(s,e)=>{let{currentCoordinates:n}=e;switch(s.code){case Je.Right:return{...n,x:n.x+25};case Je.Left:return{...n,x:n.x-25};case Je.Down:return{...n,y:n.y+25};case Je.Up:return{...n,y:n.y-25}}};class Pg{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new pc(eo(n)),this.windowListeners=new pc(Zn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ss.Resize,this.handleCancel),this.windowListeners.add(Ss.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ss.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,i=e.node.current;i&&Qj(i),n(Ps)}handleKeyDown(e){if(Bg(e)){const{active:n,context:i,options:l}=this.props,{keyboardCodes:c=fE,coordinateGetter:h=Xj,scrollBehavior:p="smooth"}=l,{code:g}=e;if(c.end.includes(g)){this.handleEnd(e);return}if(c.cancel.includes(g)){this.handleCancel(e);return}const{collisionRect:y}=i.current,_=y?{x:y.left,y:y.top}:Ps;this.referenceCoordinates||(this.referenceCoordinates=_);const E=h(e,{active:n,context:i.current,currentCoordinates:_});if(E){const S=jc(E,_),R={x:0,y:0},{scrollableAncestors:P}=i.current;for(const G of P){const q=e.code,{isTop:ne,isRight:le,isLeft:Z,isBottom:re,maxScroll:ie,minScroll:oe}=dE(G),A=qj(G),N={x:Math.min(q===Je.Right?A.right-A.width/2:A.right,Math.max(q===Je.Right?A.left:A.left+A.width/2,E.x)),y:Math.min(q===Je.Down?A.bottom-A.height/2:A.bottom,Math.max(q===Je.Down?A.top:A.top+A.height/2,E.y))},C=q===Je.Right&&!le||q===Je.Left&&!Z,M=q===Je.Down&&!re||q===Je.Up&&!ne;if(C&&N.x!==E.x){const j=G.scrollLeft+S.x,B=q===Je.Right&&j<=ie.x||q===Je.Left&&j>=oe.x;if(B&&!S.y){G.scrollTo({left:j,behavior:p});return}B?R.x=G.scrollLeft-j:R.x=q===Je.Right?G.scrollLeft-ie.x:G.scrollLeft-oe.x,R.x&&G.scrollBy({left:-R.x,behavior:p});break}else if(M&&N.y!==E.y){const j=G.scrollTop+S.y,B=q===Je.Down&&j<=ie.y||q===Je.Up&&j>=oe.y;if(B&&!S.x){G.scrollTo({top:j,behavior:p});return}B?R.y=G.scrollTop-j:R.y=q===Je.Down?G.scrollTop-ie.y:G.scrollTop-oe.y,R.y&&G.scrollBy({top:-R.y,behavior:p});break}}this.handleMove(e,Ml(jc(E,this.referenceCoordinates),R))}}}handleMove(e,n){const{onMove:i}=this.props;e.preventDefault(),i(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Pg.activators=[{eventName:"onKeyDown",handler:(s,e,n)=>{let{keyboardCodes:i=fE,onActivation:l}=e,{active:c}=n;const{code:h}=s.nativeEvent;if(i.start.includes(h)){const p=c.activatorNode.current;return p&&s.target!==p?!1:(s.preventDefault(),l?.({event:s.nativeEvent}),!0)}return!1}}];function r1(s){return!!(s&&"distance"in s)}function i1(s){return!!(s&&"delay"in s)}class zg{constructor(e,n,i){var l;i===void 0&&(i=Yj(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:c}=e,{target:h}=c;this.props=e,this.events=n,this.document=eo(h),this.documentListeners=new pc(this.document),this.listeners=new pc(i),this.windowListeners=new pc(Zn(h)),this.initialCoordinates=(l=Lp(c))!=null?l:Ps,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ss.Resize,this.handleCancel),this.windowListeners.add(Ss.DragStart,s1),this.windowListeners.add(Ss.VisibilityChange,this.handleCancel),this.windowListeners.add(Ss.ContextMenu,s1),this.documentListeners.add(Ss.Keydown,this.handleKeydown),n){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(i1(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(r1(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:i,onPending:l}=this.props;l(i,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ss.Click,Kj,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ss.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:i,initialCoordinates:l,props:c}=this,{onMove:h,options:{activationConstraint:p}}=c;if(!l)return;const g=(n=Lp(e))!=null?n:Ps,y=jc(l,g);if(!i&&p){if(r1(p)){if(p.tolerance!=null&&lp(y,p.tolerance))return this.handleCancel();if(lp(y,p.distance))return this.handleStart()}if(i1(p)&&lp(y,p.tolerance))return this.handleCancel();this.handlePending(p,y);return}e.cancelable&&e.preventDefault(),h(g)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Je.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Wj={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ug extends zg{constructor(e){const{event:n}=e,i=eo(n.target);super(e,Wj,i)}}Ug.activators=[{eventName:"onPointerDown",handler:(s,e)=>{let{nativeEvent:n}=s,{onActivation:i}=e;return!n.isPrimary||n.button!==0?!1:(i?.({event:n}),!0)}}];const Jj={move:{name:"mousemove"},end:{name:"mouseup"}};var zp;(function(s){s[s.RightClick=2]="RightClick"})(zp||(zp={}));class Zj extends zg{constructor(e){super(e,Jj,eo(e.event.target))}}Zj.activators=[{eventName:"onMouseDown",handler:(s,e)=>{let{nativeEvent:n}=s,{onActivation:i}=e;return n.button===zp.RightClick?!1:(i?.({event:n}),!0)}}];const op={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class eI extends zg{constructor(e){super(e,op)}static setup(){return window.addEventListener(op.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(op.move.name,e)};function e(){}}}eI.activators=[{eventName:"onTouchStart",handler:(s,e)=>{let{nativeEvent:n}=s,{onActivation:i}=e;const{touches:l}=n;return l.length>1?!1:(i?.({event:n}),!0)}}];var gc;(function(s){s[s.Pointer=0]="Pointer",s[s.DraggableRect=1]="DraggableRect"})(gc||(gc={}));var uh;(function(s){s[s.TreeOrder=0]="TreeOrder",s[s.ReversedTreeOrder=1]="ReversedTreeOrder"})(uh||(uh={}));function tI(s){let{acceleration:e,activator:n=gc.Pointer,canScroll:i,draggingRect:l,enabled:c,interval:h=5,order:p=uh.TreeOrder,pointerCoordinates:g,scrollableAncestors:y,scrollableAncestorRects:_,delta:E,threshold:S}=s;const R=sI({delta:E,disabled:!c}),[P,G]=fj(),q=O.useRef({x:0,y:0}),ne=O.useRef({x:0,y:0}),le=O.useMemo(()=>{switch(n){case gc.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case gc.DraggableRect:return l}},[n,l,g]),Z=O.useRef(null),re=O.useCallback(()=>{const oe=Z.current;if(!oe)return;const A=q.current.x*ne.current.x,N=q.current.y*ne.current.y;oe.scrollBy(A,N)},[]),ie=O.useMemo(()=>p===uh.TreeOrder?[...y].reverse():y,[p,y]);O.useEffect(()=>{if(!c||!y.length||!le){G();return}for(const oe of ie){if(i?.(oe)===!1)continue;const A=y.indexOf(oe),N=_[A];if(!N)continue;const{direction:C,speed:M}=Fj(oe,N,le,e,S);for(const j of["x","y"])R[j][C[j]]||(M[j]=0,C[j]=0);if(M.x>0||M.y>0){G(),Z.current=oe,P(re,h),q.current=M,ne.current=C;return}}q.current={x:0,y:0},ne.current={x:0,y:0},G()},[e,re,i,G,c,h,JSON.stringify(le),JSON.stringify(R),P,y,ie,_,JSON.stringify(S)])}const nI={x:{[dn.Backward]:!1,[dn.Forward]:!1},y:{[dn.Backward]:!1,[dn.Forward]:!1}};function sI(s){let{delta:e,disabled:n}=s;const i=Bp(e);return Kc(l=>{if(n||!i||!l)return nI;const c={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[dn.Backward]:l.x[dn.Backward]||c.x===-1,[dn.Forward]:l.x[dn.Forward]||c.x===1},y:{[dn.Backward]:l.y[dn.Backward]||c.y===-1,[dn.Forward]:l.y[dn.Forward]||c.y===1}}},[n,e,i])}function rI(s,e){const n=e!=null?s.get(e):void 0,i=n?n.node.current:null;return Kc(l=>{var c;return e==null?null:(c=i??l)!=null?c:null},[i,e])}function iI(s,e){return O.useMemo(()=>s.reduce((n,i)=>{const{sensor:l}=i,c=l.activators.map(h=>({eventName:h.eventName,handler:e(h.handler,i)}));return[...n,...c]},[]),[s,e])}var kc;(function(s){s[s.Always=0]="Always",s[s.BeforeDragging=1]="BeforeDragging",s[s.WhileDragging=2]="WhileDragging"})(kc||(kc={}));var Up;(function(s){s.Optimized="optimized"})(Up||(Up={}));const a1=new Map;function aI(s,e){let{dragging:n,dependencies:i,config:l}=e;const[c,h]=O.useState(null),{frequency:p,measure:g,strategy:y}=l,_=O.useRef(s),E=q(),S=Rc(E),R=O.useCallback(function(ne){ne===void 0&&(ne=[]),!S.current&&h(le=>le===null?ne:le.concat(ne.filter(Z=>!le.includes(Z))))},[S]),P=O.useRef(null),G=Kc(ne=>{if(E&&!n)return a1;if(!ne||ne===a1||_.current!==s||c!=null){const le=new Map;for(let Z of s){if(!Z)continue;if(c&&c.length>0&&!c.includes(Z.id)&&Z.rect.current){le.set(Z.id,Z.rect.current);continue}const re=Z.node.current,ie=re?new Lg(g(re),re):null;Z.rect.current=ie,ie&&le.set(Z.id,ie)}return le}return ne},[s,c,n,E,g]);return O.useEffect(()=>{_.current=s},[s]),O.useEffect(()=>{E||R()},[n,E]),O.useEffect(()=>{c&&c.length>0&&h(null)},[JSON.stringify(c)]),O.useEffect(()=>{E||typeof p!="number"||P.current!==null||(P.current=setTimeout(()=>{R(),P.current=null},p))},[p,E,R,...i]),{droppableRects:G,measureDroppableContainers:R,measuringScheduled:c!=null};function q(){switch(y){case kc.Always:return!1;case kc.BeforeDragging:return n;default:return!n}}}function mE(s,e){return Kc(n=>s?n||(typeof e=="function"?e(s):s):null,[e,s])}function lI(s,e){return mE(s,e)}function oI(s){let{callback:e,disabled:n}=s;const i=Vg(e),l=O.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:c}=window;return new c(i)},[i,n]);return O.useEffect(()=>()=>l?.disconnect(),[l]),l}function Uh(s){let{callback:e,disabled:n}=s;const i=Vg(e),l=O.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:c}=window;return new c(i)},[n]);return O.useEffect(()=>()=>l?.disconnect(),[l]),l}function cI(s){return new Lg(to(s),s)}function l1(s,e,n){e===void 0&&(e=cI);const[i,l]=O.useState(null);function c(){l(g=>{if(!s)return null;if(s.isConnected===!1){var y;return(y=g??n)!=null?y:null}const _=e(s);return JSON.stringify(g)===JSON.stringify(_)?g:_})}const h=oI({callback(g){if(s)for(const y of g){const{type:_,target:E}=y;if(_==="childList"&&E instanceof HTMLElement&&E.contains(s)){c();break}}}}),p=Uh({callback:c});return br(()=>{c(),s?(p?.observe(s),h?.observe(document.body,{childList:!0,subtree:!0})):(p?.disconnect(),h?.disconnect())},[s]),i}function uI(s){const e=mE(s);return aE(s,e)}const o1=[];function dI(s){const e=O.useRef(s),n=Kc(i=>s?i&&i!==o1&&s&&e.current&&s.parentNode===e.current.parentNode?i:zh(s):o1,[s]);return O.useEffect(()=>{e.current=s},[s]),n}function hI(s){const[e,n]=O.useState(null),i=O.useRef(s),l=O.useCallback(c=>{const h=ap(c.target);h&&n(p=>p?(p.set(h,Pp(h)),new Map(p)):null)},[]);return O.useEffect(()=>{const c=i.current;if(s!==c){h(c);const p=s.map(g=>{const y=ap(g);return y?(y.addEventListener("scroll",l,{passive:!0}),[y,Pp(y)]):null}).filter(g=>g!=null);n(p.length?new Map(p):null),i.current=s}return()=>{h(s),h(c)};function h(p){p.forEach(g=>{const y=ap(g);y?.removeEventListener("scroll",l)})}},[l,s]),O.useMemo(()=>s.length?e?Array.from(e.values()).reduce((c,h)=>Ml(c,h),Ps):hE(s):Ps,[s,e])}function c1(s,e){e===void 0&&(e=[]);const n=O.useRef(null);return O.useEffect(()=>{n.current=null},e),O.useEffect(()=>{const i=s!==Ps;i&&!n.current&&(n.current=s),!i&&n.current&&(n.current=null)},[s]),n.current?jc(s,n.current):Ps}function fI(s){O.useEffect(()=>{if(!Ph)return;const e=s.map(n=>{let{sensor:i}=n;return i.setup==null?void 0:i.setup()});return()=>{for(const n of e)n?.()}},s.map(e=>{let{sensor:n}=e;return n}))}function mI(s,e){return O.useMemo(()=>s.reduce((n,i)=>{let{eventName:l,handler:c}=i;return n[l]=h=>{c(h,e)},n},{}),[s,e])}function pE(s){return O.useMemo(()=>s?Lj(s):null,[s])}const u1=[];function pI(s,e){e===void 0&&(e=to);const[n]=s,i=pE(n?Zn(n):null),[l,c]=O.useState(u1);function h(){c(()=>s.length?s.map(g=>uE(g)?i:new Lg(e(g),g)):u1)}const p=Uh({callback:h});return br(()=>{p?.disconnect(),h(),s.forEach(g=>p?.observe(g))},[s]),l}function gI(s){if(!s)return null;if(s.children.length>1)return s;const e=s.children[0];return Yc(e)?e:s}function yI(s){let{measure:e}=s;const[n,i]=O.useState(null),l=O.useCallback(y=>{for(const{target:_}of y)if(Yc(_)){i(E=>{const S=e(_);return E?{...E,width:S.width,height:S.height}:S});break}},[e]),c=Uh({callback:l}),h=O.useCallback(y=>{const _=gI(y);c?.disconnect(),_&&c?.observe(_),i(_?e(_):null)},[e,c]),[p,g]=oh(h);return O.useMemo(()=>({nodeRef:p,rect:n,setRef:g}),[n,p,g])}const vI=[{sensor:Ug,options:{}},{sensor:Pg,options:{}}],xI={current:{}},Ld={draggable:{measure:n1},droppable:{measure:n1,strategy:kc.WhileDragging,frequency:Up.Optimized},dragOverlay:{measure:to}};class yc extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,i;return(n=(i=this.get(e))==null?void 0:i.node.current)!=null?n:void 0}}const bI={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new yc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ch},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ld,measureDroppableContainers:ch,windowRect:null,measuringScheduled:!1},_I={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ch,draggableNodes:new Map,over:null,measureDroppableContainers:ch},Fh=O.createContext(_I),gE=O.createContext(bI);function EI(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new yc}}}function wI(s,e){switch(e.type){case tn.DragStart:return{...s,draggable:{...s.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case tn.DragMove:return s.draggable.active==null?s:{...s,draggable:{...s.draggable,translate:{x:e.coordinates.x-s.draggable.initialCoordinates.x,y:e.coordinates.y-s.draggable.initialCoordinates.y}}};case tn.DragEnd:case tn.DragCancel:return{...s,draggable:{...s.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case tn.RegisterDroppable:{const{element:n}=e,{id:i}=n,l=new yc(s.droppable.containers);return l.set(i,n),{...s,droppable:{...s.droppable,containers:l}}}case tn.SetDroppableDisabled:{const{id:n,key:i,disabled:l}=e,c=s.droppable.containers.get(n);if(!c||i!==c.key)return s;const h=new yc(s.droppable.containers);return h.set(n,{...c,disabled:l}),{...s,droppable:{...s.droppable,containers:h}}}case tn.UnregisterDroppable:{const{id:n,key:i}=e,l=s.droppable.containers.get(n);if(!l||i!==l.key)return s;const c=new yc(s.droppable.containers);return c.delete(n),{...s,droppable:{...s.droppable,containers:c}}}default:return s}}function TI(s){let{disabled:e}=s;const{active:n,activatorEvent:i,draggableNodes:l}=O.useContext(Fh),c=Bp(i),h=Bp(n?.id);return O.useEffect(()=>{if(!e&&!i&&c&&h!=null){if(!Bg(c)||document.activeElement===c.target)return;const p=l.get(h);if(!p)return;const{activatorNode:g,node:y}=p;if(!g.current&&!y.current)return;requestAnimationFrame(()=>{for(const _ of[g.current,y.current]){if(!_)continue;const E=gj(_);if(E){E.focus();break}}})}},[i,e,l,h,c]),null}function SI(s,e){let{transform:n,...i}=e;return s!=null&&s.length?s.reduce((l,c)=>c({transform:l,...i}),n):n}function NI(s){return O.useMemo(()=>({draggable:{...Ld.draggable,...s?.draggable},droppable:{...Ld.droppable,...s?.droppable},dragOverlay:{...Ld.dragOverlay,...s?.dragOverlay}}),[s?.draggable,s?.droppable,s?.dragOverlay])}function AI(s){let{activeNode:e,measure:n,initialRect:i,config:l=!0}=s;const c=O.useRef(!1),{x:h,y:p}=typeof l=="boolean"?{x:l,y:l}:l;br(()=>{if(!h&&!p||!e){c.current=!1;return}if(c.current||!i)return;const y=e?.node.current;if(!y||y.isConnected===!1)return;const _=n(y),E=aE(_,i);if(h||(E.x=0),p||(E.y=0),c.current=!0,Math.abs(E.x)>0||Math.abs(E.y)>0){const S=lE(y);S&&S.scrollBy({top:E.y,left:E.x})}},[e,h,p,i,n])}const yE=O.createContext({...Ps,scaleX:1,scaleY:1});var Ri;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.Initializing=1]="Initializing",s[s.Initialized=2]="Initialized"})(Ri||(Ri={}));const CI=O.memo(function(e){var n,i,l,c;let{id:h,accessibility:p,autoScroll:g=!0,children:y,sensors:_=vI,collisionDetection:E=jj,measuring:S,modifiers:R,...P}=e;const G=O.useReducer(wI,void 0,EI),[q,ne]=G,[le,Z]=Ej(),[re,ie]=O.useState(Ri.Uninitialized),oe=re===Ri.Initialized,{draggable:{active:A,nodes:N,translate:C},droppable:{containers:M}}=q,j=A!=null?N.get(A):null,B=O.useRef({initial:null,translated:null}),D=O.useMemo(()=>{var Fe;return A!=null?{id:A,data:(Fe=j?.data)!=null?Fe:xI,rect:B}:null},[A,j]),ze=O.useRef(null),[ct,X]=O.useState(null),[ce,xe]=O.useState(null),he=Rc(P,Object.values(P)),we=Xc("DndDescribedBy",h),k=O.useMemo(()=>M.getEnabled(),[M]),Y=NI(S),{droppableRects:ue,measureDroppableContainers:me,measuringScheduled:Ae}=aI(k,{dragging:oe,dependencies:[C.x,C.y],config:Y.droppable}),Te=rI(N,A),Le=O.useMemo(()=>ce?Lp(ce):null,[ce]),at=Er(),Ge=lI(Te,Y.draggable.measure);AI({activeNode:A!=null?N.get(A):null,config:at.layoutShiftCompensation,initialRect:Ge,measure:Y.draggable.measure});const Ue=l1(Te,Y.draggable.measure,Ge),zn=l1(Te?Te.parentElement:null),Jt=O.useRef({activatorEvent:null,active:null,activeNode:Te,collisionRect:null,collisions:null,droppableRects:ue,draggableNodes:N,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),kn=M.getNodeFor((n=Jt.current.over)==null?void 0:n.id),Rt=yI({measure:Y.dragOverlay.measure}),Un=(i=Rt.nodeRef.current)!=null?i:Te,En=oe?(l=Rt.rect)!=null?l:Ue:null,zs=!!(Rt.nodeRef.current&&Rt.rect),Us=uI(zs?null:Ue),bt=pE(Un?Zn(Un):null),lt=dI(oe?kn??Te:null),Mn=pI(lt),Fs=SI(R,{transform:{x:C.x-Us.x,y:C.y-Us.y,scaleX:1,scaleY:1},activatorEvent:ce,active:D,activeNodeRect:Ue,containerNodeRect:zn,draggingNodeRect:En,over:Jt.current.over,overlayNodeRect:Rt.rect,scrollableAncestors:lt,scrollableAncestorRects:Mn,windowRect:bt}),_r=Le?Ml(Le,C):null,Ut=hI(lt),As=c1(Ut),qs=c1(Ut,[Ue]),K=Ml(Fs,As),se=En?Mj(En,Fs):null,ye=D&&se?E({active:D,collisionRect:se,droppableRects:ue,droppableContainers:k,pointerCoordinates:_r}):null,pe=iE(ye,"id"),[de,Se]=O.useState(null),st=zs?Fs:Ml(Fs,qs),ut=Ij(st,(c=de?.rect)!=null?c:null,Ue),jt=O.useRef(null),et=O.useCallback((Fe,Tt)=>{let{sensor:St,options:Ft}=Tt;if(ze.current==null)return;const wn=N.get(ze.current);if(!wn)return;const an=Fe.nativeEvent,Mt=new St({active:ze.current,activeNode:wn,event:an,options:Ft,context:Jt,onAbort(Ot){if(!N.get(Ot))return;const{onDragAbort:Sn}=he.current,On={id:Ot};Sn?.(On),le({type:"onDragAbort",event:On})},onPending(Ot,Tn,Sn,On){if(!N.get(Ot))return;const{onDragPending:Vn}=he.current,ts={id:Ot,constraint:Tn,initialCoordinates:Sn,offset:On};Vn?.(ts),le({type:"onDragPending",event:ts})},onStart(Ot){const Tn=ze.current;if(Tn==null)return;const Sn=N.get(Tn);if(!Sn)return;const{onDragStart:On}=he.current,es={activatorEvent:an,active:{id:Tn,data:Sn.data,rect:B}};oc.unstable_batchedUpdates(()=>{On?.(es),ie(Ri.Initializing),ne({type:tn.DragStart,initialCoordinates:Ot,active:Tn}),le({type:"onDragStart",event:es}),X(jt.current),xe(an)})},onMove(Ot){ne({type:tn.DragMove,coordinates:Ot})},onEnd:qn(tn.DragEnd),onCancel:qn(tn.DragCancel)});jt.current=Mt;function qn(Ot){return async function(){const{active:Sn,collisions:On,over:es,scrollAdjustedTranslate:Vn}=Jt.current;let ts=null;if(Sn&&Vn){const{cancelDrop:hn}=he.current;ts={activatorEvent:an,active:Sn,collisions:On,delta:Vn,over:es},Ot===tn.DragEnd&&typeof hn=="function"&&await Promise.resolve(hn(ts))&&(Ot=tn.DragCancel)}ze.current=null,oc.unstable_batchedUpdates(()=>{ne({type:Ot}),ie(Ri.Uninitialized),Se(null),X(null),xe(null),jt.current=null;const hn=Ot===tn.DragEnd?"onDragEnd":"onDragCancel";if(ts){const Bn=he.current[hn];Bn?.(ts),le({type:hn,event:ts})}})}}},[N]),Fn=O.useCallback((Fe,Tt)=>(St,Ft)=>{const wn=St.nativeEvent,an=N.get(Ft);if(ze.current!==null||!an||wn.dndKit||wn.defaultPrevented)return;const Mt={active:an};Fe(St,Tt.options,Mt)===!0&&(wn.dndKit={capturedBy:Tt.sensor},ze.current=Ft,et(St,Tt))},[N,et]),Hs=iI(_,Fn);fI(_),br(()=>{Ue&&re===Ri.Initializing&&ie(Ri.Initialized)},[Ue,re]),O.useEffect(()=>{const{onDragMove:Fe}=he.current,{active:Tt,activatorEvent:St,collisions:Ft,over:wn}=Jt.current;if(!Tt||!St)return;const an={active:Tt,activatorEvent:St,collisions:Ft,delta:{x:K.x,y:K.y},over:wn};oc.unstable_batchedUpdates(()=>{Fe?.(an),le({type:"onDragMove",event:an})})},[K.x,K.y]),O.useEffect(()=>{const{active:Fe,activatorEvent:Tt,collisions:St,droppableContainers:Ft,scrollAdjustedTranslate:wn}=Jt.current;if(!Fe||ze.current==null||!Tt||!wn)return;const{onDragOver:an}=he.current,Mt=Ft.get(pe),qn=Mt&&Mt.rect.current?{id:Mt.id,rect:Mt.rect.current,data:Mt.data,disabled:Mt.disabled}:null,Ot={active:Fe,activatorEvent:Tt,collisions:St,delta:{x:wn.x,y:wn.y},over:qn};oc.unstable_batchedUpdates(()=>{Se(qn),an?.(Ot),le({type:"onDragOver",event:Ot})})},[pe]),br(()=>{Jt.current={activatorEvent:ce,active:D,activeNode:Te,collisionRect:se,collisions:ye,droppableRects:ue,draggableNodes:N,draggingNode:Un,draggingNodeRect:En,droppableContainers:M,over:de,scrollableAncestors:lt,scrollAdjustedTranslate:K},B.current={initial:En,translated:se}},[D,Te,ye,se,N,Un,En,ue,M,de,lt,K]),tI({...at,delta:C,draggingRect:se,pointerCoordinates:_r,scrollableAncestors:lt,scrollableAncestorRects:Mn});const Xr=O.useMemo(()=>({active:D,activeNode:Te,activeNodeRect:Ue,activatorEvent:ce,collisions:ye,containerNodeRect:zn,dragOverlay:Rt,draggableNodes:N,droppableContainers:M,droppableRects:ue,over:de,measureDroppableContainers:me,scrollableAncestors:lt,scrollableAncestorRects:Mn,measuringConfiguration:Y,measuringScheduled:Ae,windowRect:bt}),[D,Te,Ue,ce,ye,zn,Rt,N,M,ue,de,me,lt,Mn,Y,Ae,bt]),hs=O.useMemo(()=>({activatorEvent:ce,activators:Hs,active:D,activeNodeRect:Ue,ariaDescribedById:{draggable:we},dispatch:ne,draggableNodes:N,over:de,measureDroppableContainers:me}),[ce,Hs,D,Ue,ne,we,N,de,me]);return xn.createElement(nE.Provider,{value:Z},xn.createElement(Fh.Provider,{value:hs},xn.createElement(gE.Provider,{value:Xr},xn.createElement(yE.Provider,{value:ut},y)),xn.createElement(TI,{disabled:p?.restoreFocus===!1})),xn.createElement(Sj,{...p,hiddenTextDescribedById:we}));function Er(){const Fe=ct?.autoScrollEnabled===!1,Tt=typeof g=="object"?g.enabled===!1:g===!1,St=oe&&!Fe&&!Tt;return typeof g=="object"?{...g,enabled:St}:{enabled:St}}}),DI=O.createContext(null),d1="button",RI="Draggable";function jI(s){let{id:e,data:n,disabled:i=!1,attributes:l}=s;const c=Xc(RI),{activators:h,activatorEvent:p,active:g,activeNodeRect:y,ariaDescribedById:_,draggableNodes:E,over:S}=O.useContext(Fh),{role:R=d1,roleDescription:P="draggable",tabIndex:G=0}=l??{},q=g?.id===e,ne=O.useContext(q?yE:DI),[le,Z]=oh(),[re,ie]=oh(),oe=mI(h,e),A=Rc(n);br(()=>(E.set(e,{id:e,key:c,node:le,activatorNode:re,data:A}),()=>{const C=E.get(e);C&&C.key===c&&E.delete(e)}),[E,e]);const N=O.useMemo(()=>({role:R,tabIndex:G,"aria-disabled":i,"aria-pressed":q&&R===d1?!0:void 0,"aria-roledescription":P,"aria-describedby":_.draggable}),[i,R,G,q,P,_.draggable]);return{active:g,activatorEvent:p,activeNodeRect:y,attributes:N,isDragging:q,listeners:i?void 0:oe,node:le,over:S,setNodeRef:Z,setActivatorNodeRef:ie,transform:ne}}function II(){return O.useContext(gE)}const kI="Droppable",MI={timeout:25};function OI(s){let{data:e,disabled:n=!1,id:i,resizeObserverConfig:l}=s;const c=Xc(kI),{active:h,dispatch:p,over:g,measureDroppableContainers:y}=O.useContext(Fh),_=O.useRef({disabled:n}),E=O.useRef(!1),S=O.useRef(null),R=O.useRef(null),{disabled:P,updateMeasurementsFor:G,timeout:q}={...MI,...l},ne=Rc(G??i),le=O.useCallback(()=>{if(!E.current){E.current=!0;return}R.current!=null&&clearTimeout(R.current),R.current=setTimeout(()=>{y(Array.isArray(ne.current)?ne.current:[ne.current]),R.current=null},q)},[q]),Z=Uh({callback:le,disabled:P||!h}),re=O.useCallback((N,C)=>{Z&&(C&&(Z.unobserve(C),E.current=!1),N&&Z.observe(N))},[Z]),[ie,oe]=oh(re),A=Rc(e);return O.useEffect(()=>{!Z||!ie.current||(Z.disconnect(),E.current=!1,Z.observe(ie.current))},[ie,Z]),O.useEffect(()=>(p({type:tn.RegisterDroppable,element:{id:i,key:c,disabled:n,node:ie,rect:S,data:A}}),()=>p({type:tn.UnregisterDroppable,key:c,id:i})),[i]),O.useEffect(()=>{n!==_.current.disabled&&(p({type:tn.SetDroppableDisabled,id:i,key:c,disabled:n}),_.current.disabled=n)},[i,c,n,p]),{active:h,rect:S,isOver:g?.id===i,node:ie,over:g,setNodeRef:oe}}function Fg(s,e,n){const i=s.slice();return i.splice(n<0?i.length+n:n,0,i.splice(e,1)[0]),i}function VI(s,e){return s.reduce((n,i,l)=>{const c=e.get(i);return c&&(n[l]=c),n},Array(s.length))}function Sd(s){return s!==null&&s>=0}function BI(s,e){if(s===e)return!0;if(s.length!==e.length)return!1;for(let n=0;n<s.length;n++)if(s[n]!==e[n])return!1;return!0}function LI(s){return typeof s=="boolean"?{draggable:s,droppable:s}:s}const vE=s=>{let{rects:e,activeIndex:n,overIndex:i,index:l}=s;const c=Fg(e,i,n),h=e[l],p=c[l];return!p||!h?null:{x:p.left-h.left,y:p.top-h.top,scaleX:p.width/h.width,scaleY:p.height/h.height}},Nd={scaleX:1,scaleY:1},PI=s=>{var e;let{activeIndex:n,activeNodeRect:i,index:l,rects:c,overIndex:h}=s;const p=(e=c[n])!=null?e:i;if(!p)return null;if(l===n){const y=c[h];return y?{x:0,y:n<h?y.top+y.height-(p.top+p.height):y.top-p.top,...Nd}:null}const g=zI(c,l,n);return l>n&&l<=h?{x:0,y:-p.height-g,...Nd}:l<n&&l>=h?{x:0,y:p.height+g,...Nd}:{x:0,y:0,...Nd}};function zI(s,e,n){const i=s[e],l=s[e-1],c=s[e+1];return i?n<e?l?i.top-(l.top+l.height):c?c.top-(i.top+i.height):0:c?c.top-(i.top+i.height):l?i.top-(l.top+l.height):0:0}const xE="Sortable",bE=xn.createContext({activeIndex:-1,containerId:xE,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:vE,disabled:{draggable:!1,droppable:!1}});function UI(s){let{children:e,id:n,items:i,strategy:l=vE,disabled:c=!1}=s;const{active:h,dragOverlay:p,droppableRects:g,over:y,measureDroppableContainers:_}=II(),E=Xc(xE,n),S=p.rect!==null,R=O.useMemo(()=>i.map(oe=>typeof oe=="object"&&"id"in oe?oe.id:oe),[i]),P=h!=null,G=h?R.indexOf(h.id):-1,q=y?R.indexOf(y.id):-1,ne=O.useRef(R),le=!BI(R,ne.current),Z=q!==-1&&G===-1||le,re=LI(c);br(()=>{le&&P&&_(R)},[le,R,P,_]),O.useEffect(()=>{ne.current=R},[R]);const ie=O.useMemo(()=>({activeIndex:G,containerId:E,disabled:re,disableTransforms:Z,items:R,overIndex:q,useDragOverlay:S,sortedRects:VI(R,g),strategy:l}),[G,E,re.draggable,re.droppable,Z,R,q,g,S,l]);return xn.createElement(bE.Provider,{value:ie},e)}const FI=s=>{let{id:e,items:n,activeIndex:i,overIndex:l}=s;return Fg(n,i,l).indexOf(e)},qI=s=>{let{containerId:e,isSorting:n,wasDragging:i,index:l,items:c,newIndex:h,previousItems:p,previousContainerId:g,transition:y}=s;return!y||!i||p!==c&&l===h?!1:n?!0:h!==l&&e===g},HI={duration:200,easing:"ease"},_E="transform",GI=Ic.Transition.toString({property:_E,duration:0,easing:"linear"}),QI={roleDescription:"sortable"};function $I(s){let{disabled:e,index:n,node:i,rect:l}=s;const[c,h]=O.useState(null),p=O.useRef(n);return br(()=>{if(!e&&n!==p.current&&i.current){const g=l.current;if(g){const y=to(i.current,{ignoreTransform:!0}),_={x:g.left-y.left,y:g.top-y.top,scaleX:g.width/y.width,scaleY:g.height/y.height};(_.x||_.y)&&h(_)}}n!==p.current&&(p.current=n)},[e,n,i,l]),O.useEffect(()=>{c&&h(null)},[c]),c}function YI(s){let{animateLayoutChanges:e=qI,attributes:n,disabled:i,data:l,getNewIndex:c=FI,id:h,strategy:p,resizeObserverConfig:g,transition:y=HI}=s;const{items:_,containerId:E,activeIndex:S,disabled:R,disableTransforms:P,sortedRects:G,overIndex:q,useDragOverlay:ne,strategy:le}=O.useContext(bE),Z=KI(i,R),re=_.indexOf(h),ie=O.useMemo(()=>({sortable:{containerId:E,index:re,items:_},...l}),[E,l,re,_]),oe=O.useMemo(()=>_.slice(_.indexOf(h)),[_,h]),{rect:A,node:N,isOver:C,setNodeRef:M}=OI({id:h,data:ie,disabled:Z.droppable,resizeObserverConfig:{updateMeasurementsFor:oe,...g}}),{active:j,activatorEvent:B,activeNodeRect:D,attributes:ze,setNodeRef:ct,listeners:X,isDragging:ce,over:xe,setActivatorNodeRef:he,transform:we}=jI({id:h,data:ie,attributes:{...QI,...n},disabled:Z.draggable}),k=hj(M,ct),Y=!!j,ue=Y&&!P&&Sd(S)&&Sd(q),me=!ne&&ce,Ae=me&&ue?we:null,Le=ue?Ae??(p??le)({rects:G,activeNodeRect:D,activeIndex:S,overIndex:q,index:re}):null,at=Sd(S)&&Sd(q)?c({id:h,items:_,activeIndex:S,overIndex:q}):re,Ge=j?.id,Ue=O.useRef({activeId:Ge,items:_,newIndex:at,containerId:E}),zn=_!==Ue.current.items,Jt=e({active:j,containerId:E,isDragging:ce,isSorting:Y,id:h,index:re,items:_,newIndex:Ue.current.newIndex,previousItems:Ue.current.items,previousContainerId:Ue.current.containerId,transition:y,wasDragging:Ue.current.activeId!=null}),kn=$I({disabled:!Jt,index:re,node:N,rect:A});return O.useEffect(()=>{Y&&Ue.current.newIndex!==at&&(Ue.current.newIndex=at),E!==Ue.current.containerId&&(Ue.current.containerId=E),_!==Ue.current.items&&(Ue.current.items=_)},[Y,at,E,_]),O.useEffect(()=>{if(Ge===Ue.current.activeId)return;if(Ge!=null&&Ue.current.activeId==null){Ue.current.activeId=Ge;return}const Un=setTimeout(()=>{Ue.current.activeId=Ge},50);return()=>clearTimeout(Un)},[Ge]),{active:j,activeIndex:S,attributes:ze,data:ie,rect:A,index:re,newIndex:at,items:_,isOver:C,isSorting:Y,isDragging:ce,listeners:X,node:N,overIndex:q,over:xe,setNodeRef:k,setActivatorNodeRef:he,setDroppableNodeRef:M,setDraggableNodeRef:ct,transform:kn??Le,transition:Rt()};function Rt(){if(kn||zn&&Ue.current.newIndex===re)return GI;if(!(me&&!Bg(B)||!y)&&(Y||Jt))return Ic.Transition.toString({...y,property:_E})}}function KI(s,e){var n,i;return typeof s=="boolean"?{draggable:s,droppable:!1}:{draggable:(n=s?.draggable)!=null?n:e.draggable,droppable:(i=s?.droppable)!=null?i:e.droppable}}function dh(s){if(!s)return!1;const e=s.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const XI=[Je.Down,Je.Right,Je.Up,Je.Left],WI=(s,e)=>{let{context:{active:n,collisionRect:i,droppableRects:l,droppableContainers:c,over:h,scrollableAncestors:p}}=e;if(XI.includes(s.code)){if(s.preventDefault(),!n||!i)return;const g=[];c.getEnabled().forEach(E=>{if(!E||E!=null&&E.disabled)return;const S=l.get(E.id);if(S)switch(s.code){case Je.Down:i.top<S.top&&g.push(E);break;case Je.Up:i.top>S.top&&g.push(E);break;case Je.Left:i.left>S.left&&g.push(E);break;case Je.Right:i.left<S.left&&g.push(E);break}});const y=Dj({collisionRect:i,droppableRects:l,droppableContainers:g});let _=iE(y,"id");if(_===h?.id&&y.length>1&&(_=y[1].id),_!=null){const E=c.get(n.id),S=c.get(_),R=S?l.get(S.id):null,P=S?.node.current;if(P&&R&&E&&S){const q=zh(P).some((oe,A)=>p[A]!==oe),ne=EE(E,S),le=JI(E,S),Z=q||!ne?{x:0,y:0}:{x:le?i.width-R.width:0,y:le?i.height-R.height:0},re={x:R.left,y:R.top};return Z.x&&Z.y?re:jc(re,Z)}}}};function EE(s,e){return!dh(s)||!dh(e)?!1:s.data.current.sortable.containerId===e.data.current.sortable.containerId}function JI(s,e){return!dh(s)||!dh(e)||!EE(s,e)?!1:s.data.current.sortable.index<e.data.current.sortable.index}const ZI=({section:s,onToggleVisibility:e})=>{const{attributes:n,listeners:i,setNodeRef:l,transform:c,transition:h,isDragging:p}=YI({id:s.id}),g={transform:Ic.Transform.toString(c),transition:h,zIndex:p?50:"auto"};return u.jsxs("div",{ref:l,style:g,className:`flex items-center gap-4 bg-white p-4 rounded-lg border ${p?"border-[#B08D55] shadow-lg":"border-[#E6D2B5]/50"} mb-3 transition-shadow`,children:[u.jsx("button",{...n,...i,className:"cursor-grab active:cursor-grabbing text-[#B08D55] hover:bg-[#F9F4EF] p-1 rounded",children:u.jsx(sR,{size:20})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-serif text-[#43342E]",children:s.label}),u.jsxs("p",{className:"text-[10px] text-[#8C7C72] uppercase tracking-widest",children:["Section ID: ",s.id]})]}),u.jsx("button",{onClick:()=>e(s.id),className:`p-2 rounded-full transition-colors ${s.visible!==!1?"text-[#B08D55] hover:bg-[#F9F4EF]":"text-gray-300 hover:bg-gray-100"}`,title:s.visible!==!1?"Hide Section":"Show Section",children:s.visible!==!1?u.jsx(jg,{size:18}):u.jsx(W3,{size:18})})]})},e6=({config:s,updateConfig:e})=>{const n=s.sectionOrder||[],l=(Di.sectionOrder||[]).filter(y=>!n.find(_=>_.id===y.id)),c=[...n,...l],h=Nj(Zb(Ug),Zb(Pg,{coordinateGetter:WI})),p=y=>{const{active:_,over:E}=y;if(_.id!==E.id){const S=c.findIndex(G=>G.id===_.id),R=c.findIndex(G=>G.id===E.id),P=Fg(c,S,R);e("sectionOrder",P)}},g=y=>{const _=c.map(E=>E.id===y?{...E,visible:E.visible===!1}:E);e("sectionOrder",_)};return u.jsxs("div",{className:"space-y-8 animate-fade-in max-w-2xl",children:[u.jsxs("div",{className:"border-b border-[#E6D2B5]/30 pb-4",children:[u.jsx("h3",{className:"font-serif text-2xl text-[#43342E] mb-1",children:"Section Organizer"}),u.jsx("p",{className:"text-xs text-[#8C7C72]",children:"Drag to reorder sections or toggle visibility for guests"})]}),u.jsxs("div",{className:"bg-[#FAF9F6] p-6 rounded-xl border border-[#E6D2B5]/30",children:[u.jsx(CI,{sensors:h,collisionDetection:Cj,onDragEnd:p,children:u.jsx(UI,{items:c.map(y=>y.id),strategy:PI,children:c.map(y=>u.jsx(ZI,{section:y,onToggleVisibility:g},y.id))})}),c.length===0&&u.jsx("div",{className:"text-center py-10 text-[#8C7C72]",children:u.jsx("p",{children:"No sections found. Try resetting the database."})})]}),u.jsxs("div",{className:"bg-[#FFF9F2] p-4 rounded-lg border border-[#E6D2B5]/50 flex gap-3",children:[u.jsx("div",{className:"text-[#B08D55] mt-0.5",children:u.jsx(jg,{size:18})}),u.jsxs("div",{className:"text-xs text-[#8C7C72] leading-relaxed",children:[u.jsx("p",{className:"font-bold text-[#43342E] mb-1",children:"How it works:"}),u.jsxs("ul",{className:"list-disc ml-4 space-y-1",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Drag"})," the handle on the left to change section order."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Toggle"})," the eye icon on the right to show or hide a section."]}),u.jsx("li",{children:'Changes are saved temporarily. Click "Save Changes" on the sidebar to persist to the database.'})]})]})]})]})},t6=({config:s,updateConfig:e})=>{const n=s.registryItems||[],i=(p,g,y)=>{const _=n.map((E,S)=>S===p?{...E,[g]:y}:E);e("registryItems",_)},l=()=>{const p={type:"bank",accountName:"",accountNumber:"",bankName:"New Bank/Wallet",qrCode:"",label:"Bank Transfer"};e("registryItems",[...n,p])},c=p=>{if(confirm("Remove this registry item?")){const g=n.filter((y,_)=>_!==p);e("registryItems",g)}},h=async(p,g)=>{const y=p.target.files[0];if(!y)return;const _=new FileReader;_.onload=E=>{const S=new Image;S.src=E.target.result,S.onload=()=>{const R=document.createElement("canvas"),P=800,G=800;let q=S.width,ne=S.height;q>ne?q>P&&(ne*=P/q,q=P):ne>G&&(q*=G/ne,ne=G),R.width=q,R.height=ne,R.getContext("2d").drawImage(S,0,0,q,ne);const Z=R.toDataURL("image/webp",.7);i(g,"qrCode",Z),Pt.success("QR Code uploaded!")}},_.readAsDataURL(y)};return u.jsxs("div",{className:"space-y-8 animate-fade-in max-w-4xl",children:[u.jsxs("div",{className:"border-b border-[#E6D2B5]/30 pb-4 flex justify-between items-end",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-serif text-2xl text-[#43342E] mb-1",children:"Gift Registry"}),u.jsx("p",{className:"text-xs text-[#8C7C72]",children:"Setup bank details or e-wallets with QR codes for guests."})]}),u.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-6 py-2.5 bg-[#43342E] text-white rounded-full text-xs font-bold uppercase tracking-widest hover:bg-[#5D4B42] transition-all shadow-md active:scale-95",children:[u.jsx(Cn,{size:16})," Add Option"]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"md:col-span-2 bg-[#FAF9F6] p-6 rounded-xl border border-[#E6D2B5]/30 space-y-4",children:[u.jsxs("h4",{className:"text-sm font-bold text-[#43342E] uppercase tracking-widest mb-4 flex items-center gap-2",children:[u.jsx(kg,{className:"text-[#B08D55]",size:18})," Section Header"]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] uppercase tracking-widest text-[#8C7C72] ml-1",children:"Title"}),u.jsx("input",{type:"text",value:s.registryTitle||"",onChange:p=>e("registryTitle",p.target.value),className:"admin-input rounded-lg",placeholder:"Gift Registry"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] uppercase tracking-widest text-[#8C7C72] ml-1",children:"Subtitle"}),u.jsx("input",{type:"text",value:s.registrySubtitle||"",onChange:p=>e("registrySubtitle",p.target.value),className:"admin-input rounded-lg",placeholder:"Love & Support"})]}),u.jsxs("div",{className:"md:col-span-2 space-y-2",children:[u.jsx("label",{className:"text-[10px] uppercase tracking-widest text-[#8C7C72] ml-1",children:"Instruction / Message"}),u.jsx("textarea",{value:s.registryInstruction||"",onChange:p=>e("registryInstruction",p.target.value),className:"admin-input rounded-lg h-20 resize-none",placeholder:"A short message for your guests..."})]})]})]}),n.map((p,g)=>u.jsxs("div",{className:"bg-white p-6 rounded-xl border border-[#E6D2B5]/30 shadow-sm relative group animate-fade-in",children:[u.jsx("button",{onClick:()=>c(g),className:"absolute -top-3 -right-3 p-2 bg-red-50 text-red-500 rounded-full border border-red-100 opacity-0 group-hover:opacity-100 transition-all hover:bg-red-500 hover:text-white shadow-sm",children:u.jsx(xr,{size:16})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx("label",{className:"text-[10px] uppercase tracking-widest text-[#8C7C72] ml-1",children:"Mode"}),u.jsxs("select",{value:p.type,onChange:y=>i(g,"type",y.target.value),className:"admin-input rounded-lg",children:[u.jsx("option",{value:"bank",children:"Bank Account"}),u.jsx("option",{value:"ewallet",children:"E-Wallet"})]})]}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx("label",{className:"text-[10px] uppercase tracking-widest text-[#8C7C72] ml-1",children:"Label"}),u.jsx("input",{type:"text",value:p.label,onChange:y=>i(g,"label",y.target.value),className:"admin-input rounded-lg",placeholder:"e.g. Bank Transfer"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] uppercase tracking-widest text-[#8C7C72] ml-1",children:"Bank Name / Provider"}),u.jsx("input",{type:"text",value:p.bankName,onChange:y=>i(g,"bankName",y.target.value),className:"admin-input rounded-lg font-bold",placeholder:"e.g. BDO, GCash, Maya"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] uppercase tracking-widest text-[#8C7C72] ml-1",children:"Account Name"}),u.jsx("input",{type:"text",value:p.accountName,onChange:y=>i(g,"accountName",y.target.value),className:"admin-input rounded-lg",placeholder:"Full Name"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] uppercase tracking-widest text-[#8C7C72] ml-1",children:"Account Number"}),u.jsx("input",{type:"text",value:p.accountNumber,onChange:y=>i(g,"accountNumber",y.target.value),className:"admin-input rounded-lg",placeholder:"0000 0000 0000"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] uppercase tracking-widest text-[#8C7C72] ml-1",children:"QR Code"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("label",{className:"flex-1 cursor-pointer",children:[u.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:y=>h(y,g)}),u.jsx("div",{className:"border-2 border-dashed border-[#E6D2B5] rounded-xl p-4 flex flex-col items-center justify-center gap-2 hover:bg-[#FAF9F6] transition-colors",children:p.qrCode?u.jsxs("div",{className:"relative group/img",children:[u.jsx("img",{src:p.qrCode,alt:"QR Preview",className:"h-24 w-24 object-contain rounded-lg"}),u.jsx("div",{className:"absolute inset-0 bg-[#43342E]/40 opacity-0 group-hover/img:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:u.jsx(Ra,{className:"text-white",size:18})})]}):u.jsxs(u.Fragment,{children:[u.jsx(J2,{className:"text-[#B08D55]/50",size:32}),u.jsx("span",{className:"text-[10px] text-[#8C7C72] uppercase font-bold",children:"Upload QR Code"})]})})]}),p.qrCode&&u.jsx("button",{onClick:()=>i(g,"qrCode",""),className:"p-3 text-red-400 hover:text-red-500 hover:bg-red-50 rounded-xl transition-colors",title:"Remove QR Code",children:u.jsx(xr,{size:20})})]})]})]})]},g)),n.length===0&&u.jsxs("div",{className:"md:col-span-2 py-12 text-center border-2 border-dashed border-[#E6D2B5]/30 rounded-2xl bg-[#FAF9F6]",children:[u.jsx("div",{className:"bg-white p-4 rounded-full w-fit mx-auto shadow-sm mb-4",children:u.jsx(Dc,{className:"text-[#E6D2B5]",size:32})}),u.jsx("p",{className:"text-[#8C7C72] text-sm italic",children:'No registry items added yet. Click "Add Option" to get started.'})]})]}),u.jsxs("div",{className:"bg-[#FFF9F2] p-4 rounded-lg border border-[#E6D2B5]/50 flex gap-3 text-xs text-[#8C7C72]",children:[u.jsx(Dc,{className:"text-[#B08D55] shrink-0",size:18}),u.jsxs("p",{children:[u.jsx("strong",{children:"Note:"})," QR codes are compressed for faster loading. Ensure the QR remains scannable after upload."]})]})]})},n6=({config:s,updateConfig:e})=>u.jsxs("div",{className:"space-y-8 animate-fade-in max-w-4xl",children:[u.jsxs("div",{className:"border-b border-[#E6D2B5]/30 pb-4",children:[u.jsx("h3",{className:"font-serif text-2xl text-[#43342E] mb-1",children:"Venue Map"}),u.jsx("p",{className:"text-xs text-[#8C7C72]",children:"Configure the map display to guide your guests to the venue."})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"md:col-span-2 bg-[#FAF9F6] p-6 rounded-xl border border-[#E6D2B5]/30 space-y-4",children:[u.jsxs("h4",{className:"text-sm font-bold text-[#43342E] uppercase tracking-widest mb-4 flex items-center gap-2",children:[u.jsx(K2,{className:"text-[#B08D55]",size:18})," Section Header"]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] uppercase tracking-widest text-[#8C7C72] ml-1",children:"Title"}),u.jsx("input",{type:"text",value:s.mapTitle||"",onChange:n=>e("mapTitle",n.target.value),className:"admin-input rounded-lg",placeholder:"Venue Map"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] uppercase tracking-widest text-[#8C7C72] ml-1",children:"Subtitle"}),u.jsx("input",{type:"text",value:s.mapSubtitle||"",onChange:n=>e("mapSubtitle",n.target.value),className:"admin-input rounded-lg",placeholder:"Getting There"})]}),u.jsxs("div",{className:"md:col-span-2 space-y-2",children:[u.jsx("label",{className:"text-[10px] uppercase tracking-widest text-[#8C7C72] ml-1",children:'Destination Address (for "Get Directions" button)'}),u.jsx("input",{type:"text",value:s.mapDestination||"",onChange:n=>e("mapDestination",n.target.value),className:"admin-input rounded-lg",placeholder:"e.g. Chateau de Busay, Cebu City"})]})]})]}),u.jsxs("div",{className:"md:col-span-2 bg-white p-6 rounded-xl border border-[#E6D2B5]/30 space-y-6 shadow-sm",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("label",{className:"text-[10px] uppercase tracking-widest text-[#8C7C72] ml-1 flex items-center gap-2",children:[u.jsx(Ig,{size:14})," Google Maps Embed URL"]}),u.jsxs("a",{href:"https://support.google.com/maps/answer/144361",target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-[#B08D55] hover:underline flex items-center gap-1",children:[u.jsx(V3,{size:10})," How to get this link?"]})]}),u.jsx("textarea",{value:s.mapEmbedUrl||"",onChange:n=>e("mapEmbedUrl",n.target.value),className:"admin-input rounded-lg h-32 font-mono text-xs leading-relaxed",placeholder:'<iframe src="https://www.google.com/maps/embed?..." ...></iframe>'}),u.jsxs("div",{className:"bg-[#FFF9F2] p-4 rounded-lg flex gap-3 text-xs text-[#8C7C72] border border-[#E6D2B5]/30",children:[u.jsx(Dc,{className:"text-[#B08D55] shrink-0",size:16}),u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-[#43342E] mb-1",children:"Important:"}),u.jsxs("p",{children:["Paste the ",u.jsx("strong",{children:"URL only"}),' (the part starting with https inside the src="..." attribute) from the Google Maps Share ',"->"," Embed a map code."]})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"text-[10px] uppercase tracking-widest text-[#8C7C72] ml-1 flex items-center gap-2",children:[u.jsx($2,{size:14})," Journey Instructions"]}),u.jsx("textarea",{value:s.mapInstructions||"",onChange:n=>e("mapInstructions",n.target.value),className:"admin-input rounded-lg h-24 resize-none",placeholder:"e.g. The reception is 15 mins away from the church..."})]})]}),s.mapEmbedUrl&&u.jsxs("div",{className:"md:col-span-2 space-y-4",children:[u.jsx("label",{className:"text-[10px] uppercase tracking-widest text-[#8C7C72] ml-1",children:"Live Preview"}),u.jsx("div",{className:"aspect-video w-full rounded-xl border-4 border-white shadow-lg overflow-hidden ring-1 ring-[#E6D2B5]/30 bg-gray-50 flex items-center justify-center",children:u.jsx("iframe",{src:s.mapEmbedUrl,width:"100%",height:"100%",style:{border:0},title:"Map Preview"})})]})]})]}),s6=({config:s,updateConfig:e,resetConfig:n,closePanel:i,isSaving:l,onSave:c})=>{const[h,p]=O.useState("guests"),[g,y]=O.useState(""),[_,E]=O.useState("all"),[S,R]=O.useState(!1);O.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const[P,G]=O.useState("none"),[q,ne]=O.useState(null),[le,Z]=O.useState({name:"",guests:"1",attending:"undecided",email:"",message:"",extraGuestNames:[]}),re=(K,se="view")=>{K?(ne(K),Z({...K,extraGuestNames:K.extraGuestNames||[]})):(ne(null),Z({name:"",guests:"1",attending:"undecided",email:"",message:"",extraGuestNames:[]})),G(se)},ie=()=>{if(!le.name)return Pt.error("Name is required");let K=[...s.guestList||[]];if(q)K=K.map(se=>se.timestamp===q.timestamp?{...se,...le}:se),Pt.success("Guest updated");else{const se={...le,timestamp:new Date().toISOString()};K.push(se),Pt.success("Guest added")}e("guestList",K),G("none")},oe=async(K,se)=>{const ye=Se=>Se.timestamp&&K.timestamp?Se.timestamp===K.timestamp:Se.name===K.name&&Se.email===K.email,pe=s.guestList.map(Se=>ye(Se)?se==="undecided"?{...Se,adminStatus:null}:{...Se,adminStatus:se==="yes"?"approved":"rejected"}:Se);e("guestList",pe);const de=se==="yes"?"Approved":se==="no"?"Rejected":"Reset";if(c)try{Pt.promise(c({...s,guestList:pe}),{loading:`Recording ${de}...`,success:u.jsxs("b",{children:["Guest ",de,"!"]}),error:u.jsx("b",{children:"Failed to record."})})}catch(Se){console.error("Quick save failed:",Se)}else Pt.success(`Guest ${de} (Unsaved)`)},A=(K,se)=>{const ye=de=>de.timestamp&&K.timestamp?de.timestamp===K.timestamp:de.name===K.name&&de.email===K.email,pe=s.guestList.map(de=>{if(!ye(de))return de;const Se=(de.rejectedIndividuals||[]).filter(ut=>ut!==se),st=[...de.extraGuestNames||[],se];return{...de,guests:(parseInt(de.guests)+1).toString(),extraGuestNames:st,rejectedIndividuals:Se}});e("guestList",pe),c&&c({...s,guestList:pe}),Pt.success(`${se} restored!`)},N=()=>{c&&Pt.promise(c(s),{loading:"Saving changes...",success:u.jsx("b",{children:"Settings Saved!"}),error:u.jsx("b",{children:"Could not save."})})},C=K=>new Promise((se,ye)=>{const pe=new FileReader;pe.readAsDataURL(K),pe.onload=de=>{const Se=new Image;Se.src=de.target.result,Se.onload=()=>{const st=document.createElement("canvas"),ut=1280,jt=1280;let et=Se.width,Fn=Se.height;et>Fn?et>ut&&(Fn*=ut/et,et=ut):Fn>jt&&(et*=jt/Fn,Fn=jt),st.width=et,st.height=Fn,st.getContext("2d").drawImage(Se,0,0,et,Fn);const Xr=st.toDataURL("image/webp",.6);se(Xr)},Se.onerror=st=>ye(st)},pe.onerror=de=>ye(de)}),M=async(K,se,ye=null)=>{const pe=K.target.files[0];if(pe){const de=Pt.loading("Compressing image...");try{const Se=await C(pe);if(Se.length>1e6){Pt.error("Image is too large. We need to compress it more or try a simpler photo.",{id:de});return}if(ye!==null){const st=[...s.galleryImages];st[ye]=Se,e("galleryImages",st)}else e(se,Se);Pt.success("Image optimized & added!",{id:de})}catch(Se){console.error("Image processing failed:",Se),Pt.error("Failed to process image.",{id:de})}}},j=(K,se,ye=null)=>{if(ye!==null){const pe=[...s.galleryImages];pe[ye]=K,e("galleryImages",pe)}else e(se,K)},B=(K,se,ye)=>{const pe=s.story.map((de,Se)=>Se===K?{...de,[se]:ye}:de);e("story",pe)},D=()=>{const K={date:"New Date",title:"New Milestone",description:"Description here..."},se=[...s.story||[],K];e("story",se)},ze=K=>{const se=(s.story||[]).filter((ye,pe)=>pe!==K);e("story",se)},ct=(K,se,ye)=>{const pe=s.events.map((de,Se)=>Se===K?{...de,[se]:ye}:de);e("events",pe)},X=K=>{if(confirm("Remove this guest?")){const se=(s.guestList||[]).filter(ye=>ye.timestamp!==K.timestamp);e("guestList",se)}},ce=(K,se,ye)=>{const pe=(s.entourageGroups||[]).map((de,Se)=>Se===K?{...de,[se]:ye}:de);e("entourageGroups",pe)},xe=(K,se,ye)=>{const pe=(s.entourageGroups||[]).map((de,Se)=>{if(Se!==K)return de;const st=de.names.map((ut,jt)=>jt===se?ye:ut);return{...de,names:st}});e("entourageGroups",pe)},he=K=>{const se=(s.entourageGroups||[]).map((ye,pe)=>pe!==K?ye:{...ye,names:[...ye.names,"New Name"]});e("entourageGroups",se)},we=(K,se)=>{const ye=(s.entourageGroups||[]).map((pe,de)=>{if(de!==K)return pe;const Se=pe.names.filter((st,ut)=>ut!==se);return{...pe,names:Se}});e("entourageGroups",ye)},k=()=>{const K=[...s.entourageGroups||[],{title:"New Group",names:["Member 1"]}];e("entourageGroups",K)},Y=K=>{if(confirm("Remove this entire group?")){const se=(s.entourageGroups||[]).filter((ye,pe)=>pe!==K);e("entourageGroups",se)}},ue=(K,se,ye)=>{const pe=(s[K]||[]).map((de,Se)=>Se===se?ye:de);e(K,pe)},me=K=>{const se=[...s[K]||[],"New Name"];e(K,se)},Ae=(K,se)=>{const ye=(s[K]||[]).filter((pe,de)=>de!==se);e(K,ye)},Te=(K,se,ye)=>{const pe=(s.principalSponsors||[]).map((de,Se)=>Se===K?{...de,[se]:ye}:de);e("principalSponsors",pe)},Le=()=>{const K=[...s.principalSponsors||[],{mr:"Mr. Name",mrs:"Mrs. Name"}];e("principalSponsors",K)},at=K=>{const se=(s.principalSponsors||[]).filter((ye,pe)=>pe!==K);e("principalSponsors",se)},Ge=(K,se,ye)=>{const pe=(s.secondarySponsors||[]).map((de,Se)=>Se===K?{...de,[se]:ye}:de);e("secondarySponsors",pe)},Ue=()=>{const K=[...s.secondarySponsors||[],{role:"Role",names:"Names"}];e("secondarySponsors",K)},zn=K=>{const se=(s.secondarySponsors||[]).filter((ye,pe)=>pe!==K);e("secondarySponsors",se)},Jt=(K,se,ye)=>{const pe=(s.bearers||[]).map((de,Se)=>Se===K?{...de,[se]:ye}:de);e("bearers",pe)},kn=()=>{const K=[...s.bearers||[],{role:"Role",name:"Name"}];e("bearers",K)},Rt=K=>{const se=(s.bearers||[]).filter((ye,pe)=>pe!==K);e("bearers",se)},Un=(K,se,ye)=>{const pe=(s.colorPalette||[]).map((de,Se)=>Se===K?{...de,[se]:ye}:de);e("colorPalette",pe)},En=()=>{const K=[...s.colorPalette||[],{name:"New Color",hex:"#000000"}];e("colorPalette",K)},zs=K=>{const se=(s.colorPalette||[]).filter((ye,pe)=>pe!==K);e("colorPalette",se)},Us=()=>{const K=prompt("Enter a name for this preset:");if(K){const se={name:K,colors:s.colorPalette},ye=[...s.savedPalettes||[],se];e("savedPalettes",ye),Pt.success("Preset Saved!")}},bt=K=>{if(confirm("Delete this saved preset?")){const se=(s.savedPalettes||[]).filter((ye,pe)=>pe!==K);e("savedPalettes",se),Pt.success("Preset Deleted")}},lt=()=>{if(!s.guestList||s.guestList.length===0){Pt.error("No guests to export");return}const se=[["Name","Guest Choice","Admin Status","GuestsCount","Email","Message","Rejected Individuals","FollowUp Date","Timestamp"].join(","),...s.guestList.map(de=>{const Se=de.extraGuestNames?` (+ ${de.extraGuestNames.filter(st=>st).join(", ")})`:"";return[`"${de.name}${Se}"`,de.attending,de.adminStatus||"pending",de.guests,de.email||"",`"${(de.message||"").replace(/"/g,'""')}"`,`"${(de.rejectedIndividuals||[]).join(", ")}"`,de.followUpDate||"",de.timestamp].join(",")})].join(`
`),ye=new Blob([se],{type:"text/csv;charset=utf-8;"}),pe=document.createElement("a");pe.href=URL.createObjectURL(ye),pe.download=`guest_list_${new Date().toISOString().split("T")[0]}.csv`,pe.click()},Mn=s.guestList?.filter(K=>{const se=K.name.toLowerCase().includes(g.toLowerCase())||K.email&&K.email.toLowerCase().includes(g.toLowerCase());return _==="all"?se:_==="rejected"?se&&(K.adminStatus==="rejected"||K.rejectedIndividuals?.length>0):_==="undecided"?se&&!K.adminStatus&&K.attending==="yes":_==="yes"?se&&K.adminStatus==="approved"&&K.attending==="yes":se&&K.attending===_})||[],Fs={totalSubmissions:s.guestList?.length||0,totalHeads:(s.guestList||[]).reduce((K,se)=>K+(parseInt(se.guests)||1)+(se.rejectedIndividuals?.length||0),0),attendingHeads:s.guestList?.filter(K=>K.attending==="yes"&&K.adminStatus==="approved").reduce((K,se)=>K+(parseInt(se.guests)||1),0)||0,pendingReviewHeads:s.guestList?.filter(K=>K.attending==="yes"&&!K.adminStatus).reduce((K,se)=>K+(parseInt(se.guests)||1),0)||0,declinedByGuestHeads:s.guestList?.filter(K=>K.attending==="no").reduce((K,se)=>K+(parseInt(se.guests)||1),0)||0,rejectedByAdminHeads:(s.guestList||[]).reduce((K,se)=>{const ye=se.adminStatus==="rejected"?parseInt(se.guests)||1:0,pe=se.rejectedIndividuals?.length||0;return K+ye+pe},0)},_r=()=>{const K=[...s.notes||[],{id:Date.now(),text:"New Note",completed:!1,date:new Date().toISOString().split("T")[0]}];e("notes",K)},Ut=(K,se,ye)=>{const pe=s.notes.map(de=>de.id===K?{...de,[se]:ye}:de);e("notes",pe)},As=K=>{const se=s.notes.filter(ye=>ye.id!==K);e("notes",se)},qs=()=>{S?(n(),R(!1)):(R(!0),setTimeout(()=>R(!1),3e3))};return u.jsx("div",{className:"fixed inset-0 z-[60] bg-[#1F1815]/90 backdrop-blur-sm flex items-center justify-center p-0 md:p-4 animate-fade-in",children:u.jsxs("div",{className:"bg-[#FAF9F6] w-full max-w-6xl h-full md:h-[90vh] rounded-none md:rounded-lg shadow-2xl flex flex-col overflow-hidden border border-[#E6D2B5]/20 animate-in zoom-in-95 duration-300",children:[u.jsxs("div",{className:"bg-white px-4 md:px-8 py-3 md:py-6 border-b border-[#E6D2B5]/30 flex justify-between items-center shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(kg,{size:20,className:"text-[#B08D55]"}),u.jsx("h2",{className:"font-serif text-lg md:text-2xl text-[#43342E]",children:"Configuration"})]}),u.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[u.jsxs("button",{onClick:N,disabled:l,className:`flex items-center gap-2 px-4 py-2 rounded-full text-[10px] md:text-xs font-bold uppercase tracking-wider transition-all shadow-md ${l?"bg-[#E6D2B5] text-white cursor-wait":"bg-[#43342E] text-[#F9F4EF] hover:bg-[#5D4B42]"}`,children:[l?u.jsx(Y2,{size:14,className:"animate-spin"}):u.jsx(Z2,{size:14}),u.jsx("span",{className:"hidden md:inline",children:l?"Saving...":"Save Changes"}),u.jsx("span",{className:"md:hidden",children:l?"...":"Save"})]}),u.jsx("button",{onClick:i,className:"text-[#8C7C72] hover:text-[#43342E] transition-colors p-2 hover:bg-gray-100 rounded-full bg-gray-50 md:bg-transparent",children:u.jsx(en,{size:20})})]})]}),u.jsxs("div",{className:"flex-1 flex flex-col md:flex-row overflow-hidden",children:[u.jsx(JR,{activeTab:h,setActiveTab:p,handleResetRequest:qs,resetConfirm:S}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 custom-scrollbar",children:[h==="guests"&&u.jsx(ej,{stats:Fs,statusFilter:_,setStatusFilter:E,searchTerm:g,setSearchTerm:y,filteredGuests:Mn,openGuestModal:re,updateGuestStatus:oe,restoreIndividual:A,downloadCSV:lt,deleteGuest:X}),h==="planner"&&u.jsx(tj,{config:s,addNote:_r,updateNote:Ut,deleteNote:As}),h==="general"&&u.jsx(nj,{config:s,updateConfig:e,handleImageChange:M}),h==="story"&&u.jsx(sj,{config:s,updateConfig:e,updateStory:B,addStoryItem:D,removeStoryItem:ze}),h==="timeline"&&u.jsx(ij,{config:s,updateConfig:e}),h==="events"&&u.jsx(aj,{config:s,updateConfig:e,updateEvent:ct,processImage:C}),h==="entourage"&&u.jsx(lj,{config:s,updateConfig:e,updateListItem:ue,addListItem:me,removeListItem:Ae,updatePrincipalSponsor:Te,addPrincipalSponsor:Le,removePrincipalSponsor:at,updateSecondarySponsor:Ge,addSecondarySponsor:Ue,removeSecondarySponsor:zn,updateBearer:Jt,addBearer:kn,removeBearer:Rt,updateEntourageGroup:ce,updateEntourageName:xe,addEntourageName:he,removeEntourageName:we,addEntourageGroup:k,removeEntourageGroup:Y}),h==="colors"&&u.jsx(oj,{config:s,updateConfig:e,saveCurrentAsPreset:Us,deletePreset:bt,updateColor:Un,addColor:En,removeColor:zs}),h==="rsvp"&&u.jsx(cj,{config:s,updateConfig:e}),h==="images"&&u.jsx(uj,{config:s,handleImageChange:M,handleUrlChange:j}),h==="organizer"&&u.jsx(e6,{config:s,updateConfig:e}),h==="registry"&&u.jsx(t6,{config:s,updateConfig:e}),h==="map"&&u.jsx(n6,{config:s,updateConfig:e}),h==="systems"&&u.jsx(dj,{config:s,updateConfig:e,onSave:c,handleResetRequest:qs,resetConfirm:S})]})]}),u.jsx(ZR,{mode:P,guestForm:le,setGuestForm:Z,onClose:()=>G("none"),onSave:ie,onEdit:()=>G("edit"),currentGuest:q})]})})},r6=({onClose:s,onLogin:e,error:n})=>{const[i,l]=O.useState(""),c=h=>{h.preventDefault(),e(i),l("")};return u.jsx("div",{className:"fixed inset-0 z-[70] bg-[#1F1815]/80 backdrop-blur-md flex items-center justify-center p-4 animate-fade-in",children:u.jsxs("div",{className:"bg-white p-8 md:p-10 max-w-sm w-full text-center shadow-2xl border-t-4 border-[#B08D55] animate-in zoom-in-95 duration-300",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx(jR,{size:48,className:"text-[#B08D55]",strokeWidth:1})}),u.jsx("h3",{className:"font-serif text-3xl mb-2 text-[#43342E]",children:"Planner Access"}),u.jsxs("form",{onSubmit:c,children:[u.jsx("input",{type:"password",placeholder:"Password",className:`w-full border-b p-3 text-center tracking-[0.2em] text-xl focus:outline-none mb-8 transition-colors ${n?"border-red-500 text-red-500 animate-shake placeholder-red-300":"border-[#E6D2B5] focus:border-[#43342E] text-[#43342E]"}`,value:i,onChange:h=>l(h.target.value),autoFocus:!0}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{type:"submit",className:"flex-1 bg-[#43342E] text-white py-4 uppercase text-xs font-bold tracking-widest hover:bg-[#5D4B42] active:scale-95 transition-all",children:"Enter"}),u.jsx("button",{type:"button",onClick:s,className:"flex-1 bg-transparent text-[#8C7C72] py-4 uppercase text-xs font-bold tracking-widest hover:text-[#43342E] transition-colors",children:"Cancel"})]})]})]})})},i6=({config:s,onEnter:e,show:n,loading:i})=>{const[l,c]=O.useState(!1);O.useEffect(()=>{if(!n&&!i&&!l){const p=setTimeout(()=>{c(!0),setTimeout(e,1200)},300);return()=>clearTimeout(p)}},[n,i,e,l]);const h=()=>{c(!0),setTimeout(e,1200)};return u.jsxs("div",{className:`fixed inset-0 z-[10000] bg-[#FAF9F6] flex items-center justify-center transition-all duration-[1200ms] cubic-bezier(0.7, 0, 0.3, 1) ${l?"opacity-0 pointer-events-none scale-110 blur-sm":"opacity-100 scale-100"}`,children:[u.jsxs("div",{className:"absolute inset-0 bg-[#FDFBF7]",children:[u.jsx("div",{className:"absolute inset-0 opacity-[0.04] pointer-events-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}}),u.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[60vw] h-[60vw] bg-[#B08D55]/5 rounded-full blur-[120px] animate-pulse-slow"}),u.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[60vw] h-[60vw] bg-[#E6D2B5]/10 rounded-full blur-[120px] animate-pulse-slow",style:{animationDelay:"2s"}})]}),u.jsx("div",{className:"relative text-center px-6 max-w-lg mx-auto",children:u.jsx("div",{className:"min-h-[260px] flex flex-col justify-center",children:i?u.jsxs("div",{className:"animate-fade-in space-y-6",children:[u.jsx("h3",{className:"text-[#B08D55] text-[10px] uppercase tracking-[0.5em] font-medium opacity-70",children:"Setting The Scene..."}),u.jsx("div",{className:"w-12 h-[1px] bg-gradient-to-r from-transparent via-[#B08D55] to-transparent mx-auto opacity-30"}),u.jsx("p",{className:"text-[#8C7C72] text-[9px] uppercase tracking-[0.4em] italic animate-pulse",children:"Loading Love"})]}):n?u.jsxs("div",{className:"animate-fade-in space-y-6",children:[u.jsx("div",{className:"mb-12",children:u.jsxs("div",{className:"relative w-24 h-24 md:w-32 md:h-32 mx-auto",children:[u.jsx("div",{className:"absolute inset-0 border border-[#E6D2B5] rounded-full animate-spin-slow opacity-30"}),u.jsx("div",{className:"absolute inset-2 border border-[#B08D55]/20 rounded-full"}),u.jsxs("div",{className:"absolute inset-0 bg-white/40 backdrop-blur-sm rounded-full shadow-2xl flex items-center justify-center group overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#B08D55]/5 to-transparent group-hover:bg-[#B08D55]/10 transition-colors"}),u.jsx("span",{className:"font-script text-5xl md:text-6xl text-[#B08D55] italic relative z-10 drop-shadow-sm select-none",children:"L&F"})]})]})}),u.jsxs("div",{className:"space-y-6 mb-12",children:[u.jsx("h3",{className:"text-[#B08D55] text-[10px] md:text-xs uppercase tracking-[0.5em] font-medium opacity-70",children:"Together with their families"}),u.jsxs("h2",{className:"font-serif text-4xl md:text-6xl text-[#43342E] leading-tight tracking-tight",children:["An Invitation ",u.jsx("br",{})," to Love"]}),u.jsx("div",{className:"w-12 h-[1px] bg-gradient-to-r from-transparent via-[#B08D55] to-transparent mx-auto opacity-50"}),u.jsxs("p",{className:"text-[#8C7C72] text-[10px] md:text-xs uppercase tracking-[0.4em] italic",children:[s.dateString,"  ",s.location]})]}),u.jsxs("button",{onClick:h,className:"group relative inline-flex items-center justify-center px-12 py-5 bg-[#43342E] text-white rounded-full overflow-hidden transition-all hover:scale-105 active:scale-95 shadow-[0_20px_40px_-15px_rgba(67,52,46,0.3)]",children:[u.jsx("div",{className:"absolute inset-0 w-0 bg-[#B08D55] transition-all duration-700 ease-[cubic-bezier(0.22,1,0.36,1)] group-hover:w-full"}),u.jsxs("span",{className:"relative z-10 text-[11px] font-bold uppercase tracking-[0.3em] flex items-center gap-3",children:["Enter Celebration",u.jsx("div",{className:"w-1 h-1 rounded-full bg-white animate-pulse"})]})]})]}):u.jsx("div",{className:"animate-fade-in space-y-6 opacity-30",children:u.jsx("p",{className:"text-[#8C7C72] text-[10px] uppercase tracking-[0.4em] italic animate-pulse",children:"Welcome"})})})}),u.jsx("div",{className:"absolute bottom-12 left-0 right-0 text-center animate-fade-in opacity-40 hover:opacity-100 transition-opacity",children:u.jsx("p",{className:"text-[9px] text-[#B08D55] uppercase tracking-[0.3em] italic",children:"Made with love for Louie & Florie"})})]})},a6=({config:s,onAdminClick:e})=>u.jsx("footer",{className:"bg-[#1F1815] text-[#8C7C72] py-20 text-center border-t-8 border-[#2E2622]",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[u.jsx("h2",{className:"font-serif text-4xl text-[#DBC1A7] mb-10 tracking-wide",children:s.names}),u.jsxs("div",{className:"flex justify-center space-x-12 mb-12",children:[u.jsx("a",{href:s.instagram,className:"text-[10px] uppercase tracking-[0.25em] hover:text-[#DBC1A7] transition-colors p-2",children:"Instagram"}),u.jsx("a",{href:s.facebook,className:"text-[10px] uppercase tracking-[0.25em] hover:text-[#DBC1A7] transition-colors p-2",children:"Facebook"}),u.jsx("a",{href:s.contact,className:"text-[10px] uppercase tracking-[0.25em] hover:text-[#DBC1A7] transition-colors p-2",children:"Contact"})]}),u.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 border-t border-[#43342E]/50 pt-10 mt-6 max-w-xs mx-auto",children:[u.jsx("p",{className:"text-[10px] font-light tracking-widest text-[#5D4B42]",children:"EST. 2026  CEBU PHILIPPINES"}),u.jsxs("button",{onClick:e,className:"text-[9px] text-[#43342E] hover:text-[#B08D55] transition-colors uppercase tracking-widest font-bold flex items-center gap-2 opacity-50 hover:opacity-100 p-4",children:[u.jsx(dR,{size:10})," Admin Access"]})]})]})}),l6=()=>u.jsx("div",{className:"fixed inset-0 z-[1] pointer-events-none opacity-[0.03] mix-blend-overlay",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}}),o6=()=>u.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none overflow-hidden",children:[u.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40vw] h-[40vw] bg-[#B08D55] rounded-full mix-blend-multiply filter blur-[120px] opacity-10 animate-pulse-slow"}),u.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40vw] h-[40vw] bg-[#E6D2B5] rounded-full mix-blend-multiply filter blur-[120px] opacity-10 animate-pulse-slow",style:{animationDelay:"2s"}})]}),c6=()=>{const[s,e]=O.useState(0),[n,i]=O.useState(!1);O.useEffect(()=>{const g=()=>{const y=document.documentElement.scrollHeight-window.innerHeight,_=window.scrollY/y*100;e(_),i(window.scrollY>500)};return window.addEventListener("scroll",g,{passive:!0}),()=>window.removeEventListener("scroll",g)},[]);const l=()=>{window.scrollTo({top:0,behavior:"smooth"})},c=20,h=2*Math.PI*c,p=h-s/100*h;return u.jsx("button",{onClick:l,className:`fixed bottom-8 right-8 z-50 flex items-center justify-center transition-all duration-500 hover:scale-110 ${n?"translate-y-0 opacity-100":"translate-y-20 opacity-0"}`,children:u.jsxs("div",{className:"relative w-12 h-12 bg-white/80 backdrop-blur-md rounded-full shadow-lg flex items-center justify-center",children:[u.jsxs("svg",{className:"absolute top-0 left-0 w-full h-full -rotate-90 transform",viewBox:"0 0 48 48",children:[u.jsx("circle",{className:"text-[#E6D2B5]/30",strokeWidth:"3",stroke:"currentColor",fill:"transparent",r:c,cx:"24",cy:"24"}),u.jsx("circle",{className:"text-[#B08D55] transition-all duration-100 ease-out",strokeWidth:"3",strokeDasharray:h,strokeDashoffset:p,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:c,cx:"24",cy:"24"})]}),u.jsx(T3,{size:18,className:"text-[#43342E]"})]})})},u6=()=>{const s=Array.from({length:50});return u.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none flex justify-center",children:s.map((e,n)=>u.jsx("div",{className:`confetti-piece confetti-${n%4}`,style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*.5}s`,backgroundColor:["#B08D55","#E6D2B5","#43342E","#F9F4EF"][n%4]}},n))})},Oe=({children:s,className:e="",variant:n="up",delay:i=0})=>{const[l,c]=O.useState(!1),h=O.useRef();O.useEffect(()=>{const g=new IntersectionObserver(_=>{_.forEach(E=>{E.isIntersecting&&(c(!0),g.unobserve(E.target))})},{threshold:.1}),y=h.current;return y&&g.observe(y),()=>{y&&g.unobserve(y)}},[]);const p=()=>{switch(n){case"left":return l?"translate-x-0":"-translate-x-20";case"right":return l?"translate-x-0":"translate-x-20";case"zoom":return l?"scale-100":"scale-90";default:return l?"translate-y-0":"translate-y-20"}};return u.jsx("div",{ref:h,style:{transitionDelay:`${i}ms`},className:`transition-all duration-1000 ease-[cubic-bezier(0.22,1,0.36,1)] transform ${l?"opacity-100":"opacity-0"} ${p()} ${e}`,children:s})},d6=({src:s,onClose:e})=>{const[n,i]=O.useState(!1);return s?u.jsxs("div",{className:"fixed inset-0 z-[100] bg-[#1F1815]/95 backdrop-blur-xl flex items-center justify-center p-4 animate-fade-in",onClick:e,children:[u.jsx("button",{className:"absolute top-6 right-6 text-white/70 hover:text-white transition-colors z-50 p-2 hover:bg-white/10 rounded-full",onClick:e,children:u.jsx(en,{size:32,strokeWidth:1.5})}),u.jsx("div",{className:`relative transition-all duration-500 ease-out transform ${n?"scale-100 opacity-100":"scale-95 opacity-0"}`,onClick:l=>l.stopPropagation(),children:u.jsx("img",{src:s,onLoad:()=>i(!0),alt:"Full screen",className:"max-h-[85vh] max-w-[95vw] object-contain shadow-2xl rounded-sm ring-1 ring-white/10"})})]}):null},h6=({targetDate:s})=>{const[e,n]=O.useState({days:0,hours:0,minutes:0,seconds:0});function i(){const c=+new Date(s)-+new Date;return c>0?{days:Math.floor(c/(1e3*60*60*24)),hours:Math.floor(c/(1e3*60*60)%24),minutes:Math.floor(c/1e3/60%60),seconds:Math.floor(c/1e3%60)}:{days:0,hours:0,minutes:0,seconds:0}}O.useEffect(()=>{n(i());const c=setInterval(()=>{n(i())},1e3);return()=>clearInterval(c)},[s]);const l=({value:c,label:h})=>u.jsxs("div",{className:"flex flex-col items-center mx-2 sm:mx-6 group cursor-default",children:[u.jsx("div",{className:"w-14 h-14 sm:w-24 sm:h-24 bg-gradient-to-br from-[#F9F4EF]/10 to-[#F9F4EF]/5 backdrop-blur-md rounded-full flex items-center justify-center border border-[#E6D2B5]/30 shadow-[0_8px_32px_0_rgba(31,38,135,0.1)] mb-2 sm:mb-3 transition-transform duration-500 group-hover:scale-110 group-hover:border-[#E6D2B5]/60",children:u.jsx("span",{className:"text-lg sm:text-4xl font-serif text-[#F9F4EF] drop-shadow-md tabular-nums",children:String(c||"0").padStart(2,"0")})}),u.jsx("span",{className:"text-[8px] sm:text-xs uppercase tracking-[0.3em] text-[#E6D2B5] font-light transition-colors group-hover:text-white",children:h})]});return u.jsxs("div",{className:"flex flex-wrap justify-center mt-6 md:mt-12 animate-fade-in-up",children:[u.jsx(l,{value:e.days,label:"Days"}),u.jsx(l,{value:e.hours,label:"Hours"}),u.jsx(l,{value:e.minutes,label:"Mins"}),u.jsx(l,{value:e.seconds,label:"Secs"})]})},f6=({coupleName:s,logoText:e,logoImage:n,sectionOrder:i=[]})=>{const[l,c]=O.useState(!1),[h,p]=O.useState(!1),[g,y]=O.useState("home"),_=[{name:"Home",id:"home",href:"#home"},...i.filter(P=>P.visible!==!1).map(P=>({name:P.label,id:P.id==="palette"?"color-palette":P.id,href:P.id==="palette"?"#color-palette":`#${P.id}`}))];O.useEffect(()=>{const P=()=>{p(window.scrollY>50)},G={root:null,rootMargin:"-20% 0px -70% 0px",threshold:0},q=le=>{le.forEach(Z=>{Z.isIntersecting&&y(Z.target.id)})},ne=new IntersectionObserver(q,G);return _.forEach(le=>{const Z=document.getElementById(le.id);Z&&ne.observe(Z)}),window.addEventListener("scroll",P,{passive:!0}),()=>{window.removeEventListener("scroll",P),ne.disconnect()}},[]);const E=s?s.split("&").map(P=>P.trim()[0]).join(" & "):"L & F",S=n&&n.length>10?u.jsx("img",{src:n,alt:"Logo",className:"h-10 md:h-12 w-auto object-contain transition-transform duration-500"}):u.jsx("span",{className:"font-script italic tracking-widest",children:e||E}),R=(P,G)=>{P.preventDefault(),c(!1);const q=G.replace("#",""),ne=document.getElementById(q);if(ne){const Z=document.body.getBoundingClientRect().top,oe=ne.getBoundingClientRect().top-Z-80;window.scrollTo({top:oe,behavior:"smooth"})}};return u.jsxs(u.Fragment,{children:[u.jsx("nav",{className:`fixed w-full z-40 transition-all duration-700 ease-[cubic-bezier(0.22,1,0.36,1)] ${h?"bg-[#FDFBF7]/80 backdrop-blur-xl shadow-lg border-b border-[#E6D2B5]/20 py-2 md:py-3":"bg-transparent py-6 md:py-8"}`,children:u.jsx("div",{className:"max-w-7xl mx-auto px-6 md:px-12 lg:px-16",children:u.jsxs("div",{className:"flex justify-between items-center h-12",children:[u.jsx("div",{className:"flex-shrink-0 flex items-center overflow-hidden",children:u.jsx("a",{href:"#home",onClick:P=>R(P,"#home"),className:`text-2xl md:text-3xl font-medium transition-all duration-700 hover:scale-105 flex items-center ${h?"text-[#43342E]":"text-[#F9F4EF]"}`,children:u.jsx("div",{className:`transition-all duration-700 flex items-center gap-3 ${h?"translate-y-0 scale-90":"translate-y-0 scale-100"}`,children:S})})}),u.jsx("div",{className:"hidden md:flex items-center space-x-12",children:_.map(P=>u.jsxs("a",{href:P.href,onClick:G=>R(G,P.href),className:`text-[10px] md:text-[11px] uppercase tracking-[0.3em] font-bold transition-all duration-500 relative group py-2 
                                        ${h?g===P.id?"text-[#B08D55]":"text-[#5D4B42]/70 hover:text-[#43342E]":g===P.id?"text-[#F9F4EF]":"text-[#F9F4EF]/60 hover:text-white"}`,children:[u.jsx("span",{className:"relative z-10",children:P.name}),u.jsx("span",{className:`absolute bottom-0 left-0 h-[2px] bg-[#B08D55] transition-all duration-500 rounded-full 
                                        ${g===P.id?"w-full opacity-100":"w-0 opacity-0 group-hover:w-8 group-hover:opacity-100"}`})]},P.name))}),u.jsx("div",{className:"md:hidden flex items-center",children:u.jsx("button",{onClick:()=>c(!l),className:`w-10 h-10 flex items-center justify-center rounded-full transition-all duration-500 bg-white/10 backdrop-blur-md border border-white/20
                                    ${h?"text-[#43342E] shadow-sm":"text-[#F9F4EF]"}`,children:l?u.jsx(en,{size:20,strokeWidth:1.5}):u.jsx(pR,{size:20,strokeWidth:1.5})})})]})})}),u.jsxs("div",{className:`fixed inset-0 z-[60] bg-[#FAF9F6] transition-all duration-700 ease-[cubic-bezier(0.7,0,0.3,1)] md:hidden flex flex-col items-center justify-center ${l?"translate-y-0":"translate-y-[-100%]"}`,children:[u.jsx("button",{onClick:()=>c(!1),className:"absolute top-8 right-8 text-[#43342E] p-2 hover:bg-[#E6D2B5]/10 rounded-full transition-colors",children:u.jsx(en,{size:32,strokeWidth:1})}),u.jsxs("div",{className:"text-center px-8 w-full max-w-sm",children:[u.jsx("div",{className:"font-script text-5xl text-[#B08D55] mb-12 opacity-50 italic",children:"L & F"}),u.jsx("div",{className:"space-y-1",children:_.map((P,G)=>u.jsxs("a",{href:P.href,onClick:q=>R(q,P.href),className:`block py-3 text-[#43342E] transition-all duration-700 transform flex items-center justify-center gap-6 group
                                    ${l?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,style:{transitionDelay:`${G*100}ms`},children:[u.jsx("div",{className:`w-1.5 h-1.5 rounded-full bg-[#B08D55] transition-all duration-500 scale-0 group-hover:scale-100 ${g===P.id?"scale-100":""}`}),u.jsx("span",{className:`font-serif text-3xl italic tracking-tight transition-all duration-500 ${g===P.id?"text-[#B08D55] scale-110":"group-hover:translate-x-2"}`,children:P.name}),u.jsx("div",{className:`w-1.5 h-1.5 rounded-full bg-[#B08D55] transition-all duration-500 scale-0 group-hover:scale-100 ${g===P.id?"scale-100":""}`})]},P.name))}),u.jsx("div",{className:"mt-12 w-12 h-[1px] bg-[#E6D2B5] mx-auto opacity-50"}),u.jsx("p",{className:"mt-6 text-[10px] text-[#B08D55] uppercase tracking-[0.4em] italic opacity-40",children:"Join Our Celebration"})]}),u.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-64 h-64 bg-[#B08D55]/5 rounded-full blur-[80px]"}),u.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-64 h-64 bg-[#E6D2B5]/10 rounded-full blur-[80px]"})]})]})},ea=({title:s,subtitle:e})=>u.jsxs("div",{className:"text-center mb-16 md:mb-24",children:[u.jsx("h3",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#C5A059] to-[#9A7B4A] font-bold tracking-[0.3em] uppercase text-[10px] mb-4",children:e}),u.jsx("h2",{className:"font-serif text-5xl md:text-7xl text-[#43342E] mb-8 font-normal",children:s}),u.jsx("div",{className:"w-20 h-[1px] bg-gradient-to-r from-transparent via-[#DBC1A7] to-transparent mx-auto"})]}),m6=({date:s,title:e,description:n,side:i})=>u.jsx(Oe,{variant:"up",className:"w-full",children:u.jsxs("div",{className:`flex flex-col md:flex-row items-center mb-12 md:mb-20 ${i==="left"?"md:flex-row-reverse":""}`,children:[u.jsxs("div",{className:"w-full md:w-5/12 p-8 md:p-12 text-center md:text-left bg-white/60 backdrop-blur-md border border-white/60 shadow-[0_8px_30px_rgb(0,0,0,0.04)] rounded-sm hover:shadow-[0_15px_40px_rgb(0,0,0,0.08)] hover:-translate-y-1 transition-all duration-500 group order-2 md:order-1 mt-6 md:mt-0",children:[u.jsx("span",{className:"text-[#B08D55] font-bold tracking-[0.2em] text-[10px] uppercase block mb-3 group-hover:text-[#8A6E4B] transition-colors",children:s}),u.jsx("h3",{className:"font-serif text-2xl md:text-3xl text-[#43342E] mb-4",children:e}),u.jsx("p",{className:"text-[#786C61] leading-relaxed font-light text-sm",children:n})]}),u.jsx("div",{className:"w-full md:w-2/12 flex justify-center order-1 md:order-2",children:u.jsx("div",{className:"w-3 h-3 bg-gradient-to-b from-[#B08D55] to-[#8A6E4B] rounded-full ring-8 ring-[#F9F4EF] z-10 shadow-md"})}),u.jsx("div",{className:"hidden md:block w-5/12 order-3"})]})}),p6=({config:s,onScrollClick:e})=>u.jsxs("section",{id:"home",className:"relative h-[100dvh] flex items-center justify-center overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 z-0",children:[u.jsx("img",{src:s.heroImage,alt:"Wedding Background",className:"w-full h-full object-cover animate-slow-zoom"}),u.jsx("div",{className:"absolute inset-0 bg-[#1F1815]/30 mix-blend-multiply"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-transparent to-black/40"})]}),u.jsxs("div",{className:"relative z-10 text-center px-4 flex flex-col justify-center h-full pt-10",children:[u.jsx(Oe,{variant:"up",delay:200,children:u.jsx("h3",{className:"text-xl md:text-3xl font-script mb-6 text-[#E6D2B5] opacity-90 drop-shadow-lg tracking-wider",children:"The Wedding Of"})}),u.jsx(Oe,{variant:"up",delay:400,children:u.jsx("h1",{className:"text-6xl md:text-8xl lg:text-9xl font-serif mb-8 drop-shadow-2xl text-transparent bg-clip-text bg-gradient-to-r from-[#FDFBF7] via-[#F2E8DC] to-[#DBC1A7]",children:s.names})}),u.jsx(Oe,{variant:"up",delay:600,children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-2 md:gap-6 text-lg md:text-2xl font-light italic mb-8 md:mb-12 text-[#F2E8DC]",children:[u.jsx("span",{children:s.dateString}),u.jsx("span",{className:"hidden md:inline text-[10px] align-middle text-[#B08D55]",children:""}),u.jsx("span",{children:s.location})]})}),u.jsx(Oe,{variant:"up",delay:800,children:u.jsx(h6,{targetDate:s.dateIso})}),u.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-float opacity-80 hover:opacity-100 transition-opacity z-20 cursor-pointer pt-10",children:u.jsxs("a",{href:"#story",onClick:e,className:"text-[#F9F4EF] hover:text-[#C5A059] transition-colors flex flex-col items-center gap-2 group p-4 min-w-[60px]",children:[u.jsx("span",{className:"text-[10px] uppercase tracking-[0.3em] font-light group-hover:tracking-[0.4em] transition-all",children:"Scroll"}),u.jsx("div",{className:"w-[1px] h-12 bg-gradient-to-b from-[#F9F4EF] to-transparent"})]})})]})]}),g6=({config:s})=>u.jsxs(u.Fragment,{children:[u.jsx("section",{id:"story",className:"py-20 md:py-32 px-4 bg-transparent relative z-10",children:u.jsxs("div",{className:"max-w-5xl mx-auto",children:[u.jsx(Oe,{children:u.jsx(ea,{title:s.storyTitle,subtitle:s.storySubtitle})}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 h-full w-[1px] bg-gradient-to-b from-transparent via-[#E6D2B5]/50 to-transparent hidden md:block"}),s.story?.map((e,n)=>u.jsx(m6,{date:e.date,title:e.title,description:e.description,side:n%2===0?"left":"right"},n))]})]})}),u.jsxs("div",{className:"h-[60vh] relative bg-fixed bg-center bg-cover flex items-center justify-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1511285560982-1356c11d4606?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')"},children:[u.jsx("div",{className:"absolute inset-0 bg-[#43342E]/60 mix-blend-multiply"}),u.jsx("div",{className:"relative z-10 text-center text-[#F9F4EF] px-6 max-w-5xl mx-auto py-16 backdrop-blur-[2px] border-y border-[#F9F4EF]/20",children:u.jsx(Oe,{variant:"zoom",children:u.jsx("h2",{className:"font-serif text-3xl md:text-6xl italic font-light tracking-wide leading-tight",children:'"And so the adventure begins"'})})})]})]}),y6={clock:Jl,coffee:H2,heart:$c,camera:Qc,music:Vh,utensils:Bh,wine:Lh,car:q2,ring:Q2},v6=({config:s})=>!s.timeline||s.timeline.length===0?null:u.jsx("section",{id:"timeline",className:"py-20 md:py-32 px-4 bg-[#FAF9F6] relative z-10 border-t border-[#E6D2B5]/30",children:u.jsxs("div",{className:"max-w-3xl mx-auto",children:[u.jsx(Oe,{children:u.jsx(ea,{title:"Wedding Day",subtitle:"Program of Events"})}),u.jsxs("div",{className:"mt-16 relative",children:[u.jsx("div",{className:"absolute left-[28px] md:left-1/2 top-0 bottom-0 w-[2px] bg-[#E6D2B5]/50 transform md:-translate-x-1/2"}),u.jsx("div",{className:"space-y-12",children:s.timeline.map((e,n)=>{const i=y6[e.icon]||Jl;return u.jsx(Oe,{variant:"up",delay:n*100,children:u.jsxs("div",{className:`flex flex-col md:flex-row items-start ${n%2===0?"md:flex-row-reverse":""} relative group`,children:[u.jsxs("div",{className:`pl-16 md:pl-0 md:w-1/2 ${n%2===0?"md:pr-16 text-left md:text-right":"md:pl-16 text-left"}`,children:[u.jsx("div",{className:"font-serif text-xl text-[#B08D55] mb-1",children:e.time}),u.jsx("h3",{className:"font-serif text-2xl text-[#43342E] mb-2",children:e.title}),e.description&&u.jsx("p",{className:"text-sm text-[#8C7C72] leading-relaxed italic",children:e.description})]}),u.jsx("div",{className:"absolute left-0 md:left-1/2 transform md:-translate-x-1/2 w-14 h-14 bg-white border-2 border-[#E6D2B5] rounded-full flex items-center justify-center z-10 shadow-sm group-hover:scale-110 transition-transform duration-300",children:u.jsx(i,{size:20,className:"text-[#B08D55]"})}),u.jsx("div",{className:"hidden md:block md:w-1/2"})]})},n)})})]})]})}),x6={music:Vh,heart:$c,clock:Jl,location:Da,wine:Lh,utensils:Bh,camera:Qc,party:X2},b6=({config:s})=>u.jsx("section",{id:"events",className:"py-20 md:py-32 px-4 bg-transparent relative z-10",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsx(Oe,{children:u.jsx(ea,{title:s.eventsTitle,subtitle:s.eventsSubtitle})}),u.jsx("div",{className:"flex flex-wrap justify-center gap-6 md:gap-10",children:s.events?.map((e,n)=>{const i=x6[e.icon]||Da;return u.jsx(Oe,{delay:200*(n+1),variant:"up",className:"h-full w-full md:w-[380px]",children:u.jsxs("div",{className:"bg-white/80 backdrop-blur-sm shadow-[0_10px_40px_-10px_rgba(0,0,0,0.05)] text-center h-full group border-b-4 border-transparent hover:border-[#DBC1A7] transition-all duration-300 rounded-lg overflow-hidden flex flex-col active:bg-[#F5F0E6] relative",children:[u.jsxs("div",{className:"h-48 w-full relative overflow-hidden",children:[e.image?u.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}):u.jsx("div",{className:"w-full h-full bg-[#E6D2B5]/20 flex items-center justify-center",children:u.jsx(Da,{className:"text-[#B08D55]/50",size:48})}),u.jsx("div",{className:"absolute inset-0 bg-[#43342E]/20 group-hover:bg-transparent transition-colors duration-500"})]}),u.jsx("div",{className:"absolute top-48 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:u.jsx("span",{className:"inline-block p-4 bg-[#F5F0E6] rounded-full text-[#B08D55] group-hover:bg-[#43342E] group-hover:text-[#F9F4EF] transition-colors duration-500 shadow-md border-4 border-white",children:u.jsx(i,{size:20,strokeWidth:1.5})})}),u.jsxs("div",{className:"p-8 pt-10 flex-1 flex flex-col items-center",children:[u.jsx("h3",{className:"font-serif text-2xl md:text-3xl text-[#43342E] mb-2",children:e.title}),u.jsx("p",{className:"text-[#B08D55] font-bold text-[11px] tracking-[0.2em] mb-4 uppercase",children:e.time}),u.jsx("p",{className:"text-[#786C61] mb-8 font-light text-sm leading-relaxed flex-1",children:e.description}),u.jsxs("a",{href:e.mapLink||"#",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center text-[#8C7C72] text-[10px] uppercase tracking-[0.2em] border border-[#E6D2B5] px-6 py-3 rounded-full hover:bg-[#E6D2B5] hover:text-white transition-all duration-300 gap-2 group/link min-h-[44px]",children:[u.jsx(Da,{size:12,className:"group-hover/link:animate-bounce"}),u.jsx("span",{children:e.location}),u.jsx(G2,{size:10,className:"opacity-0 group-hover/link:opacity-100 transition-opacity -ml-1"})]})]})]})},n)})})]})}),_6=({config:s})=>u.jsx("section",{id:"entourage",className:"py-20 md:py-32 px-4 bg-[#FDFBF7] relative z-10",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsx(Oe,{children:u.jsx(ea,{title:s.entourageTitle||"The Entourage",subtitle:s.entourageSubtitle||"Wedding Party"})}),u.jsxs("div",{className:"mb-12",children:[u.jsx(Oe,{variant:"up",children:u.jsxs("h3",{className:"font-serif text-2xl text-[#43342E] mb-12 relative inline-block",children:[u.jsx("span",{className:"relative z-10 px-4 bg-[#FDFBF7]",children:"Our Parents"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[1px] bg-[#E6D2B5] -z-0"})]})}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-12 md:gap-24 relative text-center",children:[u.jsx("div",{className:"hidden md:block absolute left-1/2 top-0 bottom-0 w-[1px] bg-gradient-to-b from-transparent via-[#E6D2B5] to-transparent"}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs font-bold text-[#B08D55] uppercase tracking-widest mb-4",children:"Parents of the Bride"}),u.jsx(Oe,{variant:"up",delay:100,children:u.jsx("div",{className:"text-[#786C61] font-serif text-xl md:text-2xl",children:s.brideParents||"Mr. & Mrs. Parents"})})]}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs font-bold text-[#B08D55] uppercase tracking-widest mb-4",children:"Parents of the Groom"}),u.jsx(Oe,{variant:"up",delay:200,children:u.jsx("div",{className:"text-[#786C61] font-serif text-xl md:text-2xl",children:s.groomParents||"Mr. & Mrs. Parents"})})]})]})]}),u.jsx("div",{className:"mt-12 space-y-16",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-12 md:gap-24 relative text-center",children:[u.jsx("div",{className:"hidden md:block absolute left-1/2 top-0 bottom-0 w-[1px] bg-gradient-to-b from-transparent via-[#E6D2B5] to-transparent"}),u.jsxs("div",{children:[u.jsx(Oe,{variant:"up",children:u.jsx("h3",{className:"font-serif text-2xl text-[#43342E] mb-8 relative inline-block",children:u.jsx("span",{className:"relative z-10 px-4 bg-[#FDFBF7]",children:"Team Bride"})})}),u.jsxs("div",{className:"mb-8",children:[u.jsx("span",{className:"block text-xs font-bold text-[#B08D55] uppercase tracking-widest mb-2",children:"Maid of Honor"}),u.jsx(Oe,{variant:"up",delay:100,children:u.jsx("div",{className:"text-[#786C61] font-light italic text-lg tracking-wide",children:s.maidOfHonor})})]}),s.bridesmaids?.length>0&&u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs font-bold text-[#B08D55] uppercase tracking-widest mb-4",children:"Bridesmaids"}),u.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-6",children:s.bridesmaids.map((e,n)=>u.jsx(Oe,{variant:"up",delay:200+n*50,children:u.jsx("div",{className:"text-[#786C61] font-light italic text-lg tracking-wide",children:e})},n))})]})]}),u.jsxs("div",{children:[u.jsx(Oe,{variant:"up",delay:200,children:u.jsx("h3",{className:"font-serif text-2xl text-[#43342E] mb-8 relative inline-block",children:u.jsx("span",{className:"relative z-10 px-4 bg-[#FDFBF7]",children:"Team Groom"})})}),u.jsxs("div",{className:"mb-8",children:[u.jsx("span",{className:"block text-xs font-bold text-[#B08D55] uppercase tracking-widest mb-2",children:"Best Man"}),u.jsx(Oe,{variant:"up",delay:300,children:u.jsx("div",{className:"text-[#786C61] font-light italic text-lg tracking-wide",children:s.bestMan})})]}),s.groomsmen?.length>0&&u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs font-bold text-[#B08D55] uppercase tracking-widest mb-4",children:"Groomsmen"}),u.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-6",children:s.groomsmen.map((e,n)=>u.jsx(Oe,{variant:"up",delay:400+n*50,children:u.jsx("div",{className:"text-[#786C61] font-light italic text-lg tracking-wide",children:e})},n))})]})]})]})}),s.principalSponsors?.length>0&&u.jsxs("div",{className:"pt-12 border-t border-[#E6D2B5]/30",children:[u.jsx(Oe,{variant:"up",children:u.jsxs("h3",{className:"font-serif text-2xl text-[#43342E] mb-12 relative inline-block",children:[u.jsx("span",{className:"relative z-10 px-4 bg-[#FDFBF7]",children:"Principal Sponsors"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[1px] bg-[#E6D2B5] -z-0"})]})}),u.jsx("div",{className:"space-y-4 max-w-2xl mx-auto",children:s.principalSponsors.map((e,n)=>u.jsx(Oe,{variant:"up",delay:50*n,children:u.jsxs("div",{className:"grid grid-cols-2 gap-8 items-center group relative",children:[u.jsx("div",{className:"text-right text-[#786C61] font-light italic text-lg tracking-wide",children:e.mr}),u.jsx("div",{className:"text-left text-[#786C61] font-light italic text-lg tracking-wide",children:e.mrs}),u.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-1 h-1 bg-[#B08D55] rounded-full opacity-50"})]})},n))})]}),s.secondarySponsors?.length>0&&u.jsxs("div",{className:"pt-12 border-t border-[#E6D2B5]/30",children:[u.jsx(Oe,{variant:"up",children:u.jsxs("h3",{className:"font-serif text-2xl text-[#43342E] mb-12 relative inline-block",children:[u.jsx("span",{className:"relative z-10 px-4 bg-[#FDFBF7]",children:"Secondary Sponsors"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[1px] bg-[#E6D2B5] -z-0"})]})}),u.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:s.secondarySponsors.map((e,n)=>u.jsx(Oe,{variant:"up",delay:n*50,children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-xs font-bold text-[#B08D55] uppercase tracking-widest mb-2",children:e.role}),u.jsx("div",{className:"text-[#786C61] font-light italic text-lg tracking-wide",children:e.names})]})},n))})]}),s.bearers?.length>0&&u.jsxs("div",{className:"pt-12 border-t border-[#E6D2B5]/30",children:[u.jsx(Oe,{variant:"up",children:u.jsxs("h3",{className:"font-serif text-2xl text-[#43342E] mb-12 relative inline-block",children:[u.jsx("span",{className:"relative z-10 px-4 bg-[#FDFBF7]",children:"Bearers"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[1px] bg-[#E6D2B5] -z-0"})]})}),u.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:s.bearers.map((e,n)=>u.jsx(Oe,{variant:"up",delay:n*50,children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-xs font-bold text-[#B08D55] uppercase tracking-widest mb-2",children:e.role}),u.jsx("div",{className:"text-[#786C61] font-light italic text-lg tracking-wide",children:e.name})]})},n))})]}),s.flowerGirls?.length>0&&u.jsxs("div",{className:"pt-12 border-t border-[#E6D2B5]/30",children:[u.jsx(Oe,{variant:"up",children:u.jsxs("h3",{className:"font-serif text-2xl text-[#43342E] mb-12 relative inline-block",children:[u.jsx("span",{className:"relative z-10 px-4 bg-[#FDFBF7]",children:"Flower Girls"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[1px] bg-[#E6D2B5] -z-0"})]})}),u.jsx("div",{className:"flex flex-wrap justify-center gap-x-8 gap-y-4",children:s.flowerGirls.map((e,n)=>u.jsx(Oe,{variant:"up",delay:n*50,children:u.jsx("span",{className:"text-[#786C61] font-light italic text-lg tracking-wide",children:e})},n))})]}),s.offertory?.length>0&&u.jsxs("div",{className:"pt-12 border-t border-[#E6D2B5]/30",children:[u.jsx(Oe,{variant:"up",children:u.jsxs("h3",{className:"font-serif text-2xl text-[#43342E] mb-12 relative inline-block",children:[u.jsx("span",{className:"relative z-10 px-4 bg-[#FDFBF7]",children:"Offertory"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[1px] bg-[#E6D2B5] -z-0"})]})}),u.jsx("div",{className:"flex flex-wrap justify-center gap-x-8 gap-y-4",children:s.offertory.map((e,n)=>u.jsx(Oe,{variant:"up",delay:n*50,children:u.jsx("span",{className:"text-[#786C61] font-light italic text-lg tracking-wide",children:e})},n))})]}),s.entourageGroups?.map((e,n)=>u.jsx(Oe,{variant:"up",delay:n*100,children:u.jsxs("div",{className:"relative",children:[u.jsxs("h3",{className:"font-serif text-2xl text-[#43342E] mb-6 relative inline-block",children:[u.jsx("span",{className:"relative z-10 px-4 bg-[#FDFBF7]",children:e.title}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[1px] bg-[#E6D2B5] -z-0"})]}),u.jsx("div",{className:"flex flex-wrap justify-center gap-x-8 gap-y-3",children:e.names.map((i,l)=>u.jsx("span",{className:"text-[#786C61] font-light italic text-lg tracking-wide",children:i},l))})]})},n))]})}),E6=({color:s})=>u.jsxs("svg",{viewBox:"0 0 100 150",className:"w-full h-full drop-shadow-lg transition-colors duration-500",children:[u.jsx("path",{d:"M20,30 Q20,10 50,10 Q80,10 80,30 V90 H20 V30 Z",fill:s}),u.jsx("path",{d:"M20,30 L10,80 H25 L30,35 Z",fill:s}),u.jsx("path",{d:"M80,30 L90,80 H75 L70,35 Z",fill:s}),u.jsx("rect",{x:"25",y:"90",width:"20",height:"50",rx:"2",fill:s}),u.jsx("rect",{x:"55",y:"90",width:"20",height:"50",rx:"2",fill:s}),u.jsx("path",{d:"M25,140 Q25,145 35,145 Q45,145 45,140",fill:"#333"}),u.jsx("path",{d:"M55,140 Q55,145 65,145 Q75,145 75,140",fill:"#333"}),u.jsx("path",{d:"M40,15 L50,45 L60,15 Z",fill:"white"}),u.jsx("path",{d:"M45,18 L55,18 L50,22 Z",fill:"#333"}),u.jsx("path",{d:"M45,18 L35,15 L45,22 Z",fill:"#333"}),u.jsx("path",{d:"M55,18 L65,15 L55,22 Z",fill:"#333"}),u.jsx("circle",{cx:"50",cy:"60",r:"2",fill:"white",opacity:"0.8"}),u.jsx("circle",{cx:"50",cy:"75",r:"2",fill:"white",opacity:"0.8"})]}),w6=({color:s})=>u.jsxs("svg",{viewBox:"0 0 100 150",className:"w-full h-full drop-shadow-lg transition-colors duration-500",children:[u.jsx("path",{d:"M30,30 Q30,40 35,50 L65,50 Q70,40 70,30 Q50,35 30,30 Z",fill:s}),u.jsx("path",{d:"M30,30 Q50,40 70,30",fill:"none",stroke:"white",strokeWidth:"1",opacity:"0.5"}),u.jsx("path",{d:"M35,50 Q20,100 15,140 Q50,145 85,140 Q80,100 65,50 Z",fill:s}),u.jsx("path",{d:"M35,50 L65,50",stroke:"white",strokeWidth:"1",opacity:"0.5"}),u.jsx("path",{d:"M25,100 Q50,110 75,100",fill:"none",stroke:"white",strokeWidth:"0.5",opacity:"0.3"}),u.jsx("path",{d:"M20,120 Q50,130 80,120",fill:"none",stroke:"white",strokeWidth:"0.5",opacity:"0.3"})]}),T6=({config:s})=>{const[e,n]=xn.useState(null);return xn.useEffect(()=>{s.colorPalette&&s.colorPalette.length>0&&!e&&n(s.colorPalette[0].hex)},[s.colorPalette]),!s.colorPalette||s.colorPalette.length===0?null:u.jsx("section",{id:"color-palette",className:"py-20 md:py-32 px-4 bg-[#FDFBF7] relative z-10 border-t border-[#E6D2B5]/20",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsx(Oe,{children:u.jsx(ea,{title:"Wedding Colors",subtitle:"Our Palette"})}),u.jsx("div",{className:"mt-8 md:mt-12 flex flex-wrap justify-center gap-6 md:gap-16",children:s.colorPalette.map((i,l)=>u.jsx(Oe,{variant:"up",delay:l*100,children:u.jsxs("div",{className:"group flex flex-col items-center gap-2 md:gap-4 cursor-pointer",onClick:()=>n(i.hex),children:[u.jsx("div",{className:`w-16 h-16 md:w-32 md:h-32 rounded-full shadow-lg transition-transform duration-500 hover:scale-110 border-4 ${e===i.hex?"border-[#B08D55] scale-110":"border-white"}`,style:{backgroundColor:i.hex}}),u.jsx("div",{className:"text-center",children:u.jsx("div",{className:`font-serif text-sm md:text-lg ${e===i.hex?"text-[#B08D55] font-bold":"text-[#43342E]"}`,children:i.name})})]})},l))}),u.jsx(Oe,{variant:"up",delay:500,children:u.jsxs("div",{className:"mt-8 md:mt-20 pt-8 md:pt-16 border-t border-[#E6D2B5]/30",children:[u.jsx("h4",{className:"font-serif text-xl md:text-2xl text-[#43342E] mb-2",children:"Visualize the Look"}),u.jsx("p",{className:"text-xs md:text-sm text-[#8C7C72] mb-6 md:mb-12",children:"Tap a color above to see it on the attire."}),u.jsxs("div",{className:"flex justify-center gap-8 md:gap-32 h-40 md:h-64 mb-16",children:[u.jsxs("div",{className:"w-32 md:w-48 flex flex-col items-center gap-4",children:[u.jsx(E6,{color:e||"#E6D2B5"}),u.jsx("span",{className:"font-serif text-[#43342E]",children:"Gentlemen"})]}),u.jsxs("div",{className:"w-32 md:w-48 flex flex-col items-center gap-4",children:[u.jsx(w6,{color:e||"#E6D2B5"}),u.jsx("span",{className:"font-serif text-[#43342E]",children:"Ladies"})]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8 md:gap-16 max-w-4xl mx-auto text-left",children:[u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-lg shadow-sm border border-[#E6D2B5]/30 flex flex-col items-center text-center",children:[u.jsx("div",{className:"bg-[#FAF9F6] p-3 rounded-full mb-4 text-[#B08D55]",children:u.jsx(kR,{size:24})}),u.jsx("h5",{className:"font-serif text-lg text-[#43342E] mb-2",children:"Formal Attire"}),u.jsx("p",{className:"text-sm text-[#8C7C72] leading-relaxed",children:"We kindly request that our guests dress in formal attire."})]}),u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-lg shadow-sm border border-[#E6D2B5]/30 flex flex-col items-center text-center",children:[u.jsx("div",{className:"bg-[#FAF9F6] p-3 rounded-full mb-4 text-[#B08D55]",children:u.jsx(Qc,{size:24})}),u.jsx("h5",{className:"font-serif text-lg text-[#43342E] mb-2",children:"Photo Ready"}),u.jsx("p",{className:"text-sm text-[#8C7C72] leading-relaxed",children:"We'll have a professional photographer capturing every moment. Dress to feel your most confident and beautiful!"})]})]})]})})]})})},S6=({config:s,onImageClick:e})=>u.jsxs("section",{id:"gallery",className:"py-20 md:py-32 bg-white relative z-10",children:[u.jsx(Oe,{children:u.jsx(ea,{title:"Captured Moments",subtitle:"Gallery"})}),u.jsx("div",{className:"columns-2 md:columns-4 gap-4 px-4 max-w-[1600px] mx-auto space-y-4",children:s.galleryImages?.map((n,i)=>u.jsxs("div",{className:"overflow-hidden group cursor-pointer relative bg-gray-100 rounded-sm break-inside-avoid shadow-sm mb-4 animate-fade-in-up",style:{animationDelay:`${i*50}ms`},onClick:()=>e(n),children:[u.jsx("img",{src:n,loading:"lazy",decoding:"async",alt:`Gallery ${i}`,className:"w-full h-auto object-cover transition-transform duration-700 ease-out group-hover:scale-105"}),u.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:u.jsxs("div",{className:"transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300 text-white flex flex-col items-center",children:[u.jsx(WR,{size:24,strokeWidth:1.5,className:"mb-1"}),u.jsx("span",{className:"text-[10px] uppercase tracking-[0.2em] font-medium",children:"View"})]})})]},i))})]}),N6=({config:s,rsvpForm:e,setRsvpForm:n,isSubmitting:i,isSubmitted:l,setIsSubmitted:c,onSubmit:h})=>{const p=()=>{const g=encodeURIComponent(`${s.names} Wedding`),y=encodeURIComponent(`Wedding celebration at ${s.location}`),_=encodeURIComponent(s.location),E=(s.dateIso||"").replace(/[-:]/g,"").split(".")[0],R=new Date(new Date(s.dateIso).getTime()+360*60*1e3).toISOString().replace(/[-:]/g,"").split(".")[0];return`https://www.google.com/calendar/render?action=TEMPLATE&text=${g}&dates=${E}/${R}&details=${y}&location=${_}&sf=true&output=xml`};return u.jsx("section",{id:"rsvp",className:"py-20 md:py-32 px-4 bg-[#F5F0E6] relative z-10",children:u.jsxs("div",{className:"max-w-5xl mx-auto bg-white shadow-2xl overflow-hidden flex flex-col md:flex-row min-h-[600px] animate-fade-in-up",children:[u.jsxs("div",{className:"hidden md:block w-5/12 relative bg-[#1F1815]",children:[u.jsx("img",{src:s.rsvpImage,loading:"lazy",className:"absolute inset-0 w-full h-full object-cover opacity-90 hover:scale-105 transition-transform duration-[20s]",alt:"Flowers"}),u.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-12",children:u.jsxs("div",{className:"border border-[#DBC1A7]/30 p-8 w-full h-full flex flex-col items-center justify-center text-center backdrop-blur-md bg-black/20",children:[u.jsx("h3",{className:"text-[#DBC1A7] font-serif text-5xl mb-6 drop-shadow-md",children:"R S V P"}),u.jsx("div",{className:"w-8 h-[1px] bg-[#DBC1A7]/80 mb-6 mx-auto"}),u.jsxs("p",{className:"text-[#E6D2B5] text-[10px] uppercase tracking-[0.3em] leading-loose drop-shadow-sm",children:["Kindly Respond By",u.jsx("br",{}),u.jsx("span",{className:"text-white text-sm font-semibold mt-2 block",children:s.rsvpDeadline})]})]})})]}),u.jsxs("div",{className:"w-full md:w-7/12 p-6 md:p-20 bg-[#FDFBF7] flex flex-col justify-center relative",children:[u.jsx("div",{className:"absolute top-6 left-6 w-8 h-8 border-t border-l border-[#DBC1A7]"}),u.jsx("div",{className:"absolute top-6 right-6 w-8 h-8 border-t border-r border-[#DBC1A7]"}),u.jsx("div",{className:"absolute bottom-6 left-6 w-8 h-8 border-b border-l border-[#DBC1A7]"}),u.jsx("div",{className:"absolute bottom-6 right-6 w-8 h-8 border-b border-r border-[#DBC1A7]"}),s.rsvpMode==="link"?u.jsxs("div",{className:"text-center animate-fade-in py-10",children:[u.jsx("div",{className:"w-20 h-20 bg-[#F5F0E6] rounded-full flex items-center justify-center mx-auto mb-8 text-[#B08D55] shadow-inner",children:u.jsx(ah,{size:32,strokeWidth:1})}),u.jsx("h2",{className:"font-serif text-4xl mb-6 text-[#43342E]",children:"Will You Join Us?"}),u.jsx("p",{className:"text-[#8C7C72] mb-12 font-light text-sm leading-relaxed px-8",children:"We are managing our guest list through an external service. Please click the button below to confirm your attendance."}),u.jsxs("a",{href:s.rsvpExternalLink,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center gap-3 min-w-[200px] bg-[#43342E] text-[#F9F4EF] py-4 px-8 text-xs font-bold tracking-[0.25em] hover:bg-[#5D4B42] transition-all duration-300 shadow-lg hover:shadow-xl uppercase cursor-pointer decoration-0 justify-center min-h-[50px] active:scale-95",children:[u.jsx("span",{children:"RSVP Now"}),u.jsx(Kb,{size:14,className:"group-hover:translate-x-1 transition-transform"})]}),u.jsx("p",{className:"text-[10px] text-[#B08D55] mt-8 uppercase tracking-widest opacity-60",children:"Opens in a new tab"})]}):l?u.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center animate-fade-in py-12 px-4 relative overflow-hidden min-h-[500px]",children:[u.jsx(u6,{}),u.jsxs("div",{className:"relative z-10 mb-10",children:[u.jsx("div",{className:"w-24 h-24 border border-[#B08D55] rounded-full flex items-center justify-center text-[#B08D55] mx-auto bg-white shadow-xl animate-slow-zoom",children:u.jsx(Cc,{size:48,strokeWidth:1})}),u.jsx("div",{className:"absolute -inset-4 border border-[#B08D55]/20 rounded-full animate-ping opacity-20"})]}),u.jsx("h2",{className:"font-serif text-4xl md:text-5xl mb-6 text-[#43342E] relative z-10 tracking-tight",children:"Our Deepest Thanks"}),u.jsx("p",{className:"text-[#8C7C72] mb-10 font-light italic relative z-10 text-sm md:text-base max-w-sm leading-relaxed",children:"Your response has been successfully recorded. We are overjoyed to share this special day with you."}),u.jsxs("div",{className:"relative z-10 w-full max-w-xs bg-[#F9F4EF]/50 backdrop-blur-sm border border-[#E6D2B5]/30 rounded-lg p-6 mb-10 shadow-sm",children:[u.jsx("p",{className:"text-[10px] text-[#B08D55] uppercase tracking-[0.3em] mb-4 font-bold",children:"Mark Your Calendar"}),u.jsx("h4",{className:"text-[#43342E] font-serif text-xl mb-1",children:s.dateString}),u.jsx("p",{className:"text-[#8C7C72] text-xs",children:s.location})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 relative z-10 w-full justify-center px-4 max-w-md",children:[e.attending==="yes"&&u.jsxs("a",{href:p(),target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-3 bg-[#43342E] text-white px-8 py-4 rounded-full uppercase text-[10px] font-bold tracking-[0.2em] hover:bg-[#5D4B42] hover:-translate-y-0.5 transition-all shadow-lg active:scale-95",children:[u.jsx(N3,{size:16})," Add to Calendar"]}),u.jsx("button",{onClick:()=>c(!1),className:"flex-1 text-[#8C7C72] text-[10px] uppercase tracking-[0.2em] font-bold border border-[#E6D2B5] px-8 py-4 rounded-full hover:bg-[#FAF9F6] transition-all hover:text-[#43342E] active:scale-95 bg-white sm:bg-transparent",children:"Edit Response"})]}),u.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 pointer-events-none",children:u.jsx(ah,{size:200,strokeWidth:.5})})]}):u.jsxs(u.Fragment,{children:[u.jsx("h2",{className:"font-serif text-3xl md:text-4xl mb-3 text-[#43342E] text-center md:text-left",children:"Will you join us?"}),u.jsx("p",{className:"text-[#8C7C72] mb-8 md:mb-12 font-light text-sm italic text-center md:text-left",children:"We would be honored by your presence."}),u.jsxs("form",{onSubmit:h,className:"space-y-6 md:space-y-8",children:[u.jsxs("div",{className:"group relative",children:[u.jsx("input",{required:!0,type:"text",name:"name",className:"w-full border-b border-[#DBC1A7] py-3 text-base focus:outline-none focus:border-[#43342E] transition-colors bg-transparent text-[#43342E] placeholder-transparent peer rounded-none",placeholder:"Enter Your Name",value:e.name,onChange:g=>n({...e,name:g.target.value})}),u.jsx("label",{className:"absolute left-0 -top-3 text-[10px] text-[#B08D55] uppercase tracking-widest transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-3 peer-focus:-top-3 peer-focus:text-[10px] peer-focus:text-[#B08D55]",children:"Enter Your Name"})]}),u.jsxs("div",{className:`transition-all duration-500 overflow-hidden ${e.attending==="undecided"?"max-h-56 opacity-100":"max-h-0 opacity-0"}`,children:[u.jsxs("div",{className:"group relative mb-8",children:[u.jsx("input",{type:"email",name:"email",className:"w-full border-b border-[#DBC1A7] py-3 text-base focus:outline-none focus:border-[#43342E] transition-colors bg-transparent text-[#43342E] placeholder-transparent peer rounded-none",placeholder:"Email Address",value:e.email,required:e.attending==="undecided",onChange:g=>n({...e,email:g.target.value})}),u.jsx("label",{className:"absolute left-0 -top-3 text-[10px] text-[#B08D55] uppercase tracking-widest transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-3 peer-focus:-top-3 peer-focus:text-[10px] peer-focus:text-[#B08D55]",children:"Email Address"})]}),u.jsxs("div",{className:"group relative",children:[u.jsx("input",{type:"date",name:"followUpDate",className:"w-full border-b border-[#DBC1A7] py-3 text-base focus:outline-none focus:border-[#43342E] transition-colors bg-transparent text-[#43342E] placeholder-transparent peer rounded-none",placeholder:"Follow Up Date",value:e.followUpDate,required:e.attending==="undecided",onChange:g=>n({...e,followUpDate:g.target.value})}),u.jsx("label",{className:"absolute left-0 -top-3 text-[10px] text-[#B08D55] uppercase tracking-widest transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-3 peer-focus:-top-3 peer-focus:text-[10px] peer-focus:text-[#B08D55]",children:"Follow-up Date"})]})]}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-6 md:gap-8 pt-2",children:[u.jsxs("div",{className:"w-full md:w-1/2",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] mb-2 uppercase tracking-widest",children:"Guests"}),u.jsxs("select",{name:"guests",className:"w-full border-b border-[#DBC1A7] py-3 text-base focus:outline-none focus:border-[#43342E] bg-transparent text-[#43342E] rounded-none",value:e.guests,onChange:g=>{const y=parseInt(g.target.value),_=e.extraGuestNames||[],E=Array(Math.max(0,y-1)).fill("").map((S,R)=>_[R]||"");n({...e,guests:g.target.value,extraGuestNames:E})},children:[u.jsx("option",{value:"1",children:"1 Person"}),u.jsx("option",{value:"2",children:"2 People"}),u.jsx("option",{value:"3",children:"3 People"}),u.jsx("option",{value:"4",children:"4 People"}),u.jsx("option",{value:"5",children:"5 People"})]})]}),u.jsxs("div",{className:"w-full md:w-1/2",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] mb-2 uppercase tracking-widest",children:"Attending"}),u.jsxs("select",{name:"attending",className:"w-full border-b border-[#DBC1A7] py-3 text-base focus:outline-none focus:border-[#43342E] bg-transparent text-[#43342E] rounded-none",value:e.attending,onChange:g=>n({...e,attending:g.target.value}),children:[u.jsx("option",{value:"yes",children:"Joyfully Accept"}),u.jsx("option",{value:"undecided",children:"Still Deciding"}),u.jsx("option",{value:"no",children:"Regretfully Decline"})]})]})]}),parseInt(e.guests)>1&&u.jsxs("div",{className:"space-y-4 animate-fade-in",children:[u.jsx("p",{className:"text-[10px] text-[#B08D55] uppercase tracking-widest font-bold",children:"Additional Guests"}),e.extraGuestNames.map((g,y)=>u.jsxs("div",{className:"group relative",children:[u.jsx("input",{required:!0,type:"text",name:`guest_${y}`,className:"w-full border-b border-[#DBC1A7] py-3 text-sm focus:outline-none focus:border-[#43342E] transition-colors bg-transparent text-[#43342E] placeholder-transparent peer rounded-none",placeholder:`Guest ${y+2} Name`,value:g,onChange:_=>{const E=[...e.extraGuestNames];E[y]=_.target.value,n({...e,extraGuestNames:E})}}),u.jsxs("label",{className:"absolute left-0 -top-3 text-[9px] text-[#8C7C72] uppercase tracking-widest transition-all peer-placeholder-shown:text-xs peer-placeholder-shown:text-gray-300 peer-placeholder-shown:top-3 peer-focus:-top-3 peer-focus:text-[9px] peer-focus:text-[#B08D55]",children:["Guest ",y+2," Name"]})]},y))]}),u.jsxs("div",{className:"group relative mt-6",children:[u.jsx("textarea",{name:"message",className:"w-full border-b border-[#DBC1A7] py-3 text-base focus:outline-none focus:border-[#43342E] transition-colors bg-transparent text-[#43342E] placeholder-transparent peer resize-none rounded-none",placeholder:"Message to the Couple",rows:"2",value:e.message,onChange:g=>n({...e,message:g.target.value})}),u.jsx("label",{className:"absolute left-0 -top-3 text-[10px] text-[#B08D55] uppercase tracking-widest transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-3 peer-focus:-top-3 peer-focus:text-[10px] peer-focus:text-[#B08D55]",children:"Message to the Couple"})]}),u.jsx("button",{type:"submit",disabled:i,className:"w-full bg-[#43342E] text-[#F9F4EF] py-4 mt-8 text-xs font-bold tracking-[0.25em] hover:bg-[#5D4B42] active:scale-95 touch-manipulation transition-all duration-300 shadow-md hover:shadow-lg uppercase disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center group",children:i?u.jsxs(u.Fragment,{children:[u.jsx(Y2,{size:16,className:"animate-spin mr-3"}),"Processing"]}):u.jsxs("span",{className:"flex items-center gap-2",children:["Confirm Attendance ",u.jsx(Kb,{size:14,className:"group-hover:translate-x-1 transition-transform"})]})})]})]})]})]})})},A6=({config:s})=>{const[e,n]=xn.useState(null),i=(l,c)=>{navigator.clipboard.writeText(l),n(c),Pt.success("Copied to clipboard!"),setTimeout(()=>n(null),2e3)};return!s.registryItems||s.registryItems.length===0?null:u.jsx("section",{id:"registry",className:"py-20 md:py-32 px-4 bg-[#FAF9F6] relative z-10 border-t border-[#E6D2B5]/30",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx(Oe,{children:u.jsx(ea,{title:s.registryTitle||"Gift Registry",subtitle:s.registrySubtitle||"Love & Support"})}),s.registryInstruction&&u.jsx(Oe,{variant:"up",delay:100,children:u.jsx("p",{className:"text-center text-[#8C7C72] mb-12 max-w-2xl mx-auto leading-relaxed italic",children:s.registryInstruction})}),u.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:s.registryItems.map((l,c)=>u.jsx(Oe,{variant:"up",delay:c*100+200,children:u.jsxs("div",{className:"bg-white p-8 rounded-2xl border border-[#E6D2B5]/30 shadow-sm hover:shadow-md transition-all duration-500 group relative overflow-hidden",children:[u.jsx("div",{className:"absolute -right-4 -top-4 w-24 h-24 bg-[#B08D55]/5 rounded-full blur-xl group-hover:bg-[#B08D55]/10 transition-colors"}),u.jsxs("div",{className:"flex flex-col items-center text-center relative z-10",children:[u.jsx("div",{className:"bg-[#FAF9F6] p-4 rounded-full mb-6 text-[#B08D55] ring-1 ring-[#E6D2B5]/20",children:l.type==="bank"?u.jsx(H3,{size:32,strokeWidth:1.5}):u.jsx($R,{size:32,strokeWidth:1.5})}),u.jsx("h4",{className:"font-serif text-2xl text-[#43342E] mb-1",children:l.bankName}),u.jsx("p",{className:"text-[10px] uppercase tracking-widest text-[#B08D55] font-bold mb-6",children:l.label}),l.qrCode&&u.jsxs("div",{className:"mb-8 p-3 bg-white border border-[#E6D2B5]/40 rounded-xl shadow-inner relative group/qr",children:[u.jsx("img",{src:l.qrCode,alt:`${l.bankName} QR Code`,className:"w-48 h-48 md:w-56 md:h-56 object-contain rounded-lg"}),u.jsx("div",{className:"absolute inset-0 bg-[#43342E]/5 opacity-0 group-hover/qr:opacity-100 transition-opacity rounded-lg flex items-center justify-center pointer-events-none",children:u.jsx(J2,{size:40,className:"text-[#43342E]/20"})})]}),u.jsxs("div",{className:"w-full space-y-4 pt-4 border-t border-[#E6D2B5]/10",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[10px] uppercase tracking-widest text-[#8C7C72] mb-1",children:"Account Name"}),u.jsx("p",{className:"font-serif text-[#43342E] text-lg",children:l.accountName})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[10px] uppercase tracking-widest text-[#8C7C72] mb-1",children:"Account Number"}),u.jsxs("div",{className:"flex items-center gap-2 group/copy cursor-pointer",onClick:()=>i(l.accountNumber,`acct-${c}`),children:[u.jsx("p",{className:"font-serif text-xl text-[#B08D55] tracking-tight",children:l.accountNumber}),u.jsx("div",{className:"p-1.5 rounded-full bg-[#FAF9F6] text-[#B08D55] group-hover/copy:bg-[#B08D55] group-hover/copy:text-white transition-all",children:e===`acct-${c}`?u.jsx(Cc,{size:14}):u.jsx(F3,{size:14})})]})]})]})]})]})},c))}),u.jsx(Oe,{delay:600,children:u.jsx("div",{className:"mt-16 text-center",children:u.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-3 bg-[#FFF9F2] border border-[#E6D2B5]/40 rounded-full text-[#8C7C72] text-xs",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-[#B08D55] animate-pulse"}),"Thank you for your warm celebration and kindness."]})})})]})})},C6=({config:s})=>s.mapEmbedUrl?u.jsx("section",{id:"map",className:"py-20 md:py-32 px-4 bg-white relative z-10 border-t border-[#E6D2B5]/30",children:u.jsxs("div",{className:"max-w-5xl mx-auto",children:[u.jsx(Oe,{children:u.jsx(ea,{title:s.mapTitle||"Venue Map",subtitle:s.mapSubtitle||"Getting There"})}),u.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 items-start",children:[u.jsxs(Oe,{variant:"left",className:"lg:col-span-1 space-y-6",children:[u.jsxs("div",{className:"bg-[#FAF9F6] p-8 rounded-2xl border border-[#E6D2B5]/30 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6 text-[#B08D55]",children:[u.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:u.jsx(Da,{size:24})}),u.jsx("h4",{className:"font-serif text-xl text-[#43342E]",children:"Route Details"})]}),s.mapInstructions&&u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"shrink-0 mt-1 text-[#B08D55]",children:u.jsx($2,{size:18})}),u.jsx("p",{className:"text-sm text-[#8C7C72] leading-relaxed italic",children:s.mapInstructions})]})}),u.jsx("div",{className:"pt-8 border-t border-[#E6D2B5]/20",children:u.jsxs("a",{href:`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(s.mapDestination||s.location||"Cebu")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full py-3 bg-[#43342E] text-white rounded-full text-xs font-bold uppercase tracking-widest hover:bg-[#5D4B42] transition-all shadow-md active:scale-95",children:["Get Directions ",u.jsx(G2,{size:14})]})})]}),u.jsx("div",{className:"hidden lg:block h-[1px] w-full bg-gradient-to-r from-transparent via-[#E6D2B5]/30 to-transparent"})]}),u.jsx(Oe,{variant:"right",className:"lg:col-span-2",children:u.jsxs("div",{className:"relative aspect-video lg:aspect-auto lg:h-[500px] w-full bg-white rounded-2xl border-4 border-white shadow-xl overflow-hidden ring-1 ring-[#E6D2B5]/30 group",children:[u.jsx("iframe",{src:s.mapEmbedUrl,width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Wedding Venue Map",className:"grayscale-[20%] group-hover:grayscale-0 transition-all duration-700"}),u.jsx("div",{className:"absolute top-0 left-0 w-16 h-16 border-t-2 border-l-2 border-[#B08D55]/30 m-4 pointer-events-none rounded-tl-xl"}),u.jsx("div",{className:"absolute bottom-0 right-0 w-16 h-16 border-b-2 border-r-2 border-[#B08D55]/30 m-4 pointer-events-none rounded-br-xl"})]})})]})]})}):null;function D6(){const[s,e]=O.useState(null),[n,i]=O.useState(Di),[l,c]=O.useState(!0),[h,p]=O.useState(!1),[g,y]=O.useState(!1),[_,E]=O.useState(!1),[S,R]=O.useState({name:"",email:"",guests:"1",attending:"yes",followUpDate:"",message:"",extraGuestNames:[]}),[P,G]=O.useState(!1),[q,ne]=O.useState(!1),[le,Z]=O.useState(null),[re,ie]=O.useState(!1),[oe,A]=O.useState(!1),[N,C]=O.useState(!1);O.useEffect(()=>{const he=MA(sp,e);return()=>he()},[]);const[M,j]=O.useState(!1),B=O.useRef(N);O.useEffect(()=>{B.current=N},[N]),O.useEffect(()=>{console.log("[Sync] Initializing Firestore Listener...");const he=d3(np(rp,"wedding","config"),we=>{if(we.exists()){const k=we.data();i(Y=>!M||!B.current?(console.log("[Sync] Performing FULL merge from Firestore."),{...Di,...k}):(console.log("[Sync] Admin Panel Open: Merging Guest List only."),{...Y,guestList:k.guestList||Y.guestList})),j(!0)}else console.warn("[Sync] Document not found. Using defaults."),M||i(Di);c(!1)},we=>{console.error("[Sync] Error:",we),we.code==="permission-denied"&&xt.error("Database access denied for guests."),c(!1)});return()=>he()},[M]),O.useEffect(()=>{if(n.syncId){const he=localStorage.getItem("wedding_sync_id");he!==n.syncId&&!N?(console.log("[Sync] New Global Refresh Signal detected. Reloading..."),localStorage.setItem("wedding_sync_id",n.syncId),setTimeout(()=>{window.location.reload()},1e3)):he!==n.syncId&&N&&localStorage.setItem("wedding_sync_id",n.syncId)}},[n.syncId,N]),O.useEffect(()=>{const he=setTimeout(()=>{l&&c(!1),h||p(!0)},5e3);return()=>clearTimeout(he)},[l,h]),O.useEffect(()=>{if(!n.heroImage)return;const he=new Image;he.src=n.heroImage,he.onload=()=>p(!0),he.onerror=()=>p(!0)},[n.heroImage]),O.useEffect(()=>{if(document.title=n.websiteTitle||`${n.names} - Wedding`,n.faviconUrl){let he=document.querySelector("link[rel~='icon']");he||(he=document.createElement("link"),he.rel="icon",document.getElementsByTagName("head")[0].appendChild(he)),he.href=n.faviconUrl}if(n.themeColor){let he=document.querySelector("meta[name='theme-color']");he||(he=document.createElement("meta"),he.name="theme-color",document.getElementsByTagName("head")[0].appendChild(he)),he.content=n.themeColor}},[n.websiteTitle,n.names,n.faviconUrl,n.themeColor]);const D=(he,we)=>{i(k=>({...k,[he]:we}))},ze=async he=>{if(!sp.currentUser){xt.error("Auth session expired. Please log in again.");return}const we=new Date().toISOString(),Y={...he||n,lastSaved:we};y(!0),console.log(`[Firestore Write] Initiating save at ${we}`,Y);try{return await c3(np(rp,"wedding","config"),Y),console.log(`[Firestore Write] SUCCESS: Data persisted to 'wedding/config' at ${we}`),xt.success(`Changes saved successfully at ${new Date().toLocaleTimeString()}`),y(!1),!0}catch(ue){throw console.error("[Firestore Write] ERROR:",ue),xt.error(`Save failed: ${ue.message}`),y(!1),ue}},ct=()=>{confirm("This will overwrite the LIVE database with the local defaultConfig.js settings. Continue?")&&(i(Di),ze(Di))},X=he=>{jA(sp,"admin@louie.com",he).then(()=>{A(!1),C(!0),ie(!1),xt.success("Welcome back!")}).catch(k=>{console.error("Login Failed",k),ie(!0),xt.error("Invalid credentials"),setTimeout(()=>ie(!1),500)})},ce=async he=>{he.preventDefault(),ne(!0);try{const we={...S,timestamp:new Date().toISOString()},k=[...n.guestList||[],we],Y={...n,guestList:k};i(Y),await u3(np(rp,"wedding","config"),{guestList:f3(we)}),ne(!1),G(!0),xt.success("RSVP Sent Successfully!"),R(ue=>({...ue,message:""}))}catch(we){console.error("RSVP Submission Error:",we),xt.error(`Error: ${we.code==="permission-denied"?"Submission restricted":"Connection failed"}`),ne(!1)}},xe=he=>{he.preventDefault(),document.querySelector("#story")?.scrollIntoView({behavior:"smooth"})};return u.jsxs("div",{className:"bg-[#FAF9F6] min-h-screen text-[#43342E] font-sans selection:bg-[#C5A059] selection:text-white relative",children:[u.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;1,400&family=Montserrat:wght@200;300;400;500&family=Great+Vibes&display=swap');
        html { scroll-behavior: smooth; }
        body { font-family: 'Montserrat', sans-serif; -webkit-font-smoothing: antialiased; }
        h1, h2, h3, h4, .font-serif { font-family: 'Playfair Display', serif; }
        .font-script { font-family: 'Great Vibes', cursive; }
        
        /* Mobile Input Fix: Prevent iOS Zoom */
        @media screen and (max-width: 768px) {
          input, select, textarea { font-size: 16px !important; }
        }
        
        input[type="date"] {
            -webkit-appearance: none;
            min-height: 52px; /* Large touch target */
            background-color: transparent;
        }

        .admin-input { width: 100%; padding: 0.75rem; background: white; border: 1px solid #E6D2B5; color: #43342E; outline: none; transition: all 0.2s; }
        .admin-input:focus { border-color: #B08D55; ring: 2px solid #B08D55; }
        
        @keyframes slow-zoom { 0% { transform: scale(1); } 100% { transform: scale(1.1); } }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        .animate-slow-zoom { animation: slow-zoom 20s infinite alternate ease-in-out; }
        .animate-float { animation: float 3s infinite ease-in-out; }
        
        .confetti-piece { position: absolute; width: 8px; height: 16px; background: #ffd300; top: 0; opacity: 0; animation: confetti-fall 3s linear infinite; }
        @keyframes confetti-fall { 0% { top: -10%; transform: rotate(0deg) translateX(0); opacity: 1; } 100% { top: 100%; transform: rotate(360deg) translateX(50px); opacity: 0; } }
        
        @keyframes shake { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); } 20%, 40%, 60%, 80% { transform: translateX(5px); } }
        .animate-shake { animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both; }
        
        .no-scrollbar::-webkit-scrollbar { display: none; } .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
      `}),u.jsx(XT,{position:"top-right",toastOptions:{style:{background:"#43342E",color:"#F9F4EF"}}}),u.jsx(i6,{config:n,loading:l||!h,show:n.showOpeningScreen,onEnter:()=>E(!0)}),u.jsx(l6,{}),u.jsx(o6,{}),u.jsx(c6,{}),u.jsx(d6,{src:le,onClose:()=>Z(null)}),N&&u.jsx(s6,{config:n,updateConfig:D,onSave:ze,resetConfig:ct,closePanel:()=>C(!1),isSaving:g}),oe&&u.jsx(r6,{onClose:()=>A(!1),onLogin:X,error:re}),u.jsxs("div",{className:`transition-all duration-1000 ${_?"opacity-100":"opacity-0 scale-95 origin-center"}`,children:[u.jsx(f6,{coupleName:n.names,logoText:n.logoText,logoImage:n.logoImage,sectionOrder:n.sectionOrder||Di.sectionOrder}),u.jsx(p6,{config:n,onScrollClick:xe}),(n.sectionOrder||Di.sectionOrder).map(he=>{if(he.visible===!1)return null;switch(he.id){case"story":return u.jsx(g6,{config:n},"story");case"timeline":return u.jsx(v6,{config:n},"timeline");case"palette":return u.jsx(T6,{config:n},"palette");case"entourage":return u.jsx(_6,{config:n},"entourage");case"gallery":return u.jsx(S6,{config:n,onImageClick:Z},"gallery");case"rsvp":return u.jsx(N6,{config:n,rsvpForm:S,setRsvpForm:R,isSubmitting:q,isSubmitted:P,setIsSubmitted:G,onSubmit:ce},"rsvp");case"events":return u.jsx(b6,{config:n},"events");case"registry":return u.jsx(A6,{config:n},"registry");case"map":return u.jsx(C6,{config:n},"map");default:return null}}),u.jsx(a6,{config:n,onAdminClick:()=>A(!0)})]})]})}oT.createRoot(document.getElementById("root")).render(u.jsx(O.StrictMode,{children:u.jsx(D6,{})}));
