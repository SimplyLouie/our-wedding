(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function $w(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Vm={exports:{}},ec={};var ab;function Xw(){if(ab)return ec;ab=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:i,key:h,ref:o!==void 0?o:null,props:c}}return ec.Fragment=e,ec.jsx=n,ec.jsxs=n,ec}var ob;function Ww(){return ob||(ob=1,Vm.exports=Xw()),Vm.exports}var u=Ww(),Lm={exports:{}},ke={};var lb;function Jw(){if(lb)return ke;lb=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),A=Symbol.iterator;function j(k){return k===null||typeof k!="object"?null:(k=A&&k[A]||k["@@iterator"],typeof k=="function"?k:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,q={};function re(k,K,ue){this.props=k,this.context=K,this.refs=q,this.updater=ue||z}re.prototype.isReactComponent={},re.prototype.setState=function(k,K){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,K,"setState")},re.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function oe(){}oe.prototype=re.prototype;function ee(k,K,ue){this.props=k,this.context=K,this.refs=q,this.updater=ue||z}var se=ee.prototype=new oe;se.constructor=ee,G(se,re.prototype),se.isPureReactComponent=!0;var ie=Array.isArray;function le(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(k,K,ue){var me=ue.ref;return{$$typeof:s,type:k,key:K,ref:me!==void 0?me:null,props:ue}}function M(k,K){return C(k.type,K,k.props)}function R(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function L(k){var K={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ue){return K[ue]})}var D=/\/+/g;function Pe(k,K){return typeof k=="object"&&k!==null&&k.key!=null?L(""+k.key):K.toString(36)}function ct(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(le,le):(k.status="pending",k.then(function(K){k.status==="pending"&&(k.status="fulfilled",k.value=K)},function(K){k.status==="pending"&&(k.status="rejected",k.reason=K)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function X(k,K,ue,me,Ae){var we=typeof k;(we==="undefined"||we==="boolean")&&(k=null);var Le=!1;if(k===null)Le=!0;else switch(we){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(k.$$typeof){case s:case e:Le=!0;break;case _:return Le=k._init,X(Le(k._payload),K,ue,me,Ae)}}if(Le)return Ae=Ae(k),Le=me===""?"."+Pe(k,0):me,ie(Ae)?(ue="",Le!=null&&(ue=Le.replace(D,"$&/")+"/"),X(Ae,K,ue,"",function(ze){return ze})):Ae!=null&&(R(Ae)&&(Ae=M(Ae,ue+(Ae.key==null||k&&k.key===Ae.key?"":(""+Ae.key).replace(D,"$&/")+"/")+Le)),K.push(Ae)),1;Le=0;var at=me===""?".":me+":";if(ie(k))for(var qe=0;qe<k.length;qe++)me=k[qe],we=at+Pe(me,qe),Le+=X(me,K,ue,we,Ae);else if(qe=j(k),typeof qe=="function")for(k=qe.call(k),qe=0;!(me=k.next()).done;)me=me.value,we=at+Pe(me,qe++),Le+=X(me,K,ue,we,Ae);else if(we==="object"){if(typeof k.then=="function")return X(ct(k),K,ue,me,Ae);throw K=String(k),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ce(k,K,ue){if(k==null)return k;var me=[],Ae=0;return X(k,me,"","",function(we){return K.call(ue,we,Ae++)}),me}function be(k){if(k._status===-1){var K=k._result;K=K(),K.then(function(ue){(k._status===0||k._status===-1)&&(k._status=1,k._result=ue)},function(ue){(k._status===0||k._status===-1)&&(k._status=2,k._result=ue)}),k._status===-1&&(k._status=0,k._result=K)}if(k._status===1)return k._result.default;throw k._result}var he=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Ee={map:ce,forEach:function(k,K,ue){ce(k,function(){K.apply(this,arguments)},ue)},count:function(k){var K=0;return ce(k,function(){K++}),K},toArray:function(k){return ce(k,function(K){return K})||[]},only:function(k){if(!R(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return ke.Activity=E,ke.Children=Ee,ke.Component=re,ke.Fragment=n,ke.Profiler=o,ke.PureComponent=ee,ke.StrictMode=i,ke.Suspense=g,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,ke.__COMPILER_RUNTIME={__proto__:null,c:function(k){return N.H.useMemoCache(k)}},ke.cache=function(k){return function(){return k.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(k,K,ue){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var me=G({},k.props),Ae=k.key;if(K!=null)for(we in K.key!==void 0&&(Ae=""+K.key),K)!S.call(K,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&K.ref===void 0||(me[we]=K[we]);var we=arguments.length-2;if(we===1)me.children=ue;else if(1<we){for(var Le=Array(we),at=0;at<we;at++)Le[at]=arguments[at+2];me.children=Le}return C(k.type,Ae,me)},ke.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},ke.createElement=function(k,K,ue){var me,Ae={},we=null;if(K!=null)for(me in K.key!==void 0&&(we=""+K.key),K)S.call(K,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ae[me]=K[me]);var Le=arguments.length-2;if(Le===1)Ae.children=ue;else if(1<Le){for(var at=Array(Le),qe=0;qe<Le;qe++)at[qe]=arguments[qe+2];Ae.children=at}if(k&&k.defaultProps)for(me in Le=k.defaultProps,Le)Ae[me]===void 0&&(Ae[me]=Le[me]);return C(k,we,Ae)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(k){return{$$typeof:p,render:k}},ke.isValidElement=R,ke.lazy=function(k){return{$$typeof:_,_payload:{_status:-1,_result:k},_init:be}},ke.memo=function(k,K){return{$$typeof:y,type:k,compare:K===void 0?null:K}},ke.startTransition=function(k){var K=N.T,ue={};N.T=ue;try{var me=k(),Ae=N.S;Ae!==null&&Ae(ue,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(le,he)}catch(we){he(we)}finally{K!==null&&ue.types!==null&&(K.types=ue.types),N.T=K}},ke.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},ke.use=function(k){return N.H.use(k)},ke.useActionState=function(k,K,ue){return N.H.useActionState(k,K,ue)},ke.useCallback=function(k,K){return N.H.useCallback(k,K)},ke.useContext=function(k){return N.H.useContext(k)},ke.useDebugValue=function(){},ke.useDeferredValue=function(k,K){return N.H.useDeferredValue(k,K)},ke.useEffect=function(k,K){return N.H.useEffect(k,K)},ke.useEffectEvent=function(k){return N.H.useEffectEvent(k)},ke.useId=function(){return N.H.useId()},ke.useImperativeHandle=function(k,K,ue){return N.H.useImperativeHandle(k,K,ue)},ke.useInsertionEffect=function(k,K){return N.H.useInsertionEffect(k,K)},ke.useLayoutEffect=function(k,K){return N.H.useLayoutEffect(k,K)},ke.useMemo=function(k,K){return N.H.useMemo(k,K)},ke.useOptimistic=function(k,K){return N.H.useOptimistic(k,K)},ke.useReducer=function(k,K,ue){return N.H.useReducer(k,K,ue)},ke.useRef=function(k){return N.H.useRef(k)},ke.useState=function(k){return N.H.useState(k)},ke.useSyncExternalStore=function(k,K,ue){return N.H.useSyncExternalStore(k,K,ue)},ke.useTransition=function(){return N.H.useTransition()},ke.version="19.2.3",ke}var cb;function Up(){return cb||(cb=1,Lm.exports=Jw()),Lm.exports}var O=Up();const Cn=$w(O);var Bm={exports:{}},tc={},Pm={exports:{}},zm={};var ub;function Zw(){return ub||(ub=1,(function(s){function e(X,ce){var be=X.length;X.push(ce);e:for(;0<be;){var he=be-1>>>1,Ee=X[he];if(0<o(Ee,ce))X[he]=ce,X[be]=Ee,be=he;else break e}}function n(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var ce=X[0],be=X.pop();if(be!==ce){X[0]=be;e:for(var he=0,Ee=X.length,k=Ee>>>1;he<k;){var K=2*(he+1)-1,ue=X[K],me=K+1,Ae=X[me];if(0>o(ue,be))me<Ee&&0>o(Ae,ue)?(X[he]=Ae,X[me]=be,he=me):(X[he]=ue,X[K]=be,he=K);else if(me<Ee&&0>o(Ae,be))X[he]=Ae,X[me]=be,he=me;else break e}}return ce}function o(X,ce){var be=X.sortIndex-ce.sortIndex;return be!==0?be:X.id-ce.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var g=[],y=[],_=1,E=null,A=3,j=!1,z=!1,G=!1,q=!1,re=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function se(X){for(var ce=n(y);ce!==null;){if(ce.callback===null)i(y);else if(ce.startTime<=X)i(y),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=n(y)}}function ie(X){if(G=!1,se(X),!z)if(n(g)!==null)z=!0,le||(le=!0,L());else{var ce=n(y);ce!==null&&ct(ie,ce.startTime-X)}}var le=!1,N=-1,S=5,C=-1;function M(){return q?!0:!(s.unstable_now()-C<S)}function R(){if(q=!1,le){var X=s.unstable_now();C=X;var ce=!0;try{e:{z=!1,G&&(G=!1,oe(N),N=-1),j=!0;var be=A;try{t:{for(se(X),E=n(g);E!==null&&!(E.expirationTime>X&&M());){var he=E.callback;if(typeof he=="function"){E.callback=null,A=E.priorityLevel;var Ee=he(E.expirationTime<=X);if(X=s.unstable_now(),typeof Ee=="function"){E.callback=Ee,se(X),ce=!0;break t}E===n(g)&&i(g),se(X)}else i(g);E=n(g)}if(E!==null)ce=!0;else{var k=n(y);k!==null&&ct(ie,k.startTime-X),ce=!1}}break e}finally{E=null,A=be,j=!1}ce=void 0}}finally{ce?L():le=!1}}}var L;if(typeof ee=="function")L=function(){ee(R)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Pe=D.port2;D.port1.onmessage=R,L=function(){Pe.postMessage(null)}}else L=function(){re(R,0)};function ct(X,ce){N=re(function(){X(s.unstable_now())},ce)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(X){X.callback=null},s.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<X?Math.floor(1e3/X):5},s.unstable_getCurrentPriorityLevel=function(){return A},s.unstable_next=function(X){switch(A){case 1:case 2:case 3:var ce=3;break;default:ce=A}var be=A;A=ce;try{return X()}finally{A=be}},s.unstable_requestPaint=function(){q=!0},s.unstable_runWithPriority=function(X,ce){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var be=A;A=X;try{return ce()}finally{A=be}},s.unstable_scheduleCallback=function(X,ce,be){var he=s.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?he+be:he):be=he,X){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=be+Ee,X={id:_++,callback:ce,priorityLevel:X,startTime:be,expirationTime:Ee,sortIndex:-1},be>he?(X.sortIndex=be,e(y,X),n(g)===null&&X===n(y)&&(G?(oe(N),N=-1):G=!0,ct(ie,be-he))):(X.sortIndex=Ee,e(g,X),z||j||(z=!0,le||(le=!0,L()))),X},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(X){var ce=A;return function(){var be=A;A=ce;try{return X.apply(this,arguments)}finally{A=be}}}})(zm)),zm}var db;function eT(){return db||(db=1,Pm.exports=Zw()),Pm.exports}var Um={exports:{}},Sn={};var hb;function tT(){if(hb)return Sn;hb=1;var s=Up();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:y,implementation:_}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Sn.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,_)},Sn.flushSync=function(g){var y=h.T,_=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=y,i.p=_,i.d.f()}},Sn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},Sn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Sn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,E=p(_,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:j}):_==="script"&&i.d.X(g,{crossOrigin:E,integrity:A,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Sn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=p(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},Sn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,E=p(_,y.crossOrigin);i.d.L(g,_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Sn.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=p(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},Sn.requestFormReset=function(g){i.d.r(g)},Sn.unstable_batchedUpdates=function(g,y){return g(y)},Sn.useFormState=function(g,y,_){return h.H.useFormState(g,y,_)},Sn.useFormStatus=function(){return h.H.useHostTransitionStatus()},Sn.version="19.2.3",Sn}var fb;function c1(){if(fb)return Um.exports;fb=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Um.exports=tT(),Um.exports}var mb;function nT(){if(mb)return tc;mb=1;var s=eT(),e=Up(),n=c1();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(i(188))}function y(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(i(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return g(f),t;if(m===l)return g(f),r;m=m.sibling}throw Error(i(188))}if(a.return!==l.return)a=f,l=m;else{for(var b=!1,w=f.child;w;){if(w===a){b=!0,a=f,l=m;break}if(w===l){b=!0,l=f,a=m;break}w=w.sibling}if(!b){for(w=m.child;w;){if(w===a){b=!0,a=m,l=f;break}if(w===l){b=!0,l=m,a=f;break}w=w.sibling}if(!b)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:r}function _(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=_(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),oe=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=R&&t[R]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case re:return"Profiler";case q:return"StrictMode";case ie:return"Suspense";case le:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case ee:return t.displayName||"Context";case oe:return(t._context.displayName||"Context")+".Consumer";case se:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return r=t.displayName||null,r!==null?r:Pe(t.type)||"Memo";case S:r=t._payload,t=t._init;try{return Pe(t(r))}catch{}}return null}var ct=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},he=[],Ee=-1;function k(t){return{current:t}}function K(t){0>Ee||(t.current=he[Ee],he[Ee]=null,Ee--)}function ue(t,r){Ee++,he[Ee]=t.current,t.current=r}var me=k(null),Ae=k(null),we=k(null),Le=k(null);function at(t,r){switch(ue(we,r),ue(Ae,t),ue(me,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Dv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Dv(r),t=Rv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(me),ue(me,t)}function qe(){K(me),K(Ae),K(we)}function ze(t){t.memoizedState!==null&&ue(Le,t);var r=me.current,a=Rv(r,t.type);r!==a&&(ue(Ae,t),ue(me,a))}function zn(t){Ae.current===t&&(K(me),K(Ae)),Le.current===t&&(K(Le),Xl._currentValue=be)}var Wt,jn;function Rt(t){if(Wt===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Wt=r&&r[1]||"",jn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wt+t+jn}var Un=!1;function _n(t,r){if(!t||Un)return"";Un=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Y){var H=Y}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(Y){H=Y}t.call(Z.prototype)}}else{try{throw Error()}catch(Y){H=Y}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Y){if(Y&&H&&typeof Y.stack=="string")return[Y.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],w=m[1];if(b&&w){var I=b.split(`
`),F=w.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===F.length)for(l=I.length-1,f=F.length-1;1<=l&&0<=f&&I[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==F[f]){var W=`
`+I[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=f);break}}}finally{Un=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Rt(a):""}function zs(t,r){switch(t.tag){case 26:case 27:case 5:return Rt(t.type);case 16:return Rt("Lazy");case 13:return t.child!==r&&r!==null?Rt("Suspense Fallback"):Rt("Suspense");case 19:return Rt("SuspenseList");case 0:case 15:return _n(t.type,!1);case 11:return _n(t.type.render,!1);case 1:return _n(t.type,!0);case 31:return Rt("Activity");default:return""}}function Us(t){try{var r="",a=null;do r+=zs(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xt=Object.prototype.hasOwnProperty,ot=s.unstable_scheduleCallback,kn=s.unstable_cancelCallback,Fs=s.unstable_shouldYield,xr=s.unstable_requestPaint,zt=s.unstable_now,Ns=s.unstable_getCurrentPriorityLevel,Hs=s.unstable_ImmediatePriority,$=s.unstable_UserBlockingPriority,ne=s.unstable_NormalPriority,ye=s.unstable_LowPriority,pe=s.unstable_IdlePriority,de=s.log,Te=s.unstable_setDisableYieldValue,st=null,ut=null;function It(t){if(typeof de=="function"&&Te(t),ut&&typeof ut.setStrictMode=="function")try{ut.setStrictMode(st,t)}catch{}}var et=Math.clz32?Math.clz32:$r,Fn=Math.log,qs=Math.LN2;function $r(t){return t>>>=0,t===0?32:31-(Fn(t)/qs|0)|0}var hs=256,_r=262144,Ue=4194304;function Tt(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function St(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~m,l!==0?f=Tt(l):(b&=w,b!==0?f=Tt(b):a||(a=w&~t,a!==0&&(f=Tt(a))))):(w=l&~m,w!==0?f=Tt(w):b!==0?f=Tt(b):a||(a=l&~t,a!==0&&(f=Tt(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function Ut(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function En(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function an(){var t=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),t}function Mt(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Hn(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ot(t,r,a,l,f,m){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,I=t.expirationTimes,F=t.hiddenUpdates;for(a=b&~a;0<a;){var W=31-et(a),Z=1<<W;w[W]=0,I[W]=-1;var H=F[W];if(H!==null)for(F[W]=null,W=0;W<H.length;W++){var Y=H[W];Y!==null&&(Y.lane&=-536870913)}a&=~Z}l!==0&&wn(t,l,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~r))}function wn(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-et(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Tn(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-et(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function Mn(t,r){var a=r&-r;return a=(a&42)!==0?1:es(a),(a&(t.suspendedLanes|r))!==0?0:a}function es(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function On(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ts(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:Zv(t.type))}function hn(t,r){var a=ce.p;try{return ce.p=t,r()}finally{ce.p=a}}var Vn=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Vn,on="__reactProps$"+Vn,Gs="__reactContainer$"+Vn,Oa="__reactEvents$"+Vn,Uh="__reactListeners$"+Vn,$c="__reactHandles$"+Vn,Xc="__reactResources$"+Vn,Qs="__reactMarker$"+Vn;function Va(t){delete t[Ft],delete t[on],delete t[Oa],delete t[Uh],delete t[$c]}function Ys(t){var r=t[Ft];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Gs]||a[Ft]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Lv(t);t!==null;){if(a=t[Ft])return a;t=Lv(t)}return r}t=a,a=t.parentNode}return null}function fs(t){if(t=t[Ft]||t[Gs]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function ns(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function Ks(t){var r=t[Xc];return r||(r=t[Xc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ht(t){t[Qs]=!0}var sl=new Set,rl={};function $s(t,r){Xs(t,r),Xs(t+"Capture",r)}function Xs(t,r){for(rl[t]=r,t=0;t<r.length;t++)sl.add(r[t])}var il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),al={},ol={};function Wc(t){return xt.call(ol,t)?!0:xt.call(al,t)?!1:il.test(t)?ol[t]=!0:(al[t]=!0,!1)}function La(t,r,a){if(Wc(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function ss(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function qt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function ln(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ll(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(b){a=""+b,m.call(this,b)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function dt(t){if(!t._valueTracker){var r=Xr(t)?"checked":"value";t._valueTracker=ll(t,r,""+t[r])}}function Zi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Xr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Ws(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ea=/[\n"\\]/g;function qn(t){return t.replace(ea,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ba(t,r,a,l,f,m,b,w){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),r!=null?b==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+ln(r)):t.value!==""+ln(r)&&(t.value=""+ln(r)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),r!=null?cl(t,b,ln(r)):a!=null?cl(t,b,ln(a)):l!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+ln(w):t.removeAttribute("name")}function Jc(t,r,a,l,f,m,b,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){dt(t);return}a=a!=null?""+ln(a):"",r=r!=null?""+ln(r):a,w||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),dt(t)}function cl(t,r,a){r==="number"&&Ws(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Wr(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ln(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Zc(t,r,a){if(r!=null&&(r=""+ln(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+ln(a):""}function Jr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(i(92));if(ct(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=ln(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),dt(t)}function Gn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ul(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||eu.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function dl(t,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&ul(t,f,l)}else for(var m in r)r.hasOwnProperty(m)&&ul(t,m,r[m])}function Pa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function za(t){return Zr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Cs(){}var hl=null;function ms(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ei=null,Js=null;function ta(t){var r=fs(t);if(r&&(t=r.stateNode)){var a=t[on]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ba(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+qn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[on]||null;if(!f)throw Error(i(90));Ba(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Zi(l)}break e;case"textarea":Zc(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Wr(t,!!a.multiple,r,!1)}}}var Ua=!1;function ti(t,r,a){if(Ua)return t(r,a);Ua=!0;try{var l=t(r);return l}finally{if(Ua=!1,(ei!==null||Js!==null)&&(Ku(),ei&&(r=ei,t=Js,Js=ei=null,ta(r),t)))for(r=0;r<t.length;r++)ta(t[r])}}function Ds(t,r){var a=t.stateNode;if(a===null)return null;var l=a[on]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),na=!1;if(ps)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){na=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{na=!1}var Zs=null,fl=null,sa=null;function ml(){if(sa)return sa;var t,r=fl,a=r.length,l,f="value"in Zs?Zs.value:Zs.textContent,m=f.length;for(t=0;t<a&&r[t]===f[t];t++);var b=a-t;for(l=1;l<=b&&r[a-l]===f[m-l];l++);return sa=f.slice(t,1<l?1-l:void 0)}function ra(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Er(){return!0}function Rs(){return!1}function fn(t){function r(a,l,f,m,b){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Er:Rs,this.isPropagationStopped=Rs,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),r}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},er=fn(wr),ni=E({},wr,{view:0,detail:0}),pl=fn(ni),si,Fa,tr,Ha=E({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ri,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tr&&(tr&&t.type==="mousemove"?(si=t.screenX-tr.screenX,Fa=t.screenY-tr.screenY):Fa=si=0,tr=t),si)},movementY:function(t){return"movementY"in t?t.movementY:Fa}}),gl=fn(Ha),ia=E({},Ha,{dataTransfer:0}),nu=fn(ia),su=E({},ni,{relatedTarget:0}),aa=fn(su),yl=E({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),ru=fn(yl),qa=E({},wr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iu=fn(qa),au=E({},wr,{data:0}),nr=fn(au),ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=cu[t])?!!r[t]:!1}function ri(){return uu}var Ln=E({},ni,{key:function(t){if(t.key){var r=ou[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ra(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ri,charCode:function(t){return t.type==="keypress"?ra(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ra(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),du=fn(Ln),hu=E({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tr=fn(hu),d=E({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ri}),v=fn(d),x=E({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=fn(x),P=E({},Ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=fn(P),fe=E({},wr,{newState:0,oldState:0}),Oe=fn(fe),Vt=[9,13,27,32],rt=ps&&"CompositionEvent"in window,At=null;ps&&"documentMode"in document&&(At=document.documentMode);var gs=ps&&"TextEvent"in window&&!At,sr=ps&&(!rt||At&&8<At&&11>=At),Is=" ",js=!1;function oa(t,r){switch(t){case"keyup":return Vt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ga(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qa=!1;function b2(t,r){switch(t){case"compositionend":return Ga(r);case"keypress":return r.which!==32?null:(js=!0,Is);case"textInput":return t=r.data,t===Is&&js?null:t;default:return null}}function x2(t,r){if(Qa)return t==="compositionend"||!rt&&oa(t,r)?(t=ml(),sa=fl=Zs=null,Qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return sr&&r.locale!=="ko"?null:r.data;default:return null}}var _2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!_2[t.type]:r==="textarea"}function Ug(t,r,a,l){ei?Js?Js.push(l):Js=[l]:ei=l,r=td(r,"onChange"),0<r.length&&(a=new er("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var vl=null,bl=null;function E2(t){wv(t,0)}function fu(t){var r=ns(t);if(Zi(r))return t}function Fg(t,r){if(t==="change")return r}var Hg=!1;if(ps){var Fh;if(ps){var Hh="oninput"in document;if(!Hh){var qg=document.createElement("div");qg.setAttribute("oninput","return;"),Hh=typeof qg.oninput=="function"}Fh=Hh}else Fh=!1;Hg=Fh&&(!document.documentMode||9<document.documentMode)}function Gg(){vl&&(vl.detachEvent("onpropertychange",Qg),bl=vl=null)}function Qg(t){if(t.propertyName==="value"&&fu(bl)){var r=[];Ug(r,bl,t,ms(t)),ti(E2,r)}}function w2(t,r,a){t==="focusin"?(Gg(),vl=r,bl=a,vl.attachEvent("onpropertychange",Qg)):t==="focusout"&&Gg()}function T2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fu(bl)}function S2(t,r){if(t==="click")return fu(r)}function A2(t,r){if(t==="input"||t==="change")return fu(r)}function N2(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var rs=typeof Object.is=="function"?Object.is:N2;function xl(t,r){if(rs(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!xt.call(r,f)||!rs(t[f],r[f]))return!1}return!0}function Yg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kg(t,r){var a=Yg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yg(a)}}function $g(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?$g(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Xg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ws(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ws(t.document)}return r}function qh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var C2=ps&&"documentMode"in document&&11>=document.documentMode,Ya=null,Gh=null,_l=null,Qh=!1;function Wg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qh||Ya==null||Ya!==Ws(l)||(l=Ya,"selectionStart"in l&&qh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_l&&xl(_l,l)||(_l=l,l=td(Gh,"onSelect"),0<l.length&&(r=new er("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ya)))}function la(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ka={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},Yh={},Jg={};ps&&(Jg=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function ca(t){if(Yh[t])return Yh[t];if(!Ka[t])return t;var r=Ka[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Jg)return Yh[t]=r[a];return t}var Zg=ca("animationend"),ey=ca("animationiteration"),ty=ca("animationstart"),D2=ca("transitionrun"),R2=ca("transitionstart"),I2=ca("transitioncancel"),ny=ca("transitionend"),sy=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function ks(t,r){sy.set(t,r),$s(r,[t])}var mu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ys=[],$a=0,$h=0;function pu(){for(var t=$a,r=$h=$a=0;r<t;){var a=ys[r];ys[r++]=null;var l=ys[r];ys[r++]=null;var f=ys[r];ys[r++]=null;var m=ys[r];if(ys[r++]=null,l!==null&&f!==null){var b=l.pending;b===null?f.next=f:(f.next=b.next,b.next=f),l.pending=f}m!==0&&ry(a,f,m)}}function gu(t,r,a,l){ys[$a++]=t,ys[$a++]=r,ys[$a++]=a,ys[$a++]=l,$h|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Xh(t,r,a,l){return gu(t,r,a,l),yu(t)}function ua(t,r){return gu(t,null,null,r),yu(t)}function ry(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&r!==null&&(f=31-et(a),t=m.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),m):null}function yu(t){if(50<Hl)throw Hl=0,am=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Xa={};function j2(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function is(t,r,a,l){return new j2(t,r,a,l)}function Wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sr(t,r){var a=t.alternate;return a===null?(a=is(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function iy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function vu(t,r,a,l,f,m){var b=0;if(l=t,typeof t=="function")Wh(t)&&(b=1);else if(typeof t=="string")b=Lw(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=is(31,a,r,f),t.elementType=C,t.lanes=m,t;case G:return da(a.children,f,m,r);case q:b=8,f|=24;break;case re:return t=is(12,a,r,f|2),t.elementType=re,t.lanes=m,t;case ie:return t=is(13,a,r,f),t.elementType=ie,t.lanes=m,t;case le:return t=is(19,a,r,f),t.elementType=le,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ee:b=10;break e;case oe:b=9;break e;case se:b=11;break e;case N:b=14;break e;case S:b=16,l=null;break e}b=29,a=Error(i(130,t===null?"null":typeof t,"")),l=null}return r=is(b,a,r,f),r.elementType=t,r.type=l,r.lanes=m,r}function da(t,r,a,l){return t=is(7,t,l,r),t.lanes=a,t}function Jh(t,r,a){return t=is(6,t,null,r),t.lanes=a,t}function ay(t){var r=is(18,null,null,0);return r.stateNode=t,r}function Zh(t,r,a){return r=is(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var oy=new WeakMap;function vs(t,r){if(typeof t=="object"&&t!==null){var a=oy.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Us(r)},oy.set(t,r),r)}return{value:t,source:r,stack:Us(r)}}var Wa=[],Ja=0,bu=null,El=0,bs=[],xs=0,ii=null,rr=1,ir="";function Ar(t,r){Wa[Ja++]=El,Wa[Ja++]=bu,bu=t,El=r}function ly(t,r,a){bs[xs++]=rr,bs[xs++]=ir,bs[xs++]=ii,ii=t;var l=rr;t=ir;var f=32-et(l)-1;l&=~(1<<f),a+=1;var m=32-et(r)+f;if(30<m){var b=f-f%5;m=(l&(1<<b)-1).toString(32),l>>=b,f-=b,rr=1<<32-et(r)+f|a<<f|l,ir=m+t}else rr=1<<m|a<<f|l,ir=t}function ef(t){t.return!==null&&(Ar(t,1),ly(t,1,0))}function tf(t){for(;t===bu;)bu=Wa[--Ja],Wa[Ja]=null,El=Wa[--Ja],Wa[Ja]=null;for(;t===ii;)ii=bs[--xs],bs[xs]=null,ir=bs[--xs],bs[xs]=null,rr=bs[--xs],bs[xs]=null}function cy(t,r){bs[xs++]=rr,bs[xs++]=ir,bs[xs++]=ii,rr=r.id,ir=r.overflow,ii=t}var mn=null,_t=null,We=!1,ai=null,_s=!1,nf=Error(i(519));function oi(t){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wl(vs(r,t)),nf}function uy(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Ft]=t,r[on]=l,a){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(a=0;a<Gl.length;a++)He(Gl[a],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":He("invalid",r),Jc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":He("invalid",r);break;case"textarea":He("invalid",r),Jr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Nv(r.textContent,a)?(l.popover!=null&&(He("beforetoggle",r),He("toggle",r)),l.onScroll!=null&&He("scroll",r),l.onScrollEnd!=null&&He("scrollend",r),l.onClick!=null&&(r.onclick=Cs),r=!0):r=!1,r||oi(t,!0)}function dy(t){for(mn=t.return;mn;)switch(mn.tag){case 5:case 31:case 13:_s=!1;return;case 27:case 3:_s=!0;return;default:mn=mn.return}}function Za(t){if(t!==mn)return!1;if(!We)return dy(t),We=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||_m(t.type,t.memoizedProps)),a=!a),a&&_t&&oi(t),dy(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));_t=Vv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));_t=Vv(t)}else r===27?(r=_t,_i(t.type)?(t=Am,Am=null,_t=t):_t=r):_t=mn?ws(t.stateNode.nextSibling):null;return!0}function ha(){_t=mn=null,We=!1}function sf(){var t=ai;return t!==null&&($n===null?$n=t:$n.push.apply($n,t),ai=null),t}function wl(t){ai===null?ai=[t]:ai.push(t)}var rf=k(null),fa=null,Nr=null;function li(t,r,a){ue(rf,r._currentValue),r._currentValue=a}function Cr(t){t._currentValue=rf.current,K(rf)}function af(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function of(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var b=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var I=0;I<r.length;I++)if(w.context===r[I]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),af(m.return,a,t),l||(b=null);break e}m=w.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(i(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),af(b,a,t),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===t){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function eo(t,r,a,l){t=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var w=f.type;rs(f.pendingProps.value,b.value)||(t!==null?t.push(w):t=[w])}}else if(f===Le.current){if(b=f.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Xl):t=[Xl])}f=f.return}t!==null&&of(r,t,a,l),r.flags|=262144}function xu(t){for(t=t.firstContext;t!==null;){if(!rs(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ma(t){fa=t,Nr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function pn(t){return hy(fa,t)}function _u(t,r){return fa===null&&ma(t),hy(t,r)}function hy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Nr===null){if(t===null)throw Error(i(308));Nr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Nr=Nr.next=r;return a}var k2=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},M2=s.unstable_scheduleCallback,O2=s.unstable_NormalPriority,Gt={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new k2,data:new Map,refCount:0}}function Tl(t){t.refCount--,t.refCount===0&&M2(O2,function(){t.controller.abort()})}var Sl=null,cf=0,to=0,no=null;function V2(t,r){if(Sl===null){var a=Sl=[];cf=0,to=hm(),no={status:"pending",value:void 0,then:function(l){a.push(l)}}}return cf++,r.then(fy,fy),r}function fy(){if(--cf===0&&Sl!==null){no!==null&&(no.status="fulfilled");var t=Sl;Sl=null,to=0,no=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function L2(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var my=X.S;X.S=function(t,r){W0=zt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&V2(t,r),my!==null&&my(t,r)};var pa=k(null);function uf(){var t=pa.current;return t!==null?t:vt.pooledCache}function Eu(t,r){r===null?ue(pa,pa.current):ue(pa,r.pool)}function py(){var t=uf();return t===null?null:{parent:Gt._currentValue,pool:t}}var so=Error(i(460)),df=Error(i(474)),wu=Error(i(542)),Tu={then:function(){}};function gy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Cs,Cs),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,by(t),t;default:if(typeof r.status=="string")r.then(Cs,Cs);else{if(t=vt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,by(t),t}throw ya=r,so}}function ga(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ya=a,so):a}}var ya=null;function vy(){if(ya===null)throw Error(i(459));var t=ya;return ya=null,t}function by(t){if(t===so||t===wu)throw Error(i(483))}var ro=null,Al=0;function Su(t){var r=Al;return Al+=1,ro===null&&(ro=[]),yy(ro,t,r)}function Nl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Au(t,r){throw r.$$typeof===A?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function xy(t){function r(B,V){if(t){var U=B.deletions;U===null?(B.deletions=[V],B.flags|=16):U.push(V)}}function a(B,V){if(!t)return null;for(;V!==null;)r(B,V),V=V.sibling;return null}function l(B){for(var V=new Map;B!==null;)B.key!==null?V.set(B.key,B):V.set(B.index,B),B=B.sibling;return V}function f(B,V){return B=Sr(B,V),B.index=0,B.sibling=null,B}function m(B,V,U){return B.index=U,t?(U=B.alternate,U!==null?(U=U.index,U<V?(B.flags|=67108866,V):U):(B.flags|=67108866,V)):(B.flags|=1048576,V)}function b(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function w(B,V,U,J){return V===null||V.tag!==6?(V=Jh(U,B.mode,J),V.return=B,V):(V=f(V,U),V.return=B,V)}function I(B,V,U,J){var Se=U.type;return Se===G?W(B,V,U.props.children,J,U.key):V!==null&&(V.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===S&&ga(Se)===V.type)?(V=f(V,U.props),Nl(V,U),V.return=B,V):(V=vu(U.type,U.key,U.props,null,B.mode,J),Nl(V,U),V.return=B,V)}function F(B,V,U,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==U.containerInfo||V.stateNode.implementation!==U.implementation?(V=Zh(U,B.mode,J),V.return=B,V):(V=f(V,U.children||[]),V.return=B,V)}function W(B,V,U,J,Se){return V===null||V.tag!==7?(V=da(U,B.mode,J,Se),V.return=B,V):(V=f(V,U),V.return=B,V)}function Z(B,V,U){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Jh(""+V,B.mode,U),V.return=B,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case j:return U=vu(V.type,V.key,V.props,null,B.mode,U),Nl(U,V),U.return=B,U;case z:return V=Zh(V,B.mode,U),V.return=B,V;case S:return V=ga(V),Z(B,V,U)}if(ct(V)||L(V))return V=da(V,B.mode,U,null),V.return=B,V;if(typeof V.then=="function")return Z(B,Su(V),U);if(V.$$typeof===ee)return Z(B,_u(B,V),U);Au(B,V)}return null}function H(B,V,U,J){var Se=V!==null?V.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return Se!==null?null:w(B,V,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case j:return U.key===Se?I(B,V,U,J):null;case z:return U.key===Se?F(B,V,U,J):null;case S:return U=ga(U),H(B,V,U,J)}if(ct(U)||L(U))return Se!==null?null:W(B,V,U,J,null);if(typeof U.then=="function")return H(B,V,Su(U),J);if(U.$$typeof===ee)return H(B,V,_u(B,U),J);Au(B,U)}return null}function Y(B,V,U,J,Se){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return B=B.get(U)||null,w(V,B,""+J,Se);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case j:return B=B.get(J.key===null?U:J.key)||null,I(V,B,J,Se);case z:return B=B.get(J.key===null?U:J.key)||null,F(V,B,J,Se);case S:return J=ga(J),Y(B,V,U,J,Se)}if(ct(J)||L(J))return B=B.get(U)||null,W(V,B,J,Se,null);if(typeof J.then=="function")return Y(B,V,U,Su(J),Se);if(J.$$typeof===ee)return Y(B,V,U,_u(V,J),Se);Au(V,J)}return null}function ve(B,V,U,J){for(var Se=null,tt=null,xe=V,Be=V=0,Qe=null;xe!==null&&Be<U.length;Be++){xe.index>Be?(Qe=xe,xe=null):Qe=xe.sibling;var nt=H(B,xe,U[Be],J);if(nt===null){xe===null&&(xe=Qe);break}t&&xe&&nt.alternate===null&&r(B,xe),V=m(nt,V,Be),tt===null?Se=nt:tt.sibling=nt,tt=nt,xe=Qe}if(Be===U.length)return a(B,xe),We&&Ar(B,Be),Se;if(xe===null){for(;Be<U.length;Be++)xe=Z(B,U[Be],J),xe!==null&&(V=m(xe,V,Be),tt===null?Se=xe:tt.sibling=xe,tt=xe);return We&&Ar(B,Be),Se}for(xe=l(xe);Be<U.length;Be++)Qe=Y(xe,B,Be,U[Be],J),Qe!==null&&(t&&Qe.alternate!==null&&xe.delete(Qe.key===null?Be:Qe.key),V=m(Qe,V,Be),tt===null?Se=Qe:tt.sibling=Qe,tt=Qe);return t&&xe.forEach(function(Ai){return r(B,Ai)}),We&&Ar(B,Be),Se}function Ce(B,V,U,J){if(U==null)throw Error(i(151));for(var Se=null,tt=null,xe=V,Be=V=0,Qe=null,nt=U.next();xe!==null&&!nt.done;Be++,nt=U.next()){xe.index>Be?(Qe=xe,xe=null):Qe=xe.sibling;var Ai=H(B,xe,nt.value,J);if(Ai===null){xe===null&&(xe=Qe);break}t&&xe&&Ai.alternate===null&&r(B,xe),V=m(Ai,V,Be),tt===null?Se=Ai:tt.sibling=Ai,tt=Ai,xe=Qe}if(nt.done)return a(B,xe),We&&Ar(B,Be),Se;if(xe===null){for(;!nt.done;Be++,nt=U.next())nt=Z(B,nt.value,J),nt!==null&&(V=m(nt,V,Be),tt===null?Se=nt:tt.sibling=nt,tt=nt);return We&&Ar(B,Be),Se}for(xe=l(xe);!nt.done;Be++,nt=U.next())nt=Y(xe,B,Be,nt.value,J),nt!==null&&(t&&nt.alternate!==null&&xe.delete(nt.key===null?Be:nt.key),V=m(nt,V,Be),tt===null?Se=nt:tt.sibling=nt,tt=nt);return t&&xe.forEach(function(Kw){return r(B,Kw)}),We&&Ar(B,Be),Se}function yt(B,V,U,J){if(typeof U=="object"&&U!==null&&U.type===G&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case j:e:{for(var Se=U.key;V!==null;){if(V.key===Se){if(Se=U.type,Se===G){if(V.tag===7){a(B,V.sibling),J=f(V,U.props.children),J.return=B,B=J;break e}}else if(V.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===S&&ga(Se)===V.type){a(B,V.sibling),J=f(V,U.props),Nl(J,U),J.return=B,B=J;break e}a(B,V);break}else r(B,V);V=V.sibling}U.type===G?(J=da(U.props.children,B.mode,J,U.key),J.return=B,B=J):(J=vu(U.type,U.key,U.props,null,B.mode,J),Nl(J,U),J.return=B,B=J)}return b(B);case z:e:{for(Se=U.key;V!==null;){if(V.key===Se)if(V.tag===4&&V.stateNode.containerInfo===U.containerInfo&&V.stateNode.implementation===U.implementation){a(B,V.sibling),J=f(V,U.children||[]),J.return=B,B=J;break e}else{a(B,V);break}else r(B,V);V=V.sibling}J=Zh(U,B.mode,J),J.return=B,B=J}return b(B);case S:return U=ga(U),yt(B,V,U,J)}if(ct(U))return ve(B,V,U,J);if(L(U)){if(Se=L(U),typeof Se!="function")throw Error(i(150));return U=Se.call(U),Ce(B,V,U,J)}if(typeof U.then=="function")return yt(B,V,Su(U),J);if(U.$$typeof===ee)return yt(B,V,_u(B,U),J);Au(B,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,V!==null&&V.tag===6?(a(B,V.sibling),J=f(V,U),J.return=B,B=J):(a(B,V),J=Jh(U,B.mode,J),J.return=B,B=J),b(B)):a(B,V)}return function(B,V,U,J){try{Al=0;var Se=yt(B,V,U,J);return ro=null,Se}catch(xe){if(xe===so||xe===wu)throw xe;var tt=is(29,xe,null,B.mode);return tt.lanes=J,tt.return=B,tt}}}var va=xy(!0),_y=xy(!1),ci=!1;function hf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ui(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function di(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(it&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=yu(t),ry(t,null,a),r}return gu(t,l,r,a),yu(t)}function Cl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Tn(t,a)}}function mf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var pf=!1;function Dl(){if(pf){var t=no;if(t!==null)throw t}}function Rl(t,r,a,l){pf=!1;var f=t.updateQueue;ci=!1;var m=f.firstBaseUpdate,b=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var I=w,F=I.next;I.next=null,b===null?m=F:b.next=F,b=I;var W=t.alternate;W!==null&&(W=W.updateQueue,w=W.lastBaseUpdate,w!==b&&(w===null?W.firstBaseUpdate=F:w.next=F,W.lastBaseUpdate=I))}if(m!==null){var Z=f.baseState;b=0,W=F=I=null,w=m;do{var H=w.lane&-536870913,Y=H!==w.lane;if(Y?(Ge&H)===H:(l&H)===H){H!==0&&H===to&&(pf=!0),W!==null&&(W=W.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ve=t,Ce=w;H=r;var yt=a;switch(Ce.tag){case 1:if(ve=Ce.payload,typeof ve=="function"){Z=ve.call(yt,Z,H);break e}Z=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ce.payload,H=typeof ve=="function"?ve.call(yt,Z,H):ve,H==null)break e;Z=E({},Z,H);break e;case 2:ci=!0}}H=w.callback,H!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[H]:Y.push(H))}else Y={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},W===null?(F=W=Y,I=Z):W=W.next=Y,b|=H;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Y=w,w=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);W===null&&(I=Z),f.baseState=I,f.firstBaseUpdate=F,f.lastBaseUpdate=W,m===null&&(f.shared.lanes=0),gi|=b,t.lanes=b,t.memoizedState=Z}}function Ey(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function wy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ey(a[t],r)}var io=k(null),Nu=k(0);function Ty(t,r){t=Lr,ue(Nu,t),ue(io,r),Lr=t|r.baseLanes}function gf(){ue(Nu,Lr),ue(io,io.current)}function yf(){Lr=Nu.current,K(io),K(Nu)}var as=k(null),Es=null;function hi(t){var r=t.alternate;ue(Lt,Lt.current&1),ue(as,t),Es===null&&(r===null||io.current!==null||r.memoizedState!==null)&&(Es=t)}function vf(t){ue(Lt,Lt.current),ue(as,t),Es===null&&(Es=t)}function Sy(t){t.tag===22?(ue(Lt,Lt.current),ue(as,t),Es===null&&(Es=t)):fi()}function fi(){ue(Lt,Lt.current),ue(as,as.current)}function os(t){K(as),Es===t&&(Es=null),K(Lt)}var Lt=k(0);function Cu(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Tm(a)||Sm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Dr=0,Ve=null,pt=null,Qt=null,Du=!1,ao=!1,ba=!1,Ru=0,Il=0,oo=null,B2=0;function jt(){throw Error(i(321))}function bf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!rs(t[a],r[a]))return!1;return!0}function xf(t,r,a,l,f,m){return Dr=m,Ve=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=t===null||t.memoizedState===null?l0:Of,ba=!1,m=a(l,f),ba=!1,ao&&(m=Ny(r,a,l,f)),Ay(t),m}function Ay(t){X.H=Ml;var r=pt!==null&&pt.next!==null;if(Dr=0,Qt=pt=Ve=null,Du=!1,Il=0,oo=null,r)throw Error(i(300));t===null||Yt||(t=t.dependencies,t!==null&&xu(t)&&(Yt=!0))}function Ny(t,r,a,l){Ve=t;var f=0;do{if(ao&&(oo=null),Il=0,ao=!1,25<=f)throw Error(i(301));if(f+=1,Qt=pt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}X.H=c0,m=r(a,l)}while(ao);return m}function P2(){var t=X.H,r=t.useState()[0];return r=typeof r.then=="function"?jl(r):r,t=t.useState()[0],(pt!==null?pt.memoizedState:null)!==t&&(Ve.flags|=1024),r}function _f(){var t=Ru!==0;return Ru=0,t}function Ef(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function wf(t){if(Du){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Du=!1}Dr=0,Qt=pt=Ve=null,ao=!1,Il=Ru=0,oo=null}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Ve.memoizedState=Qt=t:Qt=Qt.next=t,Qt}function Bt(){if(pt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var r=Qt===null?Ve.memoizedState:Qt.next;if(r!==null)Qt=r,pt=t;else{if(t===null)throw Ve.alternate===null?Error(i(467)):Error(i(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Qt===null?Ve.memoizedState=Qt=t:Qt=Qt.next=t}return Qt}function Iu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(t){var r=Il;return Il+=1,oo===null&&(oo=[]),t=yy(oo,t,r),r=Ve,(Qt===null?r.memoizedState:Qt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?l0:Of),t}function ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return jl(t);if(t.$$typeof===ee)return pn(t)}throw Error(i(438,String(t)))}function Tf(t){var r=null,a=Ve.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Iu(),Ve.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=M;return r.index++,a}function Rr(t,r){return typeof r=="function"?r(t):r}function ku(t){var r=Bt();return Sf(r,pt,t)}function Sf(t,r,a){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var f=t.baseQueue,m=l.pending;if(m!==null){if(f!==null){var b=f.next;f.next=m.next,m.next=b}r.baseQueue=f=m,l.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{r=f.next;var w=b=null,I=null,F=r,W=!1;do{var Z=F.lane&-536870913;if(Z!==F.lane?(Ge&Z)===Z:(Dr&Z)===Z){var H=F.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),Z===to&&(W=!0);else if((Dr&H)===H){F=F.next,H===to&&(W=!0);continue}else Z={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(w=I=Z,b=m):I=I.next=Z,Ve.lanes|=H,gi|=H;Z=F.action,ba&&a(m,Z),m=F.hasEagerState?F.eagerState:a(m,Z)}else H={lane:Z,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(w=I=H,b=m):I=I.next=H,Ve.lanes|=Z,gi|=Z;F=F.next}while(F!==null&&F!==r);if(I===null?b=m:I.next=w,!rs(m,t.memoizedState)&&(Yt=!0,W&&(a=no,a!==null)))throw a;t.memoizedState=m,t.baseState=b,t.baseQueue=I,l.lastRenderedState=m}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Af(t){var r=Bt(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var b=f=f.next;do m=t(m,b.action),b=b.next;while(b!==f);rs(m,r.memoizedState)||(Yt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function Cy(t,r,a){var l=Ve,f=Bt(),m=We;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=r();var b=!rs((pt||f).memoizedState,a);if(b&&(f.memoizedState=a,Yt=!0),f=f.queue,Df(Iy.bind(null,l,f,t),[t]),f.getSnapshot!==r||b||Qt!==null&&Qt.memoizedState.tag&1){if(l.flags|=2048,lo(9,{destroy:void 0},Ry.bind(null,l,f,a,r),null),vt===null)throw Error(i(349));m||(Dr&127)!==0||Dy(l,r,a)}return a}function Dy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ve.updateQueue,r===null?(r=Iu(),Ve.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Ry(t,r,a,l){r.value=a,r.getSnapshot=l,jy(r)&&ky(t)}function Iy(t,r,a){return a(function(){jy(r)&&ky(t)})}function jy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!rs(t,a)}catch{return!0}}function ky(t){var r=ua(t,2);r!==null&&Xn(r,t,2)}function Nf(t){var r=Bn();if(typeof t=="function"){var a=t;if(t=a(),ba){It(!0);try{a()}finally{It(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:t},r}function My(t,r,a,l){return t.baseState=a,Sf(t,pt,typeof l=="function"?l:Rr)}function z2(t,r,a,l,f){if(Vu(t))throw Error(i(485));if(t=r.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};X.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,Oy(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Oy(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var m=X.T,b={};X.T=b;try{var w=a(f,l),I=X.S;I!==null&&I(b,w),Vy(t,r,w)}catch(F){Cf(t,r,F)}finally{m!==null&&b.types!==null&&(m.types=b.types),X.T=m}}else try{m=a(f,l),Vy(t,r,m)}catch(F){Cf(t,r,F)}}function Vy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ly(t,r,l)},function(l){return Cf(t,r,l)}):Ly(t,r,a)}function Ly(t,r,a){r.status="fulfilled",r.value=a,By(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Oy(t,a)))}function Cf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,By(r),r=r.next;while(r!==l)}t.action=null}function By(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Py(t,r){return r}function zy(t,r){if(We){var a=vt.formState;if(a!==null){e:{var l=Ve;if(We){if(_t){t:{for(var f=_t,m=_s;f.nodeType!==8;){if(!m){f=null;break t}if(f=ws(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){_t=ws(f.nextSibling),l=f.data==="F!";break e}}oi(l)}l=!1}l&&(r=a[0])}}return a=Bn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Py,lastRenderedState:r},a.queue=l,a=i0.bind(null,Ve,l),l.dispatch=a,l=Nf(!1),m=Mf.bind(null,Ve,!1,l.queue),l=Bn(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=z2.bind(null,Ve,f,m,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function Uy(t){var r=Bt();return Fy(r,pt,t)}function Fy(t,r,a){if(r=Sf(t,r,Py)[0],t=ku(Rr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=jl(r)}catch(b){throw b===so?wu:b}else l=r;r=Bt();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(Ve.flags|=2048,lo(9,{destroy:void 0},U2.bind(null,f,a),null)),[l,m,t]}function U2(t,r){t.action=r}function Hy(t){var r=Bt(),a=pt;if(a!==null)return Fy(r,a,t);Bt(),r=r.memoizedState,a=Bt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function lo(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ve.updateQueue,r===null&&(r=Iu(),Ve.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function qy(){return Bt().memoizedState}function Mu(t,r,a,l){var f=Bn();Ve.flags|=t,f.memoizedState=lo(1|r,{destroy:void 0},a,l===void 0?null:l)}function Ou(t,r,a,l){var f=Bt();l=l===void 0?null:l;var m=f.memoizedState.inst;pt!==null&&l!==null&&bf(l,pt.memoizedState.deps)?f.memoizedState=lo(r,m,a,l):(Ve.flags|=t,f.memoizedState=lo(1|r,m,a,l))}function Gy(t,r){Mu(8390656,8,t,r)}function Df(t,r){Ou(2048,8,t,r)}function F2(t){Ve.flags|=4;var r=Ve.updateQueue;if(r===null)r=Iu(),Ve.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Qy(t){var r=Bt().memoizedState;return F2({ref:r,nextImpl:t}),function(){if((it&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function Yy(t,r){return Ou(4,2,t,r)}function Ky(t,r){return Ou(4,4,t,r)}function $y(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Xy(t,r,a){a=a!=null?a.concat([t]):null,Ou(4,4,$y.bind(null,r,t),a)}function Rf(){}function Wy(t,r){var a=Bt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&bf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Jy(t,r){var a=Bt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&bf(r,l[1]))return l[0];if(l=t(),ba){It(!0);try{t()}finally{It(!1)}}return a.memoizedState=[l,r],l}function If(t,r,a){return a===void 0||(Dr&1073741824)!==0&&(Ge&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=Z0(),Ve.lanes|=t,gi|=t,a)}function Zy(t,r,a,l){return rs(a,r)?a:io.current!==null?(t=If(t,a,l),rs(t,r)||(Yt=!0),t):(Dr&42)===0||(Dr&1073741824)!==0&&(Ge&261930)===0?(Yt=!0,t.memoizedState=a):(t=Z0(),Ve.lanes|=t,gi|=t,r)}function e0(t,r,a,l,f){var m=ce.p;ce.p=m!==0&&8>m?m:8;var b=X.T,w={};X.T=w,Mf(t,!1,r,a);try{var I=f(),F=X.S;if(F!==null&&F(w,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=L2(I,l);kl(t,r,W,us(t))}else kl(t,r,l,us(t))}catch(Z){kl(t,r,{then:function(){},status:"rejected",reason:Z},us())}finally{ce.p=m,b!==null&&w.types!==null&&(b.types=w.types),X.T=b}}function H2(){}function jf(t,r,a,l){if(t.tag!==5)throw Error(i(476));var f=t0(t).queue;e0(t,f,r,be,a===null?H2:function(){return n0(t),a(l)})}function t0(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:be},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function n0(t){var r=t0(t);r.next===null&&(r=t.alternate.memoizedState),kl(t,r.next.queue,{},us())}function kf(){return pn(Xl)}function s0(){return Bt().memoizedState}function r0(){return Bt().memoizedState}function q2(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=us();t=ui(a);var l=di(r,t,a);l!==null&&(Xn(l,r,a),Cl(l,r,a)),r={cache:lf()},t.payload=r;return}r=r.return}}function G2(t,r,a){var l=us();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Vu(t)?a0(r,a):(a=Xh(t,r,a,l),a!==null&&(Xn(a,t,l),o0(a,r,l)))}function i0(t,r,a){var l=us();kl(t,r,a,l)}function kl(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vu(t))a0(r,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var b=r.lastRenderedState,w=m(b,a);if(f.hasEagerState=!0,f.eagerState=w,rs(w,b))return gu(t,r,f,0),vt===null&&pu(),!1}catch{}if(a=Xh(t,r,f,l),a!==null)return Xn(a,t,l),o0(a,r,l),!0}return!1}function Mf(t,r,a,l){if(l={lane:2,revertLane:hm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Vu(t)){if(r)throw Error(i(479))}else r=Xh(t,a,l,2),r!==null&&Xn(r,t,2)}function Vu(t){var r=t.alternate;return t===Ve||r!==null&&r===Ve}function a0(t,r){ao=Du=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function o0(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Tn(t,a)}}var Ml={readContext:pn,use:ju,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt};Ml.useEffectEvent=jt;var l0={readContext:pn,use:ju,useCallback:function(t,r){return Bn().memoizedState=[t,r===void 0?null:r],t},useContext:pn,useEffect:Gy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Mu(4194308,4,$y.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Mu(4194308,4,t,r)},useInsertionEffect:function(t,r){Mu(4,2,t,r)},useMemo:function(t,r){var a=Bn();r=r===void 0?null:r;var l=t();if(ba){It(!0);try{t()}finally{It(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=Bn();if(a!==void 0){var f=a(r);if(ba){It(!0);try{a(r)}finally{It(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=G2.bind(null,Ve,t),[l.memoizedState,t]},useRef:function(t){var r=Bn();return t={current:t},r.memoizedState=t},useState:function(t){t=Nf(t);var r=t.queue,a=i0.bind(null,Ve,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Rf,useDeferredValue:function(t,r){var a=Bn();return If(a,t,r)},useTransition:function(){var t=Nf(!1);return t=e0.bind(null,Ve,t.queue,!0,!1),Bn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ve,f=Bn();if(We){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),vt===null)throw Error(i(349));(Ge&127)!==0||Dy(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,Gy(Iy.bind(null,l,m,t),[t]),l.flags|=2048,lo(9,{destroy:void 0},Ry.bind(null,l,m,a,r),null),a},useId:function(){var t=Bn(),r=vt.identifierPrefix;if(We){var a=ir,l=rr;a=(l&~(1<<32-et(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Ru++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=B2++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:kf,useFormState:zy,useActionState:zy,useOptimistic:function(t){var r=Bn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Mf.bind(null,Ve,!0,a),a.dispatch=r,[t,r]},useMemoCache:Tf,useCacheRefresh:function(){return Bn().memoizedState=q2.bind(null,Ve)},useEffectEvent:function(t){var r=Bn(),a={impl:t};return r.memoizedState=a,function(){if((it&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Of={readContext:pn,use:ju,useCallback:Wy,useContext:pn,useEffect:Df,useImperativeHandle:Xy,useInsertionEffect:Yy,useLayoutEffect:Ky,useMemo:Jy,useReducer:ku,useRef:qy,useState:function(){return ku(Rr)},useDebugValue:Rf,useDeferredValue:function(t,r){var a=Bt();return Zy(a,pt.memoizedState,t,r)},useTransition:function(){var t=ku(Rr)[0],r=Bt().memoizedState;return[typeof t=="boolean"?t:jl(t),r]},useSyncExternalStore:Cy,useId:s0,useHostTransitionStatus:kf,useFormState:Uy,useActionState:Uy,useOptimistic:function(t,r){var a=Bt();return My(a,pt,t,r)},useMemoCache:Tf,useCacheRefresh:r0};Of.useEffectEvent=Qy;var c0={readContext:pn,use:ju,useCallback:Wy,useContext:pn,useEffect:Df,useImperativeHandle:Xy,useInsertionEffect:Yy,useLayoutEffect:Ky,useMemo:Jy,useReducer:Af,useRef:qy,useState:function(){return Af(Rr)},useDebugValue:Rf,useDeferredValue:function(t,r){var a=Bt();return pt===null?If(a,t,r):Zy(a,pt.memoizedState,t,r)},useTransition:function(){var t=Af(Rr)[0],r=Bt().memoizedState;return[typeof t=="boolean"?t:jl(t),r]},useSyncExternalStore:Cy,useId:s0,useHostTransitionStatus:kf,useFormState:Hy,useActionState:Hy,useOptimistic:function(t,r){var a=Bt();return pt!==null?My(a,pt,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Tf,useCacheRefresh:r0};c0.useEffectEvent=Qy;function Vf(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Lf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=us(),f=ui(l);f.payload=r,a!=null&&(f.callback=a),r=di(t,f,l),r!==null&&(Xn(r,t,l),Cl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=us(),f=ui(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=di(t,f,l),r!==null&&(Xn(r,t,l),Cl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=us(),l=ui(a);l.tag=2,r!=null&&(l.callback=r),r=di(t,l,a),r!==null&&(Xn(r,t,a),Cl(r,t,a))}};function u0(t,r,a,l,f,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,b):r.prototype&&r.prototype.isPureReactComponent?!xl(a,l)||!xl(f,m):!0}function d0(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Lf.enqueueReplaceState(r,r.state,null)}function xa(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function h0(t){mu(t)}function f0(t){console.error(t)}function m0(t){mu(t)}function Lu(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function p0(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Bf(t,r,a){return a=ui(a),a.tag=3,a.payload={element:null},a.callback=function(){Lu(t,r)},a}function g0(t){return t=ui(t),t.tag=3,t}function y0(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;t.payload=function(){return f(m)},t.callback=function(){p0(r,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){p0(r,a,l),typeof f!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function Q2(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&eo(r,a,f,!0),a=as.current,a!==null){switch(a.tag){case 31:case 13:return Es===null?$u():a.alternate===null&&kt===0&&(kt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Tu?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),cm(t,l,f)),!1;case 22:return a.flags|=65536,l===Tu?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),cm(t,l,f)),!1}throw Error(i(435,a.tag))}return cm(t,l,f),$u(),!1}if(We)return r=as.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==nf&&(t=Error(i(422),{cause:l}),wl(vs(t,a)))):(l!==nf&&(r=Error(i(423),{cause:l}),wl(vs(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=vs(l,a),f=Bf(t.stateNode,l,f),mf(t,f),kt!==4&&(kt=2)),!1;var m=Error(i(520),{cause:l});if(m=vs(m,a),Fl===null?Fl=[m]:Fl.push(m),kt!==4&&(kt=2),r===null)return!0;l=vs(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Bf(a.stateNode,l,t),mf(a,t),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(yi===null||!yi.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=g0(f),y0(f,t,a,l),mf(a,f),!1}a=a.return}while(a!==null);return!1}var Pf=Error(i(461)),Yt=!1;function gn(t,r,a,l){r.child=t===null?_y(r,null,a,l):va(r,t.child,a,l)}function v0(t,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var b={};for(var w in l)w!=="ref"&&(b[w]=l[w])}else b=l;return ma(r),l=xf(t,r,a,b,m,f),w=_f(),t!==null&&!Yt?(Ef(t,r,f),Ir(t,r,f)):(We&&w&&ef(r),r.flags|=1,gn(t,r,l,f),r.child)}function b0(t,r,a,l,f){if(t===null){var m=a.type;return typeof m=="function"&&!Wh(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,x0(t,r,m,l,f)):(t=vu(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!Yf(t,f)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:xl,a(b,l)&&t.ref===r.ref)return Ir(t,r,f)}return r.flags|=1,t=Sr(m,l),t.ref=r.ref,t.return=r,r.child=t}function x0(t,r,a,l,f){if(t!==null){var m=t.memoizedProps;if(xl(m,l)&&t.ref===r.ref)if(Yt=!1,r.pendingProps=l=m,Yf(t,f))(t.flags&131072)!==0&&(Yt=!0);else return r.lanes=t.lanes,Ir(t,r,f)}return zf(t,r,a,l,f)}function _0(t,r,a,l){var f=l.children,m=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,r.child=null;return E0(t,r,m,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Eu(r,m!==null?m.cachePool:null),m!==null?Ty(r,m):gf(),Sy(r);else return l=r.lanes=536870912,E0(t,r,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(Eu(r,m.cachePool),Ty(r,m),fi(),r.memoizedState=null):(t!==null&&Eu(r,null),gf(),fi());return gn(t,r,f,a),r.child}function Ol(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function E0(t,r,a,l,f){var m=uf();return m=m===null?null:{parent:Gt._currentValue,pool:m},r.memoizedState={baseLanes:a,cachePool:m},t!==null&&Eu(r,null),gf(),Sy(r),t!==null&&eo(t,r,l,!0),r.childLanes=f,null}function Bu(t,r){return r=zu({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function w0(t,r,a){return va(r,t.child,null,a),t=Bu(r,r.pendingProps),t.flags|=2,os(r),r.memoizedState=null,t}function Y2(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(We){if(l.mode==="hidden")return t=Bu(r,l),r.lanes=536870912,Ol(null,t);if(vf(r),(t=_t)?(t=Ov(t,_s),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:ii!==null?{id:rr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},a=ay(t),a.return=r,r.child=a,mn=r,_t=null)):t=null,t===null)throw oi(r);return r.lanes=536870912,null}return Bu(r,l)}var m=t.memoizedState;if(m!==null){var b=m.dehydrated;if(vf(r),f)if(r.flags&256)r.flags&=-257,r=w0(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(i(558));else if(Yt||eo(t,r,a,!1),f=(a&t.childLanes)!==0,Yt||f){if(l=vt,l!==null&&(b=Mn(l,a),b!==0&&b!==m.retryLane))throw m.retryLane=b,ua(t,b),Xn(l,t,b),Pf;$u(),r=w0(t,r,a)}else t=m.treeContext,_t=ws(b.nextSibling),mn=r,We=!0,ai=null,_s=!1,t!==null&&cy(r,t),r=Bu(r,l),r.flags|=4096;return r}return t=Sr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Pu(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function zf(t,r,a,l,f){return ma(r),a=xf(t,r,a,l,void 0,f),l=_f(),t!==null&&!Yt?(Ef(t,r,f),Ir(t,r,f)):(We&&l&&ef(r),r.flags|=1,gn(t,r,a,f),r.child)}function T0(t,r,a,l,f,m){return ma(r),r.updateQueue=null,a=Ny(r,l,a,f),Ay(t),l=_f(),t!==null&&!Yt?(Ef(t,r,m),Ir(t,r,m)):(We&&l&&ef(r),r.flags|=1,gn(t,r,a,m),r.child)}function S0(t,r,a,l,f){if(ma(r),r.stateNode===null){var m=Xa,b=a.contextType;typeof b=="object"&&b!==null&&(m=pn(b)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Lf,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},hf(r),b=a.contextType,m.context=typeof b=="object"&&b!==null?pn(b):Xa,m.state=r.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Vf(r,a,b,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Lf.enqueueReplaceState(m,m.state,null),Rl(r,l,m,f),Dl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){m=r.stateNode;var w=r.memoizedProps,I=xa(a,w);m.props=I;var F=m.context,W=a.contextType;b=Xa,typeof W=="object"&&W!==null&&(b=pn(W));var Z=a.getDerivedStateFromProps;W=typeof Z=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||F!==b)&&d0(r,m,l,b),ci=!1;var H=r.memoizedState;m.state=H,Rl(r,l,m,f),Dl(),F=r.memoizedState,w||H!==F||ci?(typeof Z=="function"&&(Vf(r,a,Z,l),F=r.memoizedState),(I=ci||u0(r,a,I,l,H,F,b))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),m.props=l,m.state=F,m.context=b,l=I):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,ff(t,r),b=r.memoizedProps,W=xa(a,b),m.props=W,Z=r.pendingProps,H=m.context,F=a.contextType,I=Xa,typeof F=="object"&&F!==null&&(I=pn(F)),w=a.getDerivedStateFromProps,(F=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==Z||H!==I)&&d0(r,m,l,I),ci=!1,H=r.memoizedState,m.state=H,Rl(r,l,m,f),Dl();var Y=r.memoizedState;b!==Z||H!==Y||ci||t!==null&&t.dependencies!==null&&xu(t.dependencies)?(typeof w=="function"&&(Vf(r,a,w,l),Y=r.memoizedState),(W=ci||u0(r,a,W,l,H,Y,I)||t!==null&&t.dependencies!==null&&xu(t.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Y,I),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Y,I)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),m.props=l,m.state=Y,m.context=I,l=W):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),l=!1)}return m=l,Pu(t,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,t!==null&&l?(r.child=va(r,t.child,null,f),r.child=va(r,null,a,f)):gn(t,r,a,f),r.memoizedState=m.state,t=r.child):t=Ir(t,r,f),t}function A0(t,r,a,l){return ha(),r.flags|=256,gn(t,r,a,l),r.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(t){return{baseLanes:t,cachePool:py()}}function Hf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=cs),t}function N0(t,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(Lt.current&2)!==0),b&&(f=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,t===null){if(We){if(f?hi(r):fi(),(t=_t)?(t=Ov(t,_s),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:ii!==null?{id:rr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},a=ay(t),a.return=r,r.child=a,mn=r,_t=null)):t=null,t===null)throw oi(r);return Sm(t)?r.lanes=32:r.lanes=536870912,null}var w=l.children;return l=l.fallback,f?(fi(),f=r.mode,w=zu({mode:"hidden",children:w},f),l=da(l,f,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,l=r.child,l.memoizedState=Ff(a),l.childLanes=Hf(t,b,a),r.memoizedState=Uf,Ol(null,l)):(hi(r),qf(r,w))}var I=t.memoizedState;if(I!==null&&(w=I.dehydrated,w!==null)){if(m)r.flags&256?(hi(r),r.flags&=-257,r=Gf(t,r,a)):r.memoizedState!==null?(fi(),r.child=t.child,r.flags|=128,r=null):(fi(),w=l.fallback,f=r.mode,l=zu({mode:"visible",children:l.children},f),w=da(w,f,a,null),w.flags|=2,l.return=r,w.return=r,l.sibling=w,r.child=l,va(r,t.child,null,a),l=r.child,l.memoizedState=Ff(a),l.childLanes=Hf(t,b,a),r.memoizedState=Uf,r=Ol(null,l));else if(hi(r),Sm(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var F=b.dgst;b=F,l=Error(i(419)),l.stack="",l.digest=b,wl({value:l,source:null,stack:null}),r=Gf(t,r,a)}else if(Yt||eo(t,r,a,!1),b=(a&t.childLanes)!==0,Yt||b){if(b=vt,b!==null&&(l=Mn(b,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,ua(t,l),Xn(b,t,l),Pf;Tm(w)||$u(),r=Gf(t,r,a)}else Tm(w)?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,_t=ws(w.nextSibling),mn=r,We=!0,ai=null,_s=!1,t!==null&&cy(r,t),r=qf(r,l.children),r.flags|=4096);return r}return f?(fi(),w=l.fallback,f=r.mode,I=t.child,F=I.sibling,l=Sr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,F!==null?w=Sr(F,w):(w=da(w,f,a,null),w.flags|=2),w.return=r,l.return=r,l.sibling=w,r.child=l,Ol(null,l),l=r.child,w=t.child.memoizedState,w===null?w=Ff(a):(f=w.cachePool,f!==null?(I=Gt._currentValue,f=f.parent!==I?{parent:I,pool:I}:f):f=py(),w={baseLanes:w.baseLanes|a,cachePool:f}),l.memoizedState=w,l.childLanes=Hf(t,b,a),r.memoizedState=Uf,Ol(t.child,l)):(hi(r),a=t.child,t=a.sibling,a=Sr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(b=r.deletions,b===null?(r.deletions=[t],r.flags|=16):b.push(t)),r.child=a,r.memoizedState=null,a)}function qf(t,r){return r=zu({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function zu(t,r){return t=is(22,t,null,r),t.lanes=0,t}function Gf(t,r,a){return va(r,t.child,null,a),t=qf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function C0(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),af(t.return,r,a)}function Qf(t,r,a,l,f,m){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:m}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=a,b.tailMode=f,b.treeForkCount=m)}function D0(t,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var b=Lt.current,w=(b&2)!==0;if(w?(b=b&1|2,r.flags|=128):b&=1,ue(Lt,b),gn(t,r,l,a),l=We?El:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&C0(t,a,r);else if(t.tag===19)C0(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Cu(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Qf(r,!1,f,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Cu(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Qf(r,!0,a,null,m,l);break;case"together":Qf(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Ir(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),gi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(eo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,a=Sr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Sr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Yf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&xu(t)))}function K2(t,r,a){switch(r.tag){case 3:at(r,r.stateNode.containerInfo),li(r,Gt,t.memoizedState.cache),ha();break;case 27:case 5:ze(r);break;case 4:at(r,r.stateNode.containerInfo);break;case 10:li(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,vf(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(hi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?N0(t,r,a):(hi(r),t=Ir(t,r,a),t!==null?t.sibling:null);hi(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(eo(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return D0(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Lt,Lt.current),l)break;return null;case 22:return r.lanes=0,_0(t,r,a,r.pendingProps);case 24:li(r,Gt,t.memoizedState.cache)}return Ir(t,r,a)}function R0(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Yt=!0;else{if(!Yf(t,a)&&(r.flags&128)===0)return Yt=!1,K2(t,r,a);Yt=(t.flags&131072)!==0}else Yt=!1,We&&(r.flags&1048576)!==0&&ly(r,El,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=ga(r.elementType),r.type=t,typeof t=="function")Wh(t)?(l=xa(t,l),r.tag=1,r=S0(null,r,t,l,a)):(r.tag=0,r=zf(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===se){r.tag=11,r=v0(null,r,t,l,a);break e}else if(f===N){r.tag=14,r=b0(null,r,t,l,a);break e}}throw r=Pe(t)||t,Error(i(306,r,""))}}return r;case 0:return zf(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=xa(l,r.pendingProps),S0(t,r,l,f,a);case 3:e:{if(at(r,r.stateNode.containerInfo),t===null)throw Error(i(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,ff(t,r),Rl(r,l,null,a);var b=r.memoizedState;if(l=b.cache,li(r,Gt,l),l!==m.cache&&of(r,[Gt],a,!0),Dl(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=A0(t,r,l,a);break e}else if(l!==f){f=vs(Error(i(424)),r),wl(f),r=A0(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,_t=ws(t.firstChild),mn=r,We=!0,ai=null,_s=!0,a=_y(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ha(),l===f){r=Ir(t,r,a);break e}gn(t,r,l,a)}r=r.child}return r;case 26:return Pu(t,r),t===null?(a=Uv(r.type,null,r.pendingProps,null))?r.memoizedState=a:We||(a=r.type,t=r.pendingProps,l=nd(we.current).createElement(a),l[Ft]=r,l[on]=t,yn(l,a,t),Ht(l),r.stateNode=l):r.memoizedState=Uv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ze(r),t===null&&We&&(l=r.stateNode=Bv(r.type,r.pendingProps,we.current),mn=r,_s=!0,f=_t,_i(r.type)?(Am=f,_t=ws(l.firstChild)):_t=f),gn(t,r,r.pendingProps.children,a),Pu(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&We&&((f=l=_t)&&(l=Tw(l,r.type,r.pendingProps,_s),l!==null?(r.stateNode=l,mn=r,_t=ws(l.firstChild),_s=!1,f=!0):f=!1),f||oi(r)),ze(r),f=r.type,m=r.pendingProps,b=t!==null?t.memoizedProps:null,l=m.children,_m(f,m)?l=null:b!==null&&_m(f,b)&&(r.flags|=32),r.memoizedState!==null&&(f=xf(t,r,P2,null,null,a),Xl._currentValue=f),Pu(t,r),gn(t,r,l,a),r.child;case 6:return t===null&&We&&((t=a=_t)&&(a=Sw(a,r.pendingProps,_s),a!==null?(r.stateNode=a,mn=r,_t=null,t=!0):t=!1),t||oi(r)),null;case 13:return N0(t,r,a);case 4:return at(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=va(r,null,l,a):gn(t,r,l,a),r.child;case 11:return v0(t,r,r.type,r.pendingProps,a);case 7:return gn(t,r,r.pendingProps,a),r.child;case 8:return gn(t,r,r.pendingProps.children,a),r.child;case 12:return gn(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,li(r,r.type,l.value),gn(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,ma(r),f=pn(f),l=l(f),r.flags|=1,gn(t,r,l,a),r.child;case 14:return b0(t,r,r.type,r.pendingProps,a);case 15:return x0(t,r,r.type,r.pendingProps,a);case 19:return D0(t,r,a);case 31:return Y2(t,r,a);case 22:return _0(t,r,a,r.pendingProps);case 24:return ma(r),l=pn(Gt),t===null?(f=uf(),f===null&&(f=vt,m=lf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},hf(r),li(r,Gt,f)):((t.lanes&a)!==0&&(ff(t,r),Rl(r,null,null,a),Dl()),f=t.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),li(r,Gt,l)):(l=m.cache,li(r,Gt,l),l!==f.cache&&of(r,[Gt],a,!0))),gn(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function jr(t){t.flags|=4}function Kf(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(sv())t.flags|=8192;else throw ya=Tu,df}else t.flags&=-16777217}function I0(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Qv(r))if(sv())t.flags|=8192;else throw ya=Tu,df}function Uu(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?an():536870912,t.lanes|=r,fo|=r)}function Vl(t,r){if(!We)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Et(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function $2(t,r,a){var l=r.pendingProps;switch(tf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(r),null;case 1:return Et(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Cr(Gt),qe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Za(r)?jr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,sf())),Et(r),null;case 26:var f=r.type,m=r.memoizedState;return t===null?(jr(r),m!==null?(Et(r),I0(r,m)):(Et(r),Kf(r,f,null,l,a))):m?m!==t.memoizedState?(jr(r),Et(r),I0(r,m)):(Et(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&jr(r),Et(r),Kf(r,f,t,l,a)),null;case 27:if(zn(r),a=we.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&jr(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return Et(r),null}t=me.current,Za(r)?uy(r):(t=Bv(f,l,a),r.stateNode=t,jr(r))}return Et(r),null;case 5:if(zn(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&jr(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return Et(r),null}if(m=me.current,Za(r))uy(r);else{var b=nd(we.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?b.createElement(f,{is:l.is}):b.createElement(f)}}m[Ft]=r,m[on]=l;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=m;e:switch(yn(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&jr(r)}}return Et(r),Kf(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&jr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(i(166));if(t=we.current,Za(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=mn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Ft]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Nv(t.nodeValue,a)),t||oi(r,!0)}else t=nd(t).createTextNode(l),t[Ft]=r,r.stateNode=t}return Et(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Za(r),a!==null){if(t===null){if(!l)throw Error(i(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Ft]=r}else ha(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Et(r),t=!1}else a=sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(os(r),r):(os(r),null);if((r.flags&128)!==0)throw Error(i(558))}return Et(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Za(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(i(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Ft]=r}else ha(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Et(r),f=!1}else f=sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(os(r),r):(os(r),null)}return os(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Uu(r,r.updateQueue),Et(r),null);case 4:return qe(),t===null&&gm(r.stateNode.containerInfo),Et(r),null;case 10:return Cr(r.type),Et(r),null;case 19:if(K(Lt),l=r.memoizedState,l===null)return Et(r),null;if(f=(r.flags&128)!==0,m=l.rendering,m===null)if(f)Vl(l,!1);else{if(kt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(m=Cu(t),m!==null){for(r.flags|=128,Vl(l,!1),t=m.updateQueue,r.updateQueue=t,Uu(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)iy(a,t),a=a.sibling;return ue(Lt,Lt.current&1|2),We&&Ar(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&zt()>Qu&&(r.flags|=128,f=!0,Vl(l,!1),r.lanes=4194304)}else{if(!f)if(t=Cu(m),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Uu(r,t),Vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!We)return Et(r),null}else 2*zt()-l.renderingStartTime>Qu&&a!==536870912&&(r.flags|=128,f=!0,Vl(l,!1),r.lanes=4194304);l.isBackwards?(m.sibling=r.child,r.child=m):(t=l.last,t!==null?t.sibling=m:r.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=zt(),t.sibling=null,a=Lt.current,ue(Lt,f?a&1|2:a&1),We&&Ar(r,l.treeForkCount),t):(Et(r),null);case 22:case 23:return os(r),yf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(Et(r),r.subtreeFlags&6&&(r.flags|=8192)):Et(r),a=r.updateQueue,a!==null&&Uu(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&K(pa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Cr(Gt),Et(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function X2(t,r){switch(tf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Cr(Gt),qe(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return zn(r),null;case 31:if(r.memoizedState!==null){if(os(r),r.alternate===null)throw Error(i(340));ha()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(os(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));ha()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return K(Lt),null;case 4:return qe(),null;case 10:return Cr(r.type),null;case 22:case 23:return os(r),yf(),t!==null&&K(pa),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Cr(Gt),null;case 25:return null;default:return null}}function j0(t,r){switch(tf(r),r.tag){case 3:Cr(Gt),qe();break;case 26:case 27:case 5:zn(r);break;case 4:qe();break;case 31:r.memoizedState!==null&&os(r);break;case 13:os(r);break;case 19:K(Lt);break;case 10:Cr(r.type);break;case 22:case 23:os(r),yf(),t!==null&&K(pa);break;case 24:Cr(Gt)}}function Ll(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var m=a.create,b=a.inst;l=m(),b.destroy=l}a=a.next}while(a!==f)}}catch(w){ft(r,r.return,w)}}function mi(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&t)===t){var b=l.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,f=r;var I=a,F=w;try{F()}catch(W){ft(f,I,W)}}}l=l.next}while(l!==m)}}catch(W){ft(r,r.return,W)}}function k0(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{wy(r,a)}catch(l){ft(t,t.return,l)}}}function M0(t,r,a){a.props=xa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ft(t,r,l)}}function Bl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){ft(t,r,f)}}function ar(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ft(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ft(t,r,f)}else a.current=null}function O0(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ft(t,t.return,f)}}function $f(t,r,a){try{var l=t.stateNode;vw(l,t.type,a,r),l[on]=r}catch(f){ft(t,t.return,f)}}function V0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&_i(t.type)||t.tag===4}function Xf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||V0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&_i(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wf(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Cs));else if(l!==4&&(l===27&&_i(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Wf(t,r,a),t=t.sibling;t!==null;)Wf(t,r,a),t=t.sibling}function Fu(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&_i(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Fu(t,r,a),t=t.sibling;t!==null;)Fu(t,r,a),t=t.sibling}function L0(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);yn(r,l,a),r[Ft]=t,r[on]=a}catch(m){ft(t,t.return,m)}}var kr=!1,Kt=!1,Jf=!1,B0=typeof WeakSet=="function"?WeakSet:Set,cn=null;function W2(t,r){if(t=t.containerInfo,bm=cd,t=Xg(t),qh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,w=-1,I=-1,F=0,W=0,Z=t,H=null;t:for(;;){for(var Y;Z!==a||f!==0&&Z.nodeType!==3||(w=b+f),Z!==m||l!==0&&Z.nodeType!==3||(I=b+l),Z.nodeType===3&&(b+=Z.nodeValue.length),(Y=Z.firstChild)!==null;)H=Z,Z=Y;for(;;){if(Z===t)break t;if(H===a&&++F===f&&(w=b),H===m&&++W===l&&(I=b),(Y=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=Y}a=w===-1||I===-1?null:{start:w,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(xm={focusedElem:t,selectionRange:a},cd=!1,cn=r;cn!==null;)if(r=cn,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,cn=t;else for(;cn!==null;){switch(r=cn,m=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var ve=xa(a.type,f);t=l.getSnapshotBeforeUpdate(ve,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ce){ft(a,a.return,Ce)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)wm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,cn=t;break}cn=r.return}}function P0(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Or(t,a),l&4&&Ll(5,a);break;case 1:if(Or(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(b){ft(a,a.return,b)}else{var f=xa(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(b){ft(a,a.return,b)}}l&64&&k0(a),l&512&&Bl(a,a.return);break;case 3:if(Or(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{wy(t,r)}catch(b){ft(a,a.return,b)}}break;case 27:r===null&&l&4&&L0(a);case 26:case 5:Or(t,a),r===null&&l&4&&O0(a),l&512&&Bl(a,a.return);break;case 12:Or(t,a);break;case 31:Or(t,a),l&4&&F0(t,a);break;case 13:Or(t,a),l&4&&H0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=aw.bind(null,a),Aw(t,a))));break;case 22:if(l=a.memoizedState!==null||kr,!l){r=r!==null&&r.memoizedState!==null||Kt,f=kr;var m=Kt;kr=l,(Kt=r)&&!m?Vr(t,a,(a.subtreeFlags&8772)!==0):Or(t,a),kr=f,Kt=m}break;case 30:break;default:Or(t,a)}}function z0(t){var r=t.alternate;r!==null&&(t.alternate=null,z0(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Va(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Nt=null,Qn=!1;function Mr(t,r,a){for(a=a.child;a!==null;)U0(t,r,a),a=a.sibling}function U0(t,r,a){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(st,a)}catch{}switch(a.tag){case 26:Kt||ar(a,r),Mr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Kt||ar(a,r);var l=Nt,f=Qn;_i(a.type)&&(Nt=a.stateNode,Qn=!1),Mr(t,r,a),Yl(a.stateNode),Nt=l,Qn=f;break;case 5:Kt||ar(a,r);case 6:if(l=Nt,f=Qn,Nt=null,Mr(t,r,a),Nt=l,Qn=f,Nt!==null)if(Qn)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(a.stateNode)}catch(m){ft(a,r,m)}else try{Nt.removeChild(a.stateNode)}catch(m){ft(a,r,m)}break;case 18:Nt!==null&&(Qn?(t=Nt,kv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),_o(t)):kv(Nt,a.stateNode));break;case 4:l=Nt,f=Qn,Nt=a.stateNode.containerInfo,Qn=!0,Mr(t,r,a),Nt=l,Qn=f;break;case 0:case 11:case 14:case 15:mi(2,a,r),Kt||mi(4,a,r),Mr(t,r,a);break;case 1:Kt||(ar(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&M0(a,r,l)),Mr(t,r,a);break;case 21:Mr(t,r,a);break;case 22:Kt=(l=Kt)||a.memoizedState!==null,Mr(t,r,a),Kt=l;break;default:Mr(t,r,a)}}function F0(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{_o(t)}catch(a){ft(r,r.return,a)}}}function H0(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{_o(t)}catch(a){ft(r,r.return,a)}}function J2(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new B0),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new B0),r;default:throw Error(i(435,t.tag))}}function Hu(t,r){var a=J2(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=ow.bind(null,t,l);l.then(f,f)}})}function Yn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=t,b=r,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(_i(w.type)){Nt=w.stateNode,Qn=!1;break e}break;case 5:Nt=w.stateNode,Qn=!1;break e;case 3:case 4:Nt=w.stateNode.containerInfo,Qn=!0;break e}w=w.return}if(Nt===null)throw Error(i(160));U0(m,b,f),Nt=null,Qn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)q0(r,t),r=r.sibling}var Ms=null;function q0(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Yn(r,t),Kn(t),l&4&&(mi(3,t,t.return),Ll(3,t),mi(5,t,t.return));break;case 1:Yn(r,t),Kn(t),l&512&&(Kt||a===null||ar(a,a.return)),l&64&&kr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Ms;if(Yn(r,t),Kn(t),l&512&&(Kt||a===null||ar(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Qs]||m[Ft]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),yn(m,l,a),m[Ft]=t,Ht(m),l=m;break e;case"link":var b=qv("link","href",f).get(l+(a.href||""));if(b){for(var w=0;w<b.length;w++)if(m=b[w],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(w,1);break t}}m=f.createElement(l),yn(m,l,a),f.head.appendChild(m);break;case"meta":if(b=qv("meta","content",f).get(l+(a.content||""))){for(w=0;w<b.length;w++)if(m=b[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(w,1);break t}}m=f.createElement(l),yn(m,l,a),f.head.appendChild(m);break;default:throw Error(i(468,l))}m[Ft]=t,Ht(m),l=m}t.stateNode=l}else Gv(f,t.type,t.stateNode);else t.stateNode=Hv(f,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Gv(f,t.type,t.stateNode):Hv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&$f(t,t.memoizedProps,a.memoizedProps)}break;case 27:Yn(r,t),Kn(t),l&512&&(Kt||a===null||ar(a,a.return)),a!==null&&l&4&&$f(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Yn(r,t),Kn(t),l&512&&(Kt||a===null||ar(a,a.return)),t.flags&32){f=t.stateNode;try{Gn(f,"")}catch(ve){ft(t,t.return,ve)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,$f(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Jf=!0);break;case 6:if(Yn(r,t),Kn(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ve){ft(t,t.return,ve)}}break;case 3:if(id=null,f=Ms,Ms=sd(r.containerInfo),Yn(r,t),Ms=f,Kn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{_o(r.containerInfo)}catch(ve){ft(t,t.return,ve)}Jf&&(Jf=!1,G0(t));break;case 4:l=Ms,Ms=sd(t.stateNode.containerInfo),Yn(r,t),Kn(t),Ms=l;break;case 12:Yn(r,t),Kn(t);break;case 31:Yn(r,t),Kn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hu(t,l)));break;case 13:Yn(r,t),Kn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gu=zt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hu(t,l)));break;case 22:f=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,F=kr,W=Kt;if(kr=F||f,Kt=W||I,Yn(r,t),Kt=W,kr=F,Kn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||I||kr||Kt||_a(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(m=I.stateNode,f)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=I.stateNode;var Z=I.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ve){ft(I,I.return,ve)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(ve){ft(I,I.return,ve)}}}else if(r.tag===18){if(a===null){I=r;try{var Y=I.stateNode;f?Mv(Y,!0):Mv(I.stateNode,!1)}catch(ve){ft(I,I.return,ve)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Hu(t,a))));break;case 19:Yn(r,t),Kn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hu(t,l)));break;case 30:break;case 21:break;default:Yn(r,t),Kn(t)}}function Kn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(V0(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,m=Xf(t);Fu(t,m,f);break;case 5:var b=a.stateNode;a.flags&32&&(Gn(b,""),a.flags&=-33);var w=Xf(t);Fu(t,w,b);break;case 3:case 4:var I=a.stateNode.containerInfo,F=Xf(t);Wf(t,F,I);break;default:throw Error(i(161))}}catch(W){ft(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function G0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;G0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Or(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)P0(t,r.alternate,r),r=r.sibling}function _a(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:mi(4,r,r.return),_a(r);break;case 1:ar(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&M0(r,r.return,a),_a(r);break;case 27:Yl(r.stateNode);case 26:case 5:ar(r,r.return),_a(r);break;case 22:r.memoizedState===null&&_a(r);break;case 30:_a(r);break;default:_a(r)}t=t.sibling}}function Vr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,m=r,b=m.flags;switch(m.tag){case 0:case 11:case 15:Vr(f,m,a),Ll(4,m);break;case 1:if(Vr(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){ft(l,l.return,F)}if(l=m,f=l.updateQueue,f!==null){var w=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Ey(I[f],w)}catch(F){ft(l,l.return,F)}}a&&b&64&&k0(m),Bl(m,m.return);break;case 27:L0(m);case 26:case 5:Vr(f,m,a),a&&l===null&&b&4&&O0(m),Bl(m,m.return);break;case 12:Vr(f,m,a);break;case 31:Vr(f,m,a),a&&b&4&&F0(f,m);break;case 13:Vr(f,m,a),a&&b&4&&H0(f,m);break;case 22:m.memoizedState===null&&Vr(f,m,a),Bl(m,m.return);break;case 30:break;default:Vr(f,m,a)}r=r.sibling}}function Zf(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Tl(a))}function em(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Tl(t))}function Os(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Q0(t,r,a,l),r=r.sibling}function Q0(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Os(t,r,a,l),f&2048&&Ll(9,r);break;case 1:Os(t,r,a,l);break;case 3:Os(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Tl(t)));break;case 12:if(f&2048){Os(t,r,a,l),t=r.stateNode;try{var m=r.memoizedProps,b=m.id,w=m.onPostCommit;typeof w=="function"&&w(b,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){ft(r,r.return,I)}}else Os(t,r,a,l);break;case 31:Os(t,r,a,l);break;case 13:Os(t,r,a,l);break;case 23:break;case 22:m=r.stateNode,b=r.alternate,r.memoizedState!==null?m._visibility&2?Os(t,r,a,l):Pl(t,r):m._visibility&2?Os(t,r,a,l):(m._visibility|=2,co(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Zf(b,r);break;case 24:Os(t,r,a,l),f&2048&&em(r.alternate,r);break;default:Os(t,r,a,l)}}function co(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=t,b=r,w=a,I=l,F=b.flags;switch(b.tag){case 0:case 11:case 15:co(m,b,w,I,f),Ll(8,b);break;case 23:break;case 22:var W=b.stateNode;b.memoizedState!==null?W._visibility&2?co(m,b,w,I,f):Pl(m,b):(W._visibility|=2,co(m,b,w,I,f)),f&&F&2048&&Zf(b.alternate,b);break;case 24:co(m,b,w,I,f),f&&F&2048&&em(b.alternate,b);break;default:co(m,b,w,I,f)}r=r.sibling}}function Pl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Pl(a,l),f&2048&&Zf(l.alternate,l);break;case 24:Pl(a,l),f&2048&&em(l.alternate,l);break;default:Pl(a,l)}r=r.sibling}}var zl=8192;function uo(t,r,a){if(t.subtreeFlags&zl)for(t=t.child;t!==null;)Y0(t,r,a),t=t.sibling}function Y0(t,r,a){switch(t.tag){case 26:uo(t,r,a),t.flags&zl&&t.memoizedState!==null&&Bw(a,Ms,t.memoizedState,t.memoizedProps);break;case 5:uo(t,r,a);break;case 3:case 4:var l=Ms;Ms=sd(t.stateNode.containerInfo),uo(t,r,a),Ms=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=zl,zl=16777216,uo(t,r,a),zl=l):uo(t,r,a));break;default:uo(t,r,a)}}function K0(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ul(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];cn=l,X0(l,t)}K0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$0(t),t=t.sibling}function $0(t){switch(t.tag){case 0:case 11:case 15:Ul(t),t.flags&2048&&mi(9,t,t.return);break;case 3:Ul(t);break;case 12:Ul(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,qu(t)):Ul(t);break;default:Ul(t)}}function qu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];cn=l,X0(l,t)}K0(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:mi(8,r,r.return),qu(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,qu(r));break;default:qu(r)}t=t.sibling}}function X0(t,r){for(;cn!==null;){var a=cn;switch(a.tag){case 0:case 11:case 15:mi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,cn=l;else e:for(a=t;cn!==null;){l=cn;var f=l.sibling,m=l.return;if(z0(l),l===a){cn=null;break e}if(f!==null){f.return=m,cn=f;break e}cn=m}}}var Z2={getCacheForType:function(t){var r=pn(Gt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return pn(Gt).controller.signal}},ew=typeof WeakMap=="function"?WeakMap:Map,it=0,vt=null,Fe=null,Ge=0,ht=0,ls=null,pi=!1,ho=!1,tm=!1,Lr=0,kt=0,gi=0,Ea=0,nm=0,cs=0,fo=0,Fl=null,$n=null,sm=!1,Gu=0,W0=0,Qu=1/0,Yu=null,yi=null,Jt=0,vi=null,mo=null,Br=0,rm=0,im=null,J0=null,Hl=0,am=null;function us(){return(it&2)!==0&&Ge!==0?Ge&-Ge:X.T!==null?hm():ts()}function Z0(){if(cs===0)if((Ge&536870912)===0||We){var t=_r;_r<<=1,(_r&3932160)===0&&(_r=262144),cs=t}else cs=536870912;return t=as.current,t!==null&&(t.flags|=32),cs}function Xn(t,r,a){(t===vt&&(ht===2||ht===9)||t.cancelPendingCommit!==null)&&(po(t,0),bi(t,Ge,cs,!1)),Hn(t,a),((it&2)===0||t!==vt)&&(t===vt&&((it&2)===0&&(Ea|=a),kt===4&&bi(t,Ge,cs,!1)),or(t))}function ev(t,r,a){if((it&6)!==0)throw Error(i(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Ut(t,r),f=l?sw(t,r):lm(t,r,!0),m=l;do{if(f===0){ho&&!l&&bi(t,r,0,!1);break}else{if(a=t.current.alternate,m&&!tw(a)){f=lm(t,r,!1),m=!1;continue}if(f===2){if(m=r,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var w=t;f=Fl;var I=w.current.memoizedState.isDehydrated;if(I&&(po(w,b).flags|=256),b=lm(w,b,!1),b!==2){if(tm&&!I){w.errorRecoveryDisabledLanes|=m,Ea|=m,f=4;break e}m=$n,$n=f,m!==null&&($n===null?$n=m:$n.push.apply($n,m))}f=b}if(m=!1,f!==2)continue}}if(f===1){po(t,0),bi(t,r,0,!0);break}e:{switch(l=t,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:bi(l,r,cs,!pi);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(f=Gu+300-zt(),10<f)){if(bi(l,r,cs,!pi),St(l,0,!0)!==0)break e;Br=r,l.timeoutHandle=Iv(tv.bind(null,l,a,$n,Yu,sm,r,cs,Ea,fo,pi,m,"Throttled",-0,0),f);break e}tv(l,a,$n,Yu,sm,r,cs,Ea,fo,pi,m,null,-0,0)}}break}while(!0);or(t)}function tv(t,r,a,l,f,m,b,w,I,F,W,Z,H,Y){if(t.timeoutHandle=-1,Z=r.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cs},Y0(r,m,Z);var ve=(m&62914560)===m?Gu-zt():(m&4194048)===m?W0-zt():0;if(ve=Pw(Z,ve),ve!==null){Br=m,t.cancelPendingCommit=ve(cv.bind(null,t,r,m,a,l,f,b,w,I,W,Z,null,H,Y)),bi(t,m,b,!F);return}}cv(t,r,m,a,l,f,b,w,I)}function tw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!rs(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function bi(t,r,a,l){r&=~nm,r&=~Ea,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var m=31-et(f),b=1<<m;l[m]=-1,f&=~b}a!==0&&wn(t,a,r)}function Ku(){return(it&6)===0?(ql(0),!1):!0}function om(){if(Fe!==null){if(ht===0)var t=Fe.return;else t=Fe,Nr=fa=null,wf(t),ro=null,Al=0,t=Fe;for(;t!==null;)j0(t.alternate,t),t=t.return;Fe=null}}function po(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,_w(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Br=0,om(),vt=t,Fe=a=Sr(t.current,null),Ge=r,ht=0,ls=null,pi=!1,ho=Ut(t,r),tm=!1,fo=cs=nm=Ea=gi=kt=0,$n=Fl=null,sm=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-et(l),m=1<<f;r|=t[f],l&=~m}return Lr=r,pu(),a}function nv(t,r){Ve=null,X.H=Ml,r===so||r===wu?(r=vy(),ht=3):r===df?(r=vy(),ht=4):ht=r===Pf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ls=r,Fe===null&&(kt=1,Lu(t,vs(r,t.current)))}function sv(){var t=as.current;return t===null?!0:(Ge&4194048)===Ge?Es===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?t===Es:!1}function rv(){var t=X.H;return X.H=Ml,t===null?Ml:t}function iv(){var t=X.A;return X.A=Z2,t}function $u(){kt=4,pi||(Ge&4194048)!==Ge&&as.current!==null||(ho=!0),(gi&134217727)===0&&(Ea&134217727)===0||vt===null||bi(vt,Ge,cs,!1)}function lm(t,r,a){var l=it;it|=2;var f=rv(),m=iv();(vt!==t||Ge!==r)&&(Yu=null,po(t,r)),r=!1;var b=kt;e:do try{if(ht!==0&&Fe!==null){var w=Fe,I=ls;switch(ht){case 8:om(),b=6;break e;case 3:case 2:case 9:case 6:as.current===null&&(r=!0);var F=ht;if(ht=0,ls=null,go(t,w,I,F),a&&ho){b=0;break e}break;default:F=ht,ht=0,ls=null,go(t,w,I,F)}}nw(),b=kt;break}catch(W){nv(t,W)}while(!0);return r&&t.shellSuspendCounter++,Nr=fa=null,it=l,X.H=f,X.A=m,Fe===null&&(vt=null,Ge=0,pu()),b}function nw(){for(;Fe!==null;)av(Fe)}function sw(t,r){var a=it;it|=2;var l=rv(),f=iv();vt!==t||Ge!==r?(Yu=null,Qu=zt()+500,po(t,r)):ho=Ut(t,r);e:do try{if(ht!==0&&Fe!==null){r=Fe;var m=ls;t:switch(ht){case 1:ht=0,ls=null,go(t,r,m,1);break;case 2:case 9:if(gy(m)){ht=0,ls=null,ov(r);break}r=function(){ht!==2&&ht!==9||vt!==t||(ht=7),or(t)},m.then(r,r);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:gy(m)?(ht=0,ls=null,ov(r)):(ht=0,ls=null,go(t,r,m,7));break;case 5:var b=null;switch(Fe.tag){case 26:b=Fe.memoizedState;case 5:case 27:var w=Fe;if(b?Qv(b):w.stateNode.complete){ht=0,ls=null;var I=w.sibling;if(I!==null)Fe=I;else{var F=w.return;F!==null?(Fe=F,Xu(F)):Fe=null}break t}}ht=0,ls=null,go(t,r,m,5);break;case 6:ht=0,ls=null,go(t,r,m,6);break;case 8:om(),kt=6;break e;default:throw Error(i(462))}}rw();break}catch(W){nv(t,W)}while(!0);return Nr=fa=null,X.H=l,X.A=f,it=a,Fe!==null?0:(vt=null,Ge=0,pu(),kt)}function rw(){for(;Fe!==null&&!Fs();)av(Fe)}function av(t){var r=R0(t.alternate,t,Lr);t.memoizedProps=t.pendingProps,r===null?Xu(t):Fe=r}function ov(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=T0(a,r,r.pendingProps,r.type,void 0,Ge);break;case 11:r=T0(a,r,r.pendingProps,r.type.render,r.ref,Ge);break;case 5:wf(r);default:j0(a,r),r=Fe=iy(r,Lr),r=R0(a,r,Lr)}t.memoizedProps=t.pendingProps,r===null?Xu(t):Fe=r}function go(t,r,a,l){Nr=fa=null,wf(r),ro=null,Al=0;var f=r.return;try{if(Q2(t,f,r,a,Ge)){kt=1,Lu(t,vs(a,t.current)),Fe=null;return}}catch(m){if(f!==null)throw Fe=f,m;kt=1,Lu(t,vs(a,t.current)),Fe=null;return}r.flags&32768?(We||l===1?t=!0:ho||(Ge&536870912)!==0?t=!1:(pi=t=!0,(l===2||l===9||l===3||l===6)&&(l=as.current,l!==null&&l.tag===13&&(l.flags|=16384))),lv(r,t)):Xu(r)}function Xu(t){var r=t;do{if((r.flags&32768)!==0){lv(r,pi);return}t=r.return;var a=$2(r.alternate,r,Lr);if(a!==null){Fe=a;return}if(r=r.sibling,r!==null){Fe=r;return}Fe=r=t}while(r!==null);kt===0&&(kt=5)}function lv(t,r){do{var a=X2(t.alternate,t);if(a!==null){a.flags&=32767,Fe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Fe=t;return}Fe=t=a}while(t!==null);kt=6,Fe=null}function cv(t,r,a,l,f,m,b,w,I){t.cancelPendingCommit=null;do Wu();while(Jt!==0);if((it&6)!==0)throw Error(i(327));if(r!==null){if(r===t.current)throw Error(i(177));if(m=r.lanes|r.childLanes,m|=$h,Ot(t,a,m,b,w,I),t===vt&&(Fe=vt=null,Ge=0),mo=r,vi=t,Br=a,rm=m,im=f,J0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,lw(ne,function(){return mv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=ce.p,ce.p=2,b=it,it|=4;try{W2(t,r,a)}finally{it=b,ce.p=f,X.T=l}}Jt=1,uv(),dv(),hv()}}function uv(){if(Jt===1){Jt=0;var t=vi,r=mo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=ce.p;ce.p=2;var f=it;it|=4;try{q0(r,t);var m=xm,b=Xg(t.containerInfo),w=m.focusedElem,I=m.selectionRange;if(b!==w&&w&&w.ownerDocument&&$g(w.ownerDocument.documentElement,w)){if(I!==null&&qh(w)){var F=I.start,W=I.end;if(W===void 0&&(W=F),"selectionStart"in w)w.selectionStart=F,w.selectionEnd=Math.min(W,w.value.length);else{var Z=w.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var Y=H.getSelection(),ve=w.textContent.length,Ce=Math.min(I.start,ve),yt=I.end===void 0?Ce:Math.min(I.end,ve);!Y.extend&&Ce>yt&&(b=yt,yt=Ce,Ce=b);var B=Kg(w,Ce),V=Kg(w,yt);if(B&&V&&(Y.rangeCount!==1||Y.anchorNode!==B.node||Y.anchorOffset!==B.offset||Y.focusNode!==V.node||Y.focusOffset!==V.offset)){var U=Z.createRange();U.setStart(B.node,B.offset),Y.removeAllRanges(),Ce>yt?(Y.addRange(U),Y.extend(V.node,V.offset)):(U.setEnd(V.node,V.offset),Y.addRange(U))}}}}for(Z=[],Y=w;Y=Y.parentNode;)Y.nodeType===1&&Z.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<Z.length;w++){var J=Z[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}cd=!!bm,xm=bm=null}finally{it=f,ce.p=l,X.T=a}}t.current=r,Jt=2}}function dv(){if(Jt===2){Jt=0;var t=vi,r=mo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=ce.p;ce.p=2;var f=it;it|=4;try{P0(t,r.alternate,r)}finally{it=f,ce.p=l,X.T=a}}Jt=3}}function hv(){if(Jt===4||Jt===3){Jt=0,xr();var t=vi,r=mo,a=Br,l=J0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Jt=5:(Jt=0,mo=vi=null,fv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(yi=null),On(a),r=r.stateNode,ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(st,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,f=ce.p,ce.p=2,X.T=null;try{for(var m=t.onRecoverableError,b=0;b<l.length;b++){var w=l[b];m(w.value,{componentStack:w.stack})}}finally{X.T=r,ce.p=f}}(Br&3)!==0&&Wu(),or(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===am?Hl++:(Hl=0,am=t):Hl=0,ql(0)}}function fv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Tl(r)))}function Wu(){return uv(),dv(),hv(),mv()}function mv(){if(Jt!==5)return!1;var t=vi,r=rm;rm=0;var a=On(Br),l=X.T,f=ce.p;try{ce.p=32>a?32:a,X.T=null,a=im,im=null;var m=vi,b=Br;if(Jt=0,mo=vi=null,Br=0,(it&6)!==0)throw Error(i(331));var w=it;if(it|=4,$0(m.current),Q0(m,m.current,b,a),it=w,ql(0,!1),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(st,m)}catch{}return!0}finally{ce.p=f,X.T=l,fv(t,r)}}function pv(t,r,a){r=vs(a,r),r=Bf(t.stateNode,r,2),t=di(t,r,2),t!==null&&(Hn(t,2),or(t))}function ft(t,r,a){if(t.tag===3)pv(t,t,a);else for(;r!==null;){if(r.tag===3){pv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(yi===null||!yi.has(l))){t=vs(a,t),a=g0(2),l=di(r,a,2),l!==null&&(y0(a,l,r,t),Hn(l,2),or(l));break}}r=r.return}}function cm(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new ew;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(tm=!0,f.add(a),t=iw.bind(null,t,r,a),r.then(t,t))}function iw(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,vt===t&&(Ge&a)===a&&(kt===4||kt===3&&(Ge&62914560)===Ge&&300>zt()-Gu?(it&2)===0&&po(t,0):nm|=a,fo===Ge&&(fo=0)),or(t)}function gv(t,r){r===0&&(r=an()),t=ua(t,r),t!==null&&(Hn(t,r),or(t))}function aw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),gv(t,a)}function ow(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(r),gv(t,a)}function lw(t,r){return ot(t,r)}var Ju=null,yo=null,um=!1,Zu=!1,dm=!1,xi=0;function or(t){t!==yo&&t.next===null&&(yo===null?Ju=yo=t:yo=yo.next=t),Zu=!0,um||(um=!0,uw())}function ql(t,r){if(!dm&&Zu){dm=!0;do for(var a=!1,l=Ju;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var b=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-et(42|t)+1)-1,m&=f&~(b&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,xv(l,m))}else m=Ge,m=St(l,l===vt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Ut(l,m)||(a=!0,xv(l,m));l=l.next}while(a);dm=!1}}function cw(){yv()}function yv(){Zu=um=!1;var t=0;xi!==0&&xw()&&(t=xi);for(var r=zt(),a=null,l=Ju;l!==null;){var f=l.next,m=vv(l,r);m===0?(l.next=null,a===null?Ju=f:a.next=f,f===null&&(yo=a)):(a=l,(t!==0||(m&3)!==0)&&(Zu=!0)),l=f}Jt!==0&&Jt!==5||ql(t),xi!==0&&(xi=0)}function vv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-et(m),w=1<<b,I=f[b];I===-1?((w&a)===0||(w&l)!==0)&&(f[b]=En(w,r)):I<=r&&(t.expiredLanes|=w),m&=~w}if(r=vt,a=Ge,a=St(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(ht===2||ht===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&kn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ut(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&kn(l),On(a)){case 2:case 8:a=$;break;case 32:a=ne;break;case 268435456:a=pe;break;default:a=ne}return l=bv.bind(null,t),a=ot(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&kn(l),t.callbackPriority=2,t.callbackNode=null,2}function bv(t,r){if(Jt!==0&&Jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Wu()&&t.callbackNode!==a)return null;var l=Ge;return l=St(t,t===vt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ev(t,l,r),vv(t,zt()),t.callbackNode!=null&&t.callbackNode===a?bv.bind(null,t):null)}function xv(t,r){if(Wu())return null;ev(t,r,!0)}function uw(){Ew(function(){(it&6)!==0?ot(Hs,cw):yv()})}function hm(){if(xi===0){var t=to;t===0&&(t=hs,hs<<=1,(hs&261888)===0&&(hs=256)),xi=t}return xi}function _v(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:za(""+t)}function Ev(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function dw(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=_v((f[on]||null).action),b=l.submitter;b&&(r=(r=b[on]||null)?_v(r.formAction):b.getAttribute("formAction"),r!==null&&(m=r,b=null));var w=new er("action","action",null,l,f);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xi!==0){var I=b?Ev(f,b):new FormData(f);jf(a,{pending:!0,data:I,method:f.method,action:m},null,I)}}else typeof m=="function"&&(w.preventDefault(),I=b?Ev(f,b):new FormData(f),jf(a,{pending:!0,data:I,method:f.method,action:m},m,I))},currentTarget:f}]})}}for(var fm=0;fm<Kh.length;fm++){var mm=Kh[fm],hw=mm.toLowerCase(),fw=mm[0].toUpperCase()+mm.slice(1);ks(hw,"on"+fw)}ks(Zg,"onAnimationEnd"),ks(ey,"onAnimationIteration"),ks(ty,"onAnimationStart"),ks("dblclick","onDoubleClick"),ks("focusin","onFocus"),ks("focusout","onBlur"),ks(D2,"onTransitionRun"),ks(R2,"onTransitionStart"),ks(I2,"onTransitionCancel"),ks(ny,"onTransitionEnd"),Xs("onMouseEnter",["mouseout","mouseover"]),Xs("onMouseLeave",["mouseout","mouseover"]),Xs("onPointerEnter",["pointerout","pointerover"]),Xs("onPointerLeave",["pointerout","pointerover"]),$s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$s("onBeforeInput",["compositionend","keypress","textInput","paste"]),$s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function wv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var b=l.length-1;0<=b;b--){var w=l[b],I=w.instance,F=w.currentTarget;if(w=w.listener,I!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=F;try{m(f)}catch(W){mu(W)}f.currentTarget=null,m=I}else for(b=0;b<l.length;b++){if(w=l[b],I=w.instance,F=w.currentTarget,w=w.listener,I!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=F;try{m(f)}catch(W){mu(W)}f.currentTarget=null,m=I}}}}function He(t,r){var a=r[Oa];a===void 0&&(a=r[Oa]=new Set);var l=t+"__bubble";a.has(l)||(Tv(r,t,2,!1),a.add(l))}function pm(t,r,a){var l=0;r&&(l|=4),Tv(a,t,l,r)}var ed="_reactListening"+Math.random().toString(36).slice(2);function gm(t){if(!t[ed]){t[ed]=!0,sl.forEach(function(a){a!=="selectionchange"&&(mw.has(a)||pm(a,!1,t),pm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[ed]||(r[ed]=!0,pm("selectionchange",!1,r))}}function Tv(t,r,a,l){switch(Zv(r)){case 2:var f=Fw;break;case 8:f=Hw;break;default:f=Im}a=f.bind(null,r,a,t),f=void 0,!na||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function ym(t,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var w=l.stateNode.containerInfo;if(w===f)break;if(b===4)for(b=l.return;b!==null;){var I=b.tag;if((I===3||I===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;w!==null;){if(b=Ys(w),b===null)return;if(I=b.tag,I===5||I===6||I===26||I===27){l=m=b;continue e}w=w.parentNode}}l=l.return}ti(function(){var F=m,W=ms(a),Z=[];e:{var H=sy.get(t);if(H!==void 0){var Y=er,ve=t;switch(t){case"keypress":if(ra(a)===0)break e;case"keydown":case"keyup":Y=du;break;case"focusin":ve="focus",Y=aa;break;case"focusout":ve="blur",Y=aa;break;case"beforeblur":case"afterblur":Y=aa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=v;break;case Zg:case ey:case ty:Y=ru;break;case ny:Y=T;break;case"scroll":case"scrollend":Y=pl;break;case"wheel":Y=Q;break;case"copy":case"cut":case"paste":Y=iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Tr;break;case"toggle":case"beforetoggle":Y=Oe}var Ce=(r&4)!==0,yt=!Ce&&(t==="scroll"||t==="scrollend"),B=Ce?H!==null?H+"Capture":null:H;Ce=[];for(var V=F,U;V!==null;){var J=V;if(U=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||U===null||B===null||(J=Ds(V,B),J!=null&&Ce.push(Ql(V,J,U))),yt)break;V=V.return}0<Ce.length&&(H=new Y(H,ve,null,a,W),Z.push({event:H,listeners:Ce}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",H&&a!==hl&&(ve=a.relatedTarget||a.fromElement)&&(Ys(ve)||ve[Gs]))break e;if((Y||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(ve=a.relatedTarget||a.toElement,Y=F,ve=ve?Ys(ve):null,ve!==null&&(yt=c(ve),Ce=ve.tag,ve!==yt||Ce!==5&&Ce!==27&&Ce!==6)&&(ve=null)):(Y=null,ve=F),Y!==ve)){if(Ce=gl,J="onMouseLeave",B="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ce=Tr,J="onPointerLeave",B="onPointerEnter",V="pointer"),yt=Y==null?H:ns(Y),U=ve==null?H:ns(ve),H=new Ce(J,V+"leave",Y,a,W),H.target=yt,H.relatedTarget=U,J=null,Ys(W)===F&&(Ce=new Ce(B,V+"enter",ve,a,W),Ce.target=U,Ce.relatedTarget=yt,J=Ce),yt=J,Y&&ve)t:{for(Ce=pw,B=Y,V=ve,U=0,J=B;J;J=Ce(J))U++;J=0;for(var Se=V;Se;Se=Ce(Se))J++;for(;0<U-J;)B=Ce(B),U--;for(;0<J-U;)V=Ce(V),J--;for(;U--;){if(B===V||V!==null&&B===V.alternate){Ce=B;break t}B=Ce(B),V=Ce(V)}Ce=null}else Ce=null;Y!==null&&Sv(Z,H,Y,Ce,!1),ve!==null&&yt!==null&&Sv(Z,yt,ve,Ce,!0)}}e:{if(H=F?ns(F):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var tt=Fg;else if(zg(H))if(Hg)tt=A2;else{tt=T2;var xe=w2}else Y=H.nodeName,!Y||Y.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&Pa(F.elementType)&&(tt=Fg):tt=S2;if(tt&&(tt=tt(t,F))){Ug(Z,tt,a,W);break e}xe&&xe(t,H,F),t==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&cl(H,"number",H.value)}switch(xe=F?ns(F):window,t){case"focusin":(zg(xe)||xe.contentEditable==="true")&&(Ya=xe,Gh=F,_l=null);break;case"focusout":_l=Gh=Ya=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,Wg(Z,a,W);break;case"selectionchange":if(C2)break;case"keydown":case"keyup":Wg(Z,a,W)}var Be;if(rt)e:{switch(t){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Qa?oa(t,a)&&(Qe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Qe="onCompositionStart");Qe&&(sr&&a.locale!=="ko"&&(Qa||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Qa&&(Be=ml()):(Zs=W,fl="value"in Zs?Zs.value:Zs.textContent,Qa=!0)),xe=td(F,Qe),0<xe.length&&(Qe=new nr(Qe,t,null,a,W),Z.push({event:Qe,listeners:xe}),Be?Qe.data=Be:(Be=Ga(a),Be!==null&&(Qe.data=Be)))),(Be=gs?b2(t,a):x2(t,a))&&(Qe=td(F,"onBeforeInput"),0<Qe.length&&(xe=new nr("onBeforeInput","beforeinput",null,a,W),Z.push({event:xe,listeners:Qe}),xe.data=Be)),dw(Z,t,F,a,W)}wv(Z,r)})}function Ql(t,r,a){return{instance:t,listener:r,currentTarget:a}}function td(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ds(t,a),f!=null&&l.unshift(Ql(t,f,m)),f=Ds(t,r),f!=null&&l.push(Ql(t,f,m))),t.tag===3)return l;t=t.return}return[]}function pw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Sv(t,r,a,l,f){for(var m=r._reactName,b=[];a!==null&&a!==l;){var w=a,I=w.alternate,F=w.stateNode;if(w=w.tag,I!==null&&I===l)break;w!==5&&w!==26&&w!==27||F===null||(I=F,f?(F=Ds(a,m),F!=null&&b.unshift(Ql(a,F,I))):f||(F=Ds(a,m),F!=null&&b.push(Ql(a,F,I)))),a=a.return}b.length!==0&&t.push({event:r,listeners:b})}var gw=/\r\n?/g,yw=/\u0000|\uFFFD/g;function Av(t){return(typeof t=="string"?t:""+t).replace(gw,`
`).replace(yw,"")}function Nv(t,r){return r=Av(r),Av(t)===r}function gt(t,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Gn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Gn(t,""+l);break;case"className":ss(t,"class",l);break;case"tabIndex":ss(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ss(t,a,l);break;case"style":dl(t,l,m);break;case"data":if(r!=="object"){ss(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=za(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&gt(t,r,"name",f.name,f,null),gt(t,r,"formEncType",f.formEncType,f,null),gt(t,r,"formMethod",f.formMethod,f,null),gt(t,r,"formTarget",f.formTarget,f,null)):(gt(t,r,"encType",f.encType,f,null),gt(t,r,"method",f.method,f,null),gt(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=za(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Cs);break;case"onScroll":l!=null&&He("scroll",t);break;case"onScrollEnd":l!=null&&He("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=za(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":He("beforetoggle",t),He("toggle",t),La(t,"popover",l);break;case"xlinkActuate":qt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":qt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":qt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":qt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":qt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":qt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":qt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":qt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":qt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":La(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=tu.get(a)||a,La(t,a,l))}}function vm(t,r,a,l,f,m){switch(a){case"style":dl(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Gn(t,l):(typeof l=="number"||typeof l=="bigint")&&Gn(t,""+l);break;case"onScroll":l!=null&&He("scroll",t);break;case"onScrollEnd":l!=null&&He("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Cs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=t[on]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):La(t,a,l)}}}function yn(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",t),He("load",t);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:gt(t,r,m,b,a,null)}}f&&gt(t,r,"srcSet",a.srcSet,a,null),l&&gt(t,r,"src",a.src,a,null);return;case"input":He("invalid",t);var w=m=b=f=null,I=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":b=W;break;case"checked":I=W;break;case"defaultChecked":F=W;break;case"value":m=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,r));break;default:gt(t,r,l,W,a,null)}}Jc(t,m,w,I,F,b,f,!1);return;case"select":He("invalid",t),l=b=m=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":b=w;break;case"multiple":l=w;default:gt(t,r,f,w,a,null)}r=m,a=b,t.multiple=!!l,r!=null?Wr(t,!!l,r,!1):a!=null&&Wr(t,!!l,a,!0);return;case"textarea":He("invalid",t),m=f=l=null;for(b in a)if(a.hasOwnProperty(b)&&(w=a[b],w!=null))switch(b){case"value":l=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:gt(t,r,b,w,a,null)}Jr(t,l,f,m);return;case"option":for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!=null)&&(I==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":gt(t,r,I,l,a,null));return;case"dialog":He("beforetoggle",t),He("toggle",t),He("cancel",t),He("close",t);break;case"iframe":case"object":He("load",t);break;case"video":case"audio":for(l=0;l<Gl.length;l++)He(Gl[l],t);break;case"image":He("error",t),He("load",t);break;case"details":He("toggle",t);break;case"embed":case"source":case"link":He("error",t),He("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:gt(t,r,F,l,a,null)}return;default:if(Pa(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&vm(t,r,W,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&gt(t,r,w,l,a,null))}function vw(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,b=null,w=null,I=null,F=null,W=null;for(Y in a){var Z=a[Y];if(a.hasOwnProperty(Y)&&Z!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(Y)||gt(t,r,Y,null,l,Z)}}for(var H in l){var Y=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(Y!=null||Z!=null))switch(H){case"type":m=Y;break;case"name":f=Y;break;case"checked":F=Y;break;case"defaultChecked":W=Y;break;case"value":b=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,r));break;default:Y!==Z&&gt(t,r,H,Y,l,Z)}}Ba(t,b,w,I,F,W,m,f);return;case"select":Y=b=w=H=null;for(m in a)if(I=a[m],a.hasOwnProperty(m)&&I!=null)switch(m){case"value":break;case"multiple":Y=I;default:l.hasOwnProperty(m)||gt(t,r,m,null,l,I)}for(f in l)if(m=l[f],I=a[f],l.hasOwnProperty(f)&&(m!=null||I!=null))switch(f){case"value":H=m;break;case"defaultValue":w=m;break;case"multiple":b=m;default:m!==I&&gt(t,r,f,m,l,I)}r=w,a=b,l=Y,H!=null?Wr(t,!!a,H,!1):!!l!=!!a&&(r!=null?Wr(t,!!a,r,!0):Wr(t,!!a,a?[]:"",!1));return;case"textarea":Y=H=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:gt(t,r,w,null,l,f)}for(b in l)if(f=l[b],m=a[b],l.hasOwnProperty(b)&&(f!=null||m!=null))switch(b){case"value":H=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&gt(t,r,b,f,l,m)}Zc(t,H,Y);return;case"option":for(var ve in a)H=a[ve],a.hasOwnProperty(ve)&&H!=null&&!l.hasOwnProperty(ve)&&(ve==="selected"?t.selected=!1:gt(t,r,ve,null,l,H));for(I in l)H=l[I],Y=a[I],l.hasOwnProperty(I)&&H!==Y&&(H!=null||Y!=null)&&(I==="selected"?t.selected=H&&typeof H!="function"&&typeof H!="symbol":gt(t,r,I,H,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in a)H=a[Ce],a.hasOwnProperty(Ce)&&H!=null&&!l.hasOwnProperty(Ce)&&gt(t,r,Ce,null,l,H);for(F in l)if(H=l[F],Y=a[F],l.hasOwnProperty(F)&&H!==Y&&(H!=null||Y!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,r));break;default:gt(t,r,F,H,l,Y)}return;default:if(Pa(r)){for(var yt in a)H=a[yt],a.hasOwnProperty(yt)&&H!==void 0&&!l.hasOwnProperty(yt)&&vm(t,r,yt,void 0,l,H);for(W in l)H=l[W],Y=a[W],!l.hasOwnProperty(W)||H===Y||H===void 0&&Y===void 0||vm(t,r,W,H,l,Y);return}}for(var B in a)H=a[B],a.hasOwnProperty(B)&&H!=null&&!l.hasOwnProperty(B)&&gt(t,r,B,null,l,H);for(Z in l)H=l[Z],Y=a[Z],!l.hasOwnProperty(Z)||H===Y||H==null&&Y==null||gt(t,r,Z,H,l,Y)}function Cv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],m=f.transferSize,b=f.initiatorType,w=f.duration;if(m&&w&&Cv(b)){for(b=0,w=f.responseEnd,l+=1;l<a.length;l++){var I=a[l],F=I.startTime;if(F>w)break;var W=I.transferSize,Z=I.initiatorType;W&&Cv(Z)&&(I=I.responseEnd,b+=W*(I<w?1:(w-F)/(I-F)))}if(--l,r+=8*(m+b)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var bm=null,xm=null;function nd(t){return t.nodeType===9?t:t.ownerDocument}function Dv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function _m(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Em=null;function xw(){var t=window.event;return t&&t.type==="popstate"?t===Em?!1:(Em=t,!0):(Em=null,!1)}var Iv=typeof setTimeout=="function"?setTimeout:void 0,_w=typeof clearTimeout=="function"?clearTimeout:void 0,jv=typeof Promise=="function"?Promise:void 0,Ew=typeof queueMicrotask=="function"?queueMicrotask:typeof jv<"u"?function(t){return jv.resolve(null).then(t).catch(ww)}:Iv;function ww(t){setTimeout(function(){throw t})}function _i(t){return t==="head"}function kv(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),_o(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Yl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Yl(a);for(var m=a.firstChild;m;){var b=m.nextSibling,w=m.nodeName;m[Qs]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=b}}else a==="body"&&Yl(t.ownerDocument.body);a=f}while(a);_o(r)}function Mv(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function wm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wm(a),Va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Tw(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Qs])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=ws(t.nextSibling),t===null)break}return null}function Sw(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ws(t.nextSibling),t===null))return null;return t}function Ov(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ws(t.nextSibling),t===null))return null;return t}function Tm(t){return t.data==="$?"||t.data==="$~"}function Sm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Aw(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ws(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Am=null;function Vv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return ws(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function Lv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Bv(t,r,a){switch(r=nd(a),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Yl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Va(t)}var Ts=new Map,Pv=new Set;function sd(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Pr=ce.d;ce.d={f:Nw,r:Cw,D:Dw,C:Rw,L:Iw,m:jw,X:Mw,S:kw,M:Ow};function Nw(){var t=Pr.f(),r=Ku();return t||r}function Cw(t){var r=fs(t);r!==null&&r.tag===5&&r.type==="form"?n0(r):Pr.r(t)}var vo=typeof document>"u"?null:document;function zv(t,r,a){var l=vo;if(l&&typeof r=="string"&&r){var f=qn(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Pv.has(f)||(Pv.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),yn(r,"link",t),Ht(r),l.head.appendChild(r)))}}function Dw(t){Pr.D(t),zv("dns-prefetch",t,null)}function Rw(t,r){Pr.C(t,r),zv("preconnect",t,r)}function Iw(t,r,a){Pr.L(t,r,a);var l=vo;if(l&&t&&r){var f='link[rel="preload"][as="'+qn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+qn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+qn(a.imageSizes)+'"]')):f+='[href="'+qn(t)+'"]';var m=f;switch(r){case"style":m=bo(t);break;case"script":m=xo(t)}Ts.has(m)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Ts.set(m,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Kl(m))||r==="script"&&l.querySelector($l(m))||(r=l.createElement("link"),yn(r,"link",t),Ht(r),l.head.appendChild(r)))}}function jw(t,r){Pr.m(t,r);var a=vo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+qn(l)+'"][href="'+qn(t)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=xo(t)}if(!Ts.has(m)&&(t=E({rel:"modulepreload",href:t},r),Ts.set(m,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector($l(m)))return}l=a.createElement("link"),yn(l,"link",t),Ht(l),a.head.appendChild(l)}}}function kw(t,r,a){Pr.S(t,r,a);var l=vo;if(l&&t){var f=Ks(l).hoistableStyles,m=bo(t);r=r||"default";var b=f.get(m);if(!b){var w={loading:0,preload:null};if(b=l.querySelector(Kl(m)))w.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Ts.get(m))&&Nm(t,a);var I=b=l.createElement("link");Ht(I),yn(I,"link",t),I._p=new Promise(function(F,W){I.onload=F,I.onerror=W}),I.addEventListener("load",function(){w.loading|=1}),I.addEventListener("error",function(){w.loading|=2}),w.loading|=4,rd(b,r,l)}b={type:"stylesheet",instance:b,count:1,state:w},f.set(m,b)}}}function Mw(t,r){Pr.X(t,r);var a=vo;if(a&&t){var l=Ks(a).hoistableScripts,f=xo(t),m=l.get(f);m||(m=a.querySelector($l(f)),m||(t=E({src:t,async:!0},r),(r=Ts.get(f))&&Cm(t,r),m=a.createElement("script"),Ht(m),yn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Ow(t,r){Pr.M(t,r);var a=vo;if(a&&t){var l=Ks(a).hoistableScripts,f=xo(t),m=l.get(f);m||(m=a.querySelector($l(f)),m||(t=E({src:t,async:!0,type:"module"},r),(r=Ts.get(f))&&Cm(t,r),m=a.createElement("script"),Ht(m),yn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Uv(t,r,a,l){var f=(f=we.current)?sd(f):null;if(!f)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=bo(a.href),a=Ks(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=bo(a.href);var m=Ks(f).hoistableStyles,b=m.get(t);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=f.querySelector(Kl(t)))&&!m._p&&(b.instance=m,b.state.loading=5),Ts.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ts.set(t,a),m||Vw(f,t,a,b.state))),r&&l===null)throw Error(i(528,""));return b}if(r&&l!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=xo(a),a=Ks(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function bo(t){return'href="'+qn(t)+'"'}function Kl(t){return'link[rel="stylesheet"]['+t+"]"}function Fv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function Vw(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),yn(r,"link",a),Ht(r),t.head.appendChild(r))}function xo(t){return'[src="'+qn(t)+'"]'}function $l(t){return"script[async]"+t}function Hv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+qn(a.href)+'"]');if(l)return r.instance=l,Ht(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ht(l),yn(l,"style",f),rd(l,a.precedence,t),r.instance=l;case"stylesheet":f=bo(a.href);var m=t.querySelector(Kl(f));if(m)return r.state.loading|=4,r.instance=m,Ht(m),m;l=Fv(a),(f=Ts.get(f))&&Nm(l,f),m=(t.ownerDocument||t).createElement("link"),Ht(m);var b=m;return b._p=new Promise(function(w,I){b.onload=w,b.onerror=I}),yn(m,"link",l),r.state.loading|=4,rd(m,a.precedence,t),r.instance=m;case"script":return m=xo(a.src),(f=t.querySelector($l(m)))?(r.instance=f,Ht(f),f):(l=a,(f=Ts.get(m))&&(l=E({},a),Cm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ht(f),yn(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,rd(l,a.precedence,t));return r.instance}function rd(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,b=0;b<l.length;b++){var w=l[b];if(w.dataset.precedence===r)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Nm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Cm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var id=null;function qv(t,r,a){if(id===null){var l=new Map,f=id=new Map;f.set(a,l)}else f=id,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[Qs]||m[Ft]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(r)||"";b=t+b;var w=l.get(b);w?w.push(m):l.set(b,[m])}}return l}function Gv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function Lw(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Qv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Bw(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=bo(l.href),m=r.querySelector(Kl(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=ad.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=m,Ht(m);return}m=r.ownerDocument||r,l=Fv(l),(f=Ts.get(f))&&Nm(l,f),m=m.createElement("link"),Ht(m);var b=m;b._p=new Promise(function(w,I){b.onload=w,b.onerror=I}),yn(m,"link",l),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ad.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Dm=0;function Pw(t,r){return t.stylesheets&&t.count===0&&ld(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ld(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+r);0<t.imgBytes&&Dm===0&&(Dm=62500*bw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ld(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Dm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function ad(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ld(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var od=null;function ld(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,od=new Map,r.forEach(zw,t),od=null,ad.call(t))}function zw(t,r){if(!(r.state.loading&4)){var a=od.get(t);if(a)var l=a.get(null);else{a=new Map,od.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var b=f[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}f=r.instance,b=f.getAttribute("data-precedence"),m=a.get(b)||l,m===l&&a.set(null,f),a.set(b,f),this.count++,l=ad.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Xl={$$typeof:ee,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function Uw(t,r,a,l,f,m,b,w,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mt(0),this.hiddenUpdates=Mt(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Yv(t,r,a,l,f,m,b,w,I,F,W,Z){return t=new Uw(t,r,a,b,I,F,W,Z,w),r=1,m===!0&&(r|=24),m=is(3,null,null,r),t.current=m,m.stateNode=t,r=lf(),r.refCount++,t.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},hf(m),t}function Kv(t){return t?(t=Xa,t):Xa}function $v(t,r,a,l,f,m){f=Kv(f),l.context===null?l.context=f:l.pendingContext=f,l=ui(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=di(t,l,r),a!==null&&(Xn(a,t,r),Cl(a,t,r))}function Xv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Rm(t,r){Xv(t,r),(t=t.alternate)&&Xv(t,r)}function Wv(t){if(t.tag===13||t.tag===31){var r=ua(t,67108864);r!==null&&Xn(r,t,67108864),Rm(t,67108864)}}function Jv(t){if(t.tag===13||t.tag===31){var r=us();r=es(r);var a=ua(t,r);a!==null&&Xn(a,t,r),Rm(t,r)}}var cd=!0;function Fw(t,r,a,l){var f=X.T;X.T=null;var m=ce.p;try{ce.p=2,Im(t,r,a,l)}finally{ce.p=m,X.T=f}}function Hw(t,r,a,l){var f=X.T;X.T=null;var m=ce.p;try{ce.p=8,Im(t,r,a,l)}finally{ce.p=m,X.T=f}}function Im(t,r,a,l){if(cd){var f=jm(l);if(f===null)ym(t,r,l,ud,a),eb(t,l);else if(Gw(f,t,r,a,l))l.stopPropagation();else if(eb(t,l),r&4&&-1<qw.indexOf(t)){for(;f!==null;){var m=fs(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Tt(m.pendingLanes);if(b!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var I=1<<31-et(b);w.entanglements[1]|=I,b&=~I}or(m),(it&6)===0&&(Qu=zt()+500,ql(0))}}break;case 31:case 13:w=ua(m,2),w!==null&&Xn(w,m,2),Ku(),Rm(m,2)}if(m=jm(l),m===null&&ym(t,r,l,ud,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else ym(t,r,l,null,a)}}function jm(t){return t=ms(t),km(t)}var ud=null;function km(t){if(ud=null,t=Ys(t),t!==null){var r=c(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=p(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return ud=t,null}function Zv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ns()){case Hs:return 2;case $:return 8;case ne:case ye:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Mm=!1,Ei=null,wi=null,Ti=null,Wl=new Map,Jl=new Map,Si=[],qw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eb(t,r){switch(t){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":Wl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(r.pointerId)}}function Zl(t,r,a,l,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=fs(r),r!==null&&Wv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Gw(t,r,a,l,f){switch(r){case"focusin":return Ei=Zl(Ei,t,r,a,l,f),!0;case"dragenter":return wi=Zl(wi,t,r,a,l,f),!0;case"mouseover":return Ti=Zl(Ti,t,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return Wl.set(m,Zl(Wl.get(m)||null,t,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Jl.set(m,Zl(Jl.get(m)||null,t,r,a,l,f)),!0}return!1}function tb(t){var r=Ys(t.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,hn(t.priority,function(){Jv(a)});return}}else if(r===31){if(r=p(a),r!==null){t.blockedOn=r,hn(t.priority,function(){Jv(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dd(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=jm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);hl=l,a.target.dispatchEvent(l),hl=null}else return r=fs(a),r!==null&&Wv(r),t.blockedOn=a,!1;r.shift()}return!0}function nb(t,r,a){dd(t)&&a.delete(r)}function Qw(){Mm=!1,Ei!==null&&dd(Ei)&&(Ei=null),wi!==null&&dd(wi)&&(wi=null),Ti!==null&&dd(Ti)&&(Ti=null),Wl.forEach(nb),Jl.forEach(nb)}function hd(t,r){t.blockedOn===r&&(t.blockedOn=null,Mm||(Mm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Qw)))}var fd=null;function sb(t){fd!==t&&(fd=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){fd===t&&(fd=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(km(l||a)===null)continue;break}var m=fs(a);m!==null&&(t.splice(r,3),r-=3,jf(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function _o(t){function r(I){return hd(I,t)}Ei!==null&&hd(Ei,t),wi!==null&&hd(wi,t),Ti!==null&&hd(Ti,t),Wl.forEach(r),Jl.forEach(r);for(var a=0;a<Si.length;a++){var l=Si[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Si.length&&(a=Si[0],a.blockedOn===null);)tb(a),a.blockedOn===null&&Si.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],b=f[on]||null;if(typeof m=="function")b||sb(a);else if(b){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,b=m[on]||null)w=b.formAction;else if(km(f)!==null)continue}else w=b.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),sb(a)}}}function rb(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Om(t){this._internalRoot=t}md.prototype.render=Om.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,l=us();$v(a,l,t,r,null,null)},md.prototype.unmount=Om.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;$v(t.current,2,null,t,null,null),Ku(),r[Gs]=null}};function md(t){this._internalRoot=t}md.prototype.unstable_scheduleHydration=function(t){if(t){var r=ts();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Si.length&&r!==0&&r<Si[a].priority;a++);Si.splice(a,0,t),a===0&&tb(t)}};var ib=e.version;if(ib!=="19.2.3")throw Error(i(527,ib,"19.2.3"));ce.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=y(r),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var Yw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{st=pd.inject(Yw),ut=pd}catch{}}return tc.createRoot=function(t,r){if(!o(t))throw Error(i(299));var a=!1,l="",f=h0,m=f0,b=m0;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=Yv(t,1,!1,null,null,a,l,null,f,m,b,rb),t[Gs]=r.current,gm(t),new Om(r)},tc.hydrateRoot=function(t,r,a){if(!o(t))throw Error(i(299));var l=!1,f="",m=h0,b=f0,w=m0,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),r=Yv(t,1,!0,r,a??null,l,f,I,m,b,w,rb),r.context=Kv(null),a=r.current,l=us(),l=es(l),f=ui(l),f.callback=null,di(a,f,l),a=l,r.current.lanes=a,Hn(r,a),or(r),t[Gs]=r.current,gm(t),new md(r)},tc.version="19.2.3",tc}var pb;function sT(){if(pb)return Bm.exports;pb=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Bm.exports=nT(),Bm.exports}var rT=sT();let iT={data:""},aT=s=>{if(typeof window=="object"){let e=(s?s.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(s||document.head).appendChild(e),e.firstChild}return s||iT},oT=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,lT=/\/\*[^]*?\*\/|  +/g,gb=/\n+/g,Di=(s,e)=>{let n="",i="",o="";for(let c in s){let h=s[c];c[0]=="@"?c[1]=="i"?n=c+" "+h+";":i+=c[1]=="f"?Di(h,c):c+"{"+Di(h,c[1]=="k"?"":e)+"}":typeof h=="object"?i+=Di(h,e?e.replace(/([^,])+/g,p=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,g=>/&/.test(g)?g.replace(/&/g,p):p?p+" "+g:g)):c):h!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Di.p?Di.p(c,h):c+":"+h+";")}return n+(e&&o?e+"{"+o+"}":o)+i},zr={},u1=s=>{if(typeof s=="object"){let e="";for(let n in s)e+=n+u1(s[n]);return e}return s},cT=(s,e,n,i,o)=>{let c=u1(s),h=zr[c]||(zr[c]=(g=>{let y=0,_=11;for(;y<g.length;)_=101*_+g.charCodeAt(y++)>>>0;return"go"+_})(c));if(!zr[h]){let g=c!==s?s:(y=>{let _,E,A=[{}];for(;_=oT.exec(y.replace(lT,""));)_[4]?A.shift():_[3]?(E=_[3].replace(gb," ").trim(),A.unshift(A[0][E]=A[0][E]||{})):A[0][_[1]]=_[2].replace(gb," ").trim();return A[0]})(s);zr[h]=Di(o?{["@keyframes "+h]:g}:g,n?"":"."+h)}let p=n&&zr.g?zr.g:null;return n&&(zr.g=zr[h]),((g,y,_,E)=>{E?y.data=y.data.replace(E,g):y.data.indexOf(g)===-1&&(y.data=_?g+y.data:y.data+g)})(zr[h],e,i,p),h},uT=(s,e,n)=>s.reduce((i,o,c)=>{let h=e[c];if(h&&h.call){let p=h(n),g=p&&p.props&&p.props.className||/^go/.test(p)&&p;h=g?"."+g:p&&typeof p=="object"?p.props?"":Di(p,""):p===!1?"":p}return i+o+(h??"")},"");function uh(s){let e=this||{},n=s.call?s(e.p):s;return cT(n.unshift?n.raw?uT(n,[].slice.call(arguments,1),e.p):n.reduce((i,o)=>Object.assign(i,o&&o.call?o(e.p):o),{}):n,aT(e.target),e.g,e.o,e.k)}let d1,op,lp;uh.bind({g:1});let Hr=uh.bind({k:1});function dT(s,e,n,i){Di.p=e,d1=s,op=n,lp=i}function $i(s,e){let n=this||{};return function(){let i=arguments;function o(c,h){let p=Object.assign({},c),g=p.className||o.className;n.p=Object.assign({theme:op&&op()},p),n.o=/ *go\d+/.test(g),p.className=uh.apply(n,i)+(g?" "+g:"");let y=s;return s[0]&&(y=p.as||s,delete p.as),lp&&y[0]&&lp(p),d1(y,p)}return o}}var hT=s=>typeof s=="function",Ld=(s,e)=>hT(s)?s(e):s,fT=(()=>{let s=0;return()=>(++s).toString()})(),h1=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");s=!e||e.matches}return s}})(),mT=20,Fp="default",f1=(s,e)=>{let{toastLimit:n}=s.settings;switch(e.type){case 0:return{...s,toasts:[e.toast,...s.toasts].slice(0,n)};case 1:return{...s,toasts:s.toasts.map(h=>h.id===e.toast.id?{...h,...e.toast}:h)};case 2:let{toast:i}=e;return f1(s,{type:s.toasts.find(h=>h.id===i.id)?1:0,toast:i});case 3:let{toastId:o}=e;return{...s,toasts:s.toasts.map(h=>h.id===o||o===void 0?{...h,dismissed:!0,visible:!1}:h)};case 4:return e.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(h=>h.id!==e.toastId)};case 5:return{...s,pausedAt:e.time};case 6:let c=e.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+c}))}}},Sd=[],m1={toasts:[],pausedAt:void 0,settings:{toastLimit:mT}},cr={},p1=(s,e=Fp)=>{cr[e]=f1(cr[e]||m1,s),Sd.forEach(([n,i])=>{n===e&&i(cr[e])})},g1=s=>Object.keys(cr).forEach(e=>p1(s,e)),pT=s=>Object.keys(cr).find(e=>cr[e].toasts.some(n=>n.id===s)),dh=(s=Fp)=>e=>{p1(e,s)},gT={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},yT=(s={},e=Fp)=>{let[n,i]=O.useState(cr[e]||m1),o=O.useRef(cr[e]);O.useEffect(()=>(o.current!==cr[e]&&i(cr[e]),Sd.push([e,i]),()=>{let h=Sd.findIndex(([p])=>p===e);h>-1&&Sd.splice(h,1)}),[e]);let c=n.toasts.map(h=>{var p,g,y;return{...s,...s[h.type],...h,removeDelay:h.removeDelay||((p=s[h.type])==null?void 0:p.removeDelay)||s?.removeDelay,duration:h.duration||((g=s[h.type])==null?void 0:g.duration)||s?.duration||gT[h.type],style:{...s.style,...(y=s[h.type])==null?void 0:y.style,...h.style}}});return{...n,toasts:c}},vT=(s,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...n,id:n?.id||fT()}),jc=s=>(e,n)=>{let i=vT(e,s,n);return dh(i.toasterId||pT(i.id))({type:2,toast:i}),i.id},bt=(s,e)=>jc("blank")(s,e);bt.error=jc("error");bt.success=jc("success");bt.loading=jc("loading");bt.custom=jc("custom");bt.dismiss=(s,e)=>{let n={type:3,toastId:s};e?dh(e)(n):g1(n)};bt.dismissAll=s=>bt.dismiss(void 0,s);bt.remove=(s,e)=>{let n={type:4,toastId:s};e?dh(e)(n):g1(n)};bt.removeAll=s=>bt.remove(void 0,s);bt.promise=(s,e,n)=>{let i=bt.loading(e.loading,{...n,...n?.loading});return typeof s=="function"&&(s=s()),s.then(o=>{let c=e.success?Ld(e.success,o):void 0;return c?bt.success(c,{id:i,...n,...n?.success}):bt.dismiss(i),o}).catch(o=>{let c=e.error?Ld(e.error,o):void 0;c?bt.error(c,{id:i,...n,...n?.error}):bt.dismiss(i)}),s};var bT=1e3,xT=(s,e="default")=>{let{toasts:n,pausedAt:i}=yT(s,e),o=O.useRef(new Map).current,c=O.useCallback((E,A=bT)=>{if(o.has(E))return;let j=setTimeout(()=>{o.delete(E),h({type:4,toastId:E})},A);o.set(E,j)},[]);O.useEffect(()=>{if(i)return;let E=Date.now(),A=n.map(j=>{if(j.duration===1/0)return;let z=(j.duration||0)+j.pauseDuration-(E-j.createdAt);if(z<0){j.visible&&bt.dismiss(j.id);return}return setTimeout(()=>bt.dismiss(j.id,e),z)});return()=>{A.forEach(j=>j&&clearTimeout(j))}},[n,i,e]);let h=O.useCallback(dh(e),[e]),p=O.useCallback(()=>{h({type:5,time:Date.now()})},[h]),g=O.useCallback((E,A)=>{h({type:1,toast:{id:E,height:A}})},[h]),y=O.useCallback(()=>{i&&h({type:6,time:Date.now()})},[i,h]),_=O.useCallback((E,A)=>{let{reverseOrder:j=!1,gutter:z=8,defaultPosition:G}=A||{},q=n.filter(ee=>(ee.position||G)===(E.position||G)&&ee.height),re=q.findIndex(ee=>ee.id===E.id),oe=q.filter((ee,se)=>se<re&&ee.visible).length;return q.filter(ee=>ee.visible).slice(...j?[oe+1]:[0,oe]).reduce((ee,se)=>ee+(se.height||0)+z,0)},[n]);return O.useEffect(()=>{n.forEach(E=>{if(E.dismissed)c(E.id,E.removeDelay);else{let A=o.get(E.id);A&&(clearTimeout(A),o.delete(E.id))}})},[n,c]),{toasts:n,handlers:{updateHeight:g,startPause:p,endPause:y,calculateOffset:_}}},_T=Hr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ET=Hr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,wT=Hr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,TT=$i("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_T} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ET} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${wT} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ST=Hr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,AT=$i("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${ST} 1s linear infinite;
`,NT=Hr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,CT=Hr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,DT=$i("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${NT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${CT} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,RT=$i("div")`
  position: absolute;
`,IT=$i("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,jT=Hr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,kT=$i("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${jT} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,MT=({toast:s})=>{let{icon:e,type:n,iconTheme:i}=s;return e!==void 0?typeof e=="string"?O.createElement(kT,null,e):e:n==="blank"?null:O.createElement(IT,null,O.createElement(AT,{...i}),n!=="loading"&&O.createElement(RT,null,n==="error"?O.createElement(TT,{...i}):O.createElement(DT,{...i})))},OT=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,VT=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,LT="0%{opacity:0;} 100%{opacity:1;}",BT="0%{opacity:1;} 100%{opacity:0;}",PT=$i("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,zT=$i("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,UT=(s,e)=>{let n=s.includes("top")?1:-1,[i,o]=h1()?[LT,BT]:[OT(n),VT(n)];return{animation:e?`${Hr(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Hr(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},FT=O.memo(({toast:s,position:e,style:n,children:i})=>{let o=s.height?UT(s.position||e||"top-center",s.visible):{opacity:0},c=O.createElement(MT,{toast:s}),h=O.createElement(zT,{...s.ariaProps},Ld(s.message,s));return O.createElement(PT,{className:s.className,style:{...o,...n,...s.style}},typeof i=="function"?i({icon:c,message:h}):O.createElement(O.Fragment,null,c,h))});dT(O.createElement);var HT=({id:s,className:e,style:n,onHeightUpdate:i,children:o})=>{let c=O.useCallback(h=>{if(h){let p=()=>{let g=h.getBoundingClientRect().height;i(s,g)};p(),new MutationObserver(p).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[s,i]);return O.createElement("div",{ref:c,className:e,style:n},o)},qT=(s,e)=>{let n=s.includes("top"),i=n?{top:0}:{bottom:0},o=s.includes("center")?{justifyContent:"center"}:s.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:h1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...i,...o}},GT=uh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,gd=16,QT=({reverseOrder:s,position:e="top-center",toastOptions:n,gutter:i,children:o,toasterId:c,containerStyle:h,containerClassName:p})=>{let{toasts:g,handlers:y}=xT(n,c);return O.createElement("div",{"data-rht-toaster":c||"",style:{position:"fixed",zIndex:9999,top:gd,left:gd,right:gd,bottom:gd,pointerEvents:"none",...h},className:p,onMouseEnter:y.startPause,onMouseLeave:y.endPause},g.map(_=>{let E=_.position||e,A=y.calculateOffset(_,{reverseOrder:s,gutter:i,defaultPosition:e}),j=qT(E,A);return O.createElement(HT,{id:_.id,key:_.id,onHeightUpdate:y.updateHeight,className:_.visible?GT:"",style:j},_.type==="custom"?Ld(_.message,_):o?o(_):O.createElement(FT,{toast:_,position:E}))}))},Zt=bt;const YT=()=>{};var yb={};const y1=function(s){const e=[];let n=0;for(let i=0;i<s.length;i++){let o=s.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},KT=function(s){const e=[];let n=0,i=0;for(;n<s.length;){const o=s[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[n++];e[i++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[n++],h=s[n++],p=s[n++],g=((o&7)<<18|(c&63)<<12|(h&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],h=s[n++];e[i++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},v1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<s.length;o+=3){const c=s[o],h=o+1<s.length,p=h?s[o+1]:0,g=o+2<s.length,y=g?s[o+2]:0,_=c>>2,E=(c&3)<<4|p>>4;let A=(p&15)<<2|y>>6,j=y&63;g||(j=64,h||(A=64)),i.push(n[_],n[E],n[A],n[j])}return i.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(y1(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):KT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<s.length;){const c=n[s.charAt(o++)],p=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const E=o<s.length?n[s.charAt(o)]:64;if(++o,c==null||p==null||y==null||E==null)throw new $T;const A=c<<2|p>>4;if(i.push(A),y!==64){const j=p<<4&240|y>>2;if(i.push(j),E!==64){const z=y<<6&192|E;i.push(z)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class $T extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XT=function(s){const e=y1(s);return v1.encodeByteArray(e,!0)},Bd=function(s){return XT(s).replace(/\./g,"")},b1=function(s){try{return v1.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function WT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const JT=()=>WT().__FIREBASE_DEFAULTS__,ZT=()=>{if(typeof process>"u"||typeof yb>"u")return;const s=yb.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},eS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&b1(s[1]);return e&&JSON.parse(e)},hh=()=>{try{return YT()||JT()||ZT()||eS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},x1=s=>hh()?.emulatorHosts?.[s],tS=s=>{const e=x1(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},_1=()=>hh()?.config,E1=s=>hh()?.[`_${s}`];class nS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function qo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function w1(s){return(await fetch(s,{credentials:"include"})).ok}function sS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Bd(JSON.stringify(n)),Bd(JSON.stringify(h)),""].join(".")}const cc={};function rS(){const s={prod:[],emulator:[]};for(const e of Object.keys(cc))cc[e]?s.emulator.push(e):s.prod.push(e);return s}function iS(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let vb=!1;function T1(s,e){if(typeof window>"u"||typeof document>"u"||!qo(window.location.host)||cc[s]===e||cc[s]||vb)return;cc[s]=e;function n(A){return`__firebase__banner__${A}`}const i="__firebase__banner",c=rS().prod.length>0;function h(){const A=document.getElementById(i);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,j){A.setAttribute("width","24"),A.setAttribute("id",j),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{vb=!0,h()},A}function _(A,j){A.setAttribute("id",j),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=iS(i),j=n("text"),z=document.getElementById(j)||document.createElement("span"),G=n("learnmore"),q=document.getElementById(G)||document.createElement("a"),re=n("preprendIcon"),oe=document.getElementById(re)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ee=A.element;p(ee),_(q,G);const se=y();g(oe,re),ee.append(oe,z,q,se),document.body.appendChild(ee)}c?(z.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function oS(){const s=hh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function uS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dS(){const s=Rn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function hS(){return!oS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fS(){try{return typeof indexedDB=="object"}catch{return!1}}function mS(){return new Promise((s,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const pS="FirebaseError";class Kr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=pS,Object.setPrototypeOf(this,Kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kc.prototype.create)}}class kc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?gS(c,i):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new Kr(o,p,i)}}function gS(s,e){return s.replace(yS,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const yS=/\{\$([^}]+)}/g;function vS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ui(s,e){if(s===e)return!0;const n=Object.keys(s),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const c=s[o],h=e[o];if(bb(c)&&bb(h)){if(!Ui(c,h))return!1}else if(c!==h)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function bb(s){return s!==null&&typeof s=="object"}function Mc(s){const e=[];for(const[n,i]of Object.entries(s))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function nc(s){const e={};return s.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,c]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function sc(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function bS(s,e){const n=new xS(s,e);return n.subscribe.bind(n)}class xS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");_S(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Fm),o.error===void 0&&(o.error=Fm),o.complete===void 0&&(o.complete=Fm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _S(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Fm(){}function In(s){return s&&s._delegate?s._delegate:s}class Ca{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ta="[DEFAULT]";class ES{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new nS;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TS(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});i.resolve(c)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[c,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);i===p&&h.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const c=this.instances.get(i);return c&&e(c,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:wS(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wS(s){return s===Ta?void 0:s}function TS(s){return s.instantiationMode==="EAGER"}class SS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ES(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ke;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ke||(Ke={}));const AS={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},NS=Ke.INFO,CS={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},DS=(s,e,...n)=>{if(e<s.logLevel)return;const i=new Date().toISOString(),o=CS[e];if(o)console[o](`[${i}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hp{constructor(e){this.name=e,this._logLevel=NS,this._logHandler=DS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const RS=(s,e)=>e.some(n=>s instanceof n);let xb,_b;function IS(){return xb||(xb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jS(){return _b||(_b=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S1=new WeakMap,cp=new WeakMap,A1=new WeakMap,Hm=new WeakMap,qp=new WeakMap;function kS(s){const e=new Promise((n,i)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",h)},c=()=>{n(Oi(s.result)),o()},h=()=>{i(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&S1.set(n,s)}).catch(()=>{}),qp.set(e,s),e}function MS(s){if(cp.has(s))return;const e=new Promise((n,i)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",h),s.removeEventListener("abort",h)},c=()=>{n(),o()},h=()=>{i(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",h),s.addEventListener("abort",h)});cp.set(s,e)}let up={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return cp.get(s);if(e==="objectStoreNames")return s.objectStoreNames||A1.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oi(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function OS(s){up=s(up)}function VS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=s.call(qm(this),e,...n);return A1.set(i,e.sort?e.sort():[e]),Oi(i)}:jS().includes(s)?function(...e){return s.apply(qm(this),e),Oi(S1.get(this))}:function(...e){return Oi(s.apply(qm(this),e))}}function LS(s){return typeof s=="function"?VS(s):(s instanceof IDBTransaction&&MS(s),RS(s,IS())?new Proxy(s,up):s)}function Oi(s){if(s instanceof IDBRequest)return kS(s);if(Hm.has(s))return Hm.get(s);const e=LS(s);return e!==s&&(Hm.set(s,e),qp.set(e,s)),e}const qm=s=>qp.get(s);function BS(s,e,{blocked:n,upgrade:i,blocking:o,terminated:c}={}){const h=indexedDB.open(s,e),p=Oi(h);return i&&h.addEventListener("upgradeneeded",g=>{i(Oi(h.result),g.oldVersion,g.newVersion,Oi(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const PS=["get","getKey","getAll","getAllKeys","count"],zS=["put","add","delete","clear"],Gm=new Map;function Eb(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Gm.get(e))return Gm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=zS.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||PS.includes(n)))return;const c=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Gm.set(e,c),c}OS(s=>({...s,get:(e,n,i)=>Eb(e,n)||s.get(e,n,i),has:(e,n)=>!!Eb(e,n)||s.has(e,n)}));class US{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FS(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function FS(s){return s.getComponent()?.type==="VERSION"}const dp="@firebase/app",wb="0.14.6";const qr=new Hp("@firebase/app"),HS="@firebase/app-compat",qS="@firebase/analytics-compat",GS="@firebase/analytics",QS="@firebase/app-check-compat",YS="@firebase/app-check",KS="@firebase/auth",$S="@firebase/auth-compat",XS="@firebase/database",WS="@firebase/data-connect",JS="@firebase/database-compat",ZS="@firebase/functions",eA="@firebase/functions-compat",tA="@firebase/installations",nA="@firebase/installations-compat",sA="@firebase/messaging",rA="@firebase/messaging-compat",iA="@firebase/performance",aA="@firebase/performance-compat",oA="@firebase/remote-config",lA="@firebase/remote-config-compat",cA="@firebase/storage",uA="@firebase/storage-compat",dA="@firebase/firestore",hA="@firebase/ai",fA="@firebase/firestore-compat",mA="firebase",pA="12.6.0";const hp="[DEFAULT]",gA={[dp]:"fire-core",[HS]:"fire-core-compat",[GS]:"fire-analytics",[qS]:"fire-analytics-compat",[YS]:"fire-app-check",[QS]:"fire-app-check-compat",[KS]:"fire-auth",[$S]:"fire-auth-compat",[XS]:"fire-rtdb",[WS]:"fire-data-connect",[JS]:"fire-rtdb-compat",[ZS]:"fire-fn",[eA]:"fire-fn-compat",[tA]:"fire-iid",[nA]:"fire-iid-compat",[sA]:"fire-fcm",[rA]:"fire-fcm-compat",[iA]:"fire-perf",[aA]:"fire-perf-compat",[oA]:"fire-rc",[lA]:"fire-rc-compat",[cA]:"fire-gcs",[uA]:"fire-gcs-compat",[dA]:"fire-fst",[fA]:"fire-fst-compat",[hA]:"fire-vertex","fire-js":"fire-js",[mA]:"fire-js-all"};const Pd=new Map,yA=new Map,fp=new Map;function Tb(s,e){try{s.container.addComponent(e)}catch(n){qr.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Oo(s){const e=s.name;if(fp.has(e))return qr.debug(`There were multiple attempts to register component ${e}.`),!1;fp.set(e,s);for(const n of Pd.values())Tb(n,s);for(const n of yA.values())Tb(n,s);return!0}function Gp(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Vs(s){return s==null?!1:s.settings!==void 0}const vA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vi=new kc("app","Firebase",vA);class bA{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}const Go=pA;function N1(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const i={name:hp,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Vi.create("bad-app-name",{appName:String(o)});if(n||(n=_1()),!n)throw Vi.create("no-options");const c=Pd.get(o);if(c){if(Ui(n,c.options)&&Ui(i,c.config))return c;throw Vi.create("duplicate-app",{appName:o})}const h=new SS(o);for(const g of fp.values())h.addComponent(g);const p=new bA(n,i,h);return Pd.set(o,p),p}function C1(s=hp){const e=Pd.get(s);if(!e&&s===hp&&_1())return N1();if(!e)throw Vi.create("no-app",{appName:s});return e}function Li(s,e,n){let i=gA[s]??s;n&&(i+=`-${n}`);const o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qr.warn(h.join(" "));return}Oo(new Ca(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const xA="firebase-heartbeat-database",_A=1,vc="firebase-heartbeat-store";let Qm=null;function D1(){return Qm||(Qm=BS(xA,_A,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(vc)}catch(n){console.warn(n)}}}}).catch(s=>{throw Vi.create("idb-open",{originalErrorMessage:s.message})})),Qm}async function EA(s){try{const n=(await D1()).transaction(vc),i=await n.objectStore(vc).get(R1(s));return await n.done,i}catch(e){if(e instanceof Kr)qr.warn(e.message);else{const n=Vi.create("idb-get",{originalErrorMessage:e?.message});qr.warn(n.message)}}}async function Sb(s,e){try{const i=(await D1()).transaction(vc,"readwrite");await i.objectStore(vc).put(e,R1(s)),await i.done}catch(n){if(n instanceof Kr)qr.warn(n.message);else{const i=Vi.create("idb-set",{originalErrorMessage:n?.message});qr.warn(i.message)}}}function R1(s){return`${s.name}!${s.options.appId}`}const wA=1024,TA=30;class SA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NA(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ab();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>TA){const o=CA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ab(),{heartbeatsToSend:n,unsentEntries:i}=AA(this._heartbeatsCache.heartbeats),o=Bd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return qr.warn(e),""}}}function Ab(){return new Date().toISOString().substring(0,10)}function AA(s,e=wA){const n=[];let i=s.slice();for(const o of s){const c=n.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),Nb(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Nb(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class NA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fS()?mS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await EA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Sb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Sb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Nb(s){return Bd(JSON.stringify({version:2,heartbeats:s})).length}function CA(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let i=1;i<s.length;i++)s[i].date<n&&(n=s[i].date,e=i);return e}function DA(s){Oo(new Ca("platform-logger",e=>new US(e),"PRIVATE")),Oo(new Ca("heartbeat",e=>new SA(e),"PRIVATE")),Li(dp,wb,s),Li(dp,wb,"esm2020"),Li("fire-js","")}DA("");function I1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RA=I1,j1=new kc("auth","Firebase",I1());const zd=new Hp("@firebase/auth");function IA(s,...e){zd.logLevel<=Ke.WARN&&zd.warn(`Auth (${Go}): ${s}`,...e)}function Ad(s,...e){zd.logLevel<=Ke.ERROR&&zd.error(`Auth (${Go}): ${s}`,...e)}function Bs(s,...e){throw Qp(s,...e)}function ur(s,...e){return Qp(s,...e)}function k1(s,e,n){const i={...RA(),[e]:n};return new kc("auth","Firebase",i).create(e,{appName:s.name})}function Bi(s){return k1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qp(s,...e){if(typeof s!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(n,...i)}return j1.create(s,...e)}function Re(s,e,...n){if(!s)throw Qp(e,...n)}function Ur(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Ad(e),new Error(e)}function Gr(s,e){s||Ur(e)}function mp(){return typeof self<"u"&&self.location?.href||""}function jA(){return Cb()==="http:"||Cb()==="https:"}function Cb(){return typeof self<"u"&&self.location?.protocol||null}function kA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jA()||cS()||"connection"in navigator)?navigator.onLine:!0}function MA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Oc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gr(n>e,"Short delay should be less than long delay!"),this.isMobile=aS()||uS()}get(){return kA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Yp(s,e){Gr(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class M1{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const OA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const VA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LA=new Oc(3e4,6e4);function ja(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Xi(s,e,n,i,o={}){return O1(s,o,async()=>{let c={},h={};i&&(e==="GET"?h=i:c={body:JSON.stringify(i)});const p=Mc({key:s.config.apiKey,...h}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...c};return lS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&qo(s.emulatorConfig.host)&&(y.credentials="include"),M1.fetch()(await V1(s,s.config.apiHost,n,p),y)})}async function O1(s,e,n){s._canInitEmulator=!1;const i={...OA,...e};try{const o=new PA(s),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw yd(s,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const p=c.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw yd(s,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw yd(s,"email-already-in-use",h);if(g==="USER_DISABLED")throw yd(s,"user-disabled",h);const _=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw k1(s,_,y);Bs(s,_)}}catch(o){if(o instanceof Kr)throw o;Bs(s,"network-request-failed",{message:String(o)})}}async function fh(s,e,n,i,o={}){const c=await Xi(s,e,n,i,o);return"mfaPendingCredential"in c&&Bs(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function V1(s,e,n,i){const o=`${e}${n}?${i}`,c=s,h=c.config.emulator?Yp(s.config,o):`${s.config.apiScheme}://${o}`;return VA.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function BA(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ur(this.auth,"network-request-failed")),LA.get())})}}function yd(s,e,n){const i={appName:s.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=ur(s,e,i);return o.customData._tokenResponse=n,o}function Db(s){return s!==void 0&&s.enterprise!==void 0}class zA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return BA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function UA(s,e){return Xi(s,"GET","/v2/recaptchaConfig",ja(s,e))}async function FA(s,e){return Xi(s,"POST","/v1/accounts:delete",e)}async function Ud(s,e){return Xi(s,"POST","/v1/accounts:lookup",e)}function uc(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HA(s,e=!1){const n=In(s),i=await n.getIdToken(e),o=Kp(i);Re(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:i,authTime:uc(Ym(o.auth_time)),issuedAtTime:uc(Ym(o.iat)),expirationTime:uc(Ym(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ym(s){return Number(s)*1e3}function Kp(s){const[e,n,i]=s.split(".");if(e===void 0||n===void 0||i===void 0)return Ad("JWT malformed, contained fewer than 3 sections"),null;try{const o=b1(n);return o?JSON.parse(o):(Ad("Failed to decode base64 JWT payload"),null)}catch(o){return Ad("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Rb(s){const e=Kp(s);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function bc(s,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Kr&&qA(i)&&s.auth.currentUser===s&&await s.auth.signOut(),i}}function qA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class GA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class pp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uc(this.lastLoginAt),this.creationTime=uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fd(s){const e=s.auth,n=await s.getIdToken(),i=await bc(s,Ud(e,{idToken:n}));Re(i?.users.length,e,"internal-error");const o=i.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?L1(o.providerUserInfo):[],h=YA(s.providerData,c),p=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!h?.length,y=p?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new pp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,_)}async function QA(s){const e=In(s);await Fd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YA(s,e){return[...s.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function L1(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function KA(s,e){const n=await O1(s,{},async()=>{const i=Mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,h=await V1(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:i};return s.emulatorConfig&&qo(s.emulatorConfig.host)&&(g.credentials="include"),M1.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $A(s,e){return Xi(s,"POST","/v2/accounts:revokeToken",ja(s,e))}class No{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=Rb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:c}=await KA(e,n);this.updateTokensAndExpiration(i,o,Number(c))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:c}=n,h=new No;return i&&(Re(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(Re(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Re(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new No,this.toJSON())}_performRefresh(){return Ur("not implemented")}}function Ni(s,e){Re(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Ls{constructor({uid:e,auth:n,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new GA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await bc(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HA(this,e)}reload(){return QA(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ls({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Fd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vs(this.auth.app))return Promise.reject(Bi(this.auth));const e=await this.getIdToken();return await bc(this,FA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:E,emailVerified:A,isAnonymous:j,providerData:z,stsTokenManager:G}=n;Re(E&&G,e,"internal-error");const q=No.fromJSON(this.name,G);Re(typeof E=="string",e,"internal-error"),Ni(i,e.name),Ni(o,e.name),Re(typeof A=="boolean",e,"internal-error"),Re(typeof j=="boolean",e,"internal-error"),Ni(c,e.name),Ni(h,e.name),Ni(p,e.name),Ni(g,e.name),Ni(y,e.name),Ni(_,e.name);const re=new Ls({uid:E,auth:e,email:o,emailVerified:A,displayName:i,isAnonymous:j,photoURL:h,phoneNumber:c,tenantId:p,stsTokenManager:q,createdAt:y,lastLoginAt:_});return z&&Array.isArray(z)&&(re.providerData=z.map(oe=>({...oe}))),g&&(re._redirectEventId=g),re}static async _fromIdTokenResponse(e,n,i=!1){const o=new No;o.updateFromServerResponse(n);const c=new Ls({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Fd(c),c}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];Re(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?L1(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,p=new No;p.updateFromIdToken(i);const g=new Ls({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new pp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const Ib=new Map;function Fr(s){Gr(s instanceof Function,"Expected a class definition");let e=Ib.get(s);return e?(Gr(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Ib.set(s,e),e)}class B1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}B1.type="NONE";const jb=B1;function Nd(s,e,n){return`firebase:${s}:${e}:${n}`}class Co{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:c}=this.auth;this.fullUserKey=Nd(this.userKey,o.apiKey,c),this.fullPersistenceKey=Nd("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ud(this.auth,{idToken:e}).catch(()=>{});return n?Ls._fromGetAccountInfoResponse(this.auth,n,e):null}return Ls._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Co(Fr(jb),e,i);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Fr(jb);const h=Nd(i,e.config.apiKey,e.name);let p=null;for(const y of n)try{const _=await y._get(h);if(_){let E;if(typeof _=="string"){const A=await Ud(e,{idToken:_}).catch(()=>{});if(!A)break;E=await Ls._fromGetAccountInfoResponse(e,A,_)}else E=Ls._fromJSON(e,_);y!==c&&(p=E),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Co(c,e,i):(c=g[0],p&&await c._set(h,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new Co(c,e,i))}}function kb(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(F1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(q1(e))return"Blackberry";if(G1(e))return"Webos";if(z1(e))return"Safari";if((e.includes("chrome/")||U1(e))&&!e.includes("edge/"))return"Chrome";if(H1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=s.match(n);if(i?.length===2)return i[1]}return"Other"}function P1(s=Rn()){return/firefox\//i.test(s)}function z1(s=Rn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function U1(s=Rn()){return/crios\//i.test(s)}function F1(s=Rn()){return/iemobile/i.test(s)}function H1(s=Rn()){return/android/i.test(s)}function q1(s=Rn()){return/blackberry/i.test(s)}function G1(s=Rn()){return/webos/i.test(s)}function $p(s=Rn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function XA(s=Rn()){return $p(s)&&!!window.navigator?.standalone}function WA(){return dS()&&document.documentMode===10}function Q1(s=Rn()){return $p(s)||H1(s)||G1(s)||q1(s)||/windows phone/i.test(s)||F1(s)}function Y1(s,e=[]){let n;switch(s){case"Browser":n=kb(Rn());break;case"Worker":n=`${kb(Rn())}-${s}`;break;default:n=s}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Go}/${i}`}class JA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=c=>new Promise((h,p)=>{try{const g=e(c);h(g)}catch(g){p(g)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function ZA(s,e={}){return Xi(s,"GET","/v2/passwordPolicy",ja(s,e))}const eN=6;class tN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??eN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class nN{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mb(this),this.idTokenSubscription=new Mb(this),this.beforeStateQueue=new JA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ud(this,{idToken:e}),i=await Ls._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vs(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=i?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&p?.user&&(i=p.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vs(this.app))return Promise.reject(Bi(this));const n=e?In(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vs(this.app)?Promise.reject(Bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vs(this.app)?Promise.reject(Bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZA(this),n=new tN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new kc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await $A(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fr(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[Fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(p,this,"internal-error"),p.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,i,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Y1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Vs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&IA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Qo(s){return In(s)}class Mb{constructor(e){this.auth=e,this.observer=null,this.addObserver=bS(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sN(s){mh=s}function K1(s){return mh.loadJS(s)}function rN(){return mh.recaptchaEnterpriseScript}function iN(){return mh.gapiScript}function aN(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class oN{constructor(){this.enterprise=new lN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class lN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const cN="recaptcha-enterprise",$1="NO_RECAPTCHA";class uN{constructor(e){this.type=cN,this.auth=Qo(e)}async verify(e="verify",n=!1){async function i(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,p)=>{UA(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new zA(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function o(c,h,p){const g=window.grecaptcha;Db(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h($1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oN().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{i(this.auth).then(p=>{if(!n&&Db(window.grecaptcha))o(p,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=rN();g.length!==0&&(g+=p),K1(g).then(()=>{o(p,c,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function Ob(s,e,n,i=!1,o=!1){const c=new uN(s);let h;if(o)h=$1;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Vb(s,e,n,i,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Ob(s,e,n,n==="getOobCode");return i(s,c)}else return i(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Ob(s,e,n,n==="getOobCode");return i(s,h)}else return Promise.reject(c)})}function dN(s,e){const n=Gp(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Ui(c,e??{}))return o;Bs(o,"already-initialized")}return n.initialize({options:e})}function hN(s,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Fr);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(i,e?.popupRedirectResolver)}function fN(s,e,n){const i=Qo(s);Re(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,c=X1(e),{host:h,port:p}=mN(e),g=p===null?"":`:${p}`,y={url:`${c}//${h}${g}/`},_=Object.freeze({host:h,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Re(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Re(Ui(y,i.config.emulator)&&Ui(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,qo(h)?(w1(`${c}//${h}${g}`),T1("Auth",!0)):pN()}function X1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function mN(s){const e=X1(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const c=o[1];return{host:c,port:Lb(i.substr(c.length+1))}}else{const[c,h]=i.split(":");return{host:c,port:Lb(h)}}}function Lb(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function pN(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Xp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,n){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}async function gN(s,e){return Xi(s,"POST","/v1/accounts:signUp",e)}async function yN(s,e){return fh(s,"POST","/v1/accounts:signInWithPassword",ja(s,e))}async function vN(s,e){return fh(s,"POST","/v1/accounts:signInWithEmailLink",ja(s,e))}async function bN(s,e){return fh(s,"POST","/v1/accounts:signInWithEmailLink",ja(s,e))}class xc extends Xp{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new xc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new xc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vb(e,n,"signInWithPassword",yN);case"emailLink":return vN(e,{email:this._email,oobCode:this._password});default:Bs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vb(e,i,"signUpPassword",gN);case"emailLink":return bN(e,{idToken:n,email:this._email,oobCode:this._password});default:Bs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Do(s,e){return fh(s,"POST","/v1/accounts:signInWithIdp",ja(s,e))}const xN="http://localhost";class Da extends Xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...c}=n;if(!i||!o)return null;const h=new Da(i,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Do(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Do(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Do(e,n)}buildRequest(){const e={requestUri:xN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mc(n)}return e}}function _N(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EN(s){const e=nc(sc(s)).link,n=e?nc(sc(e)).deep_link_id:null,i=nc(sc(s)).deep_link_id;return(i?nc(sc(i)).link:null)||i||n||e||s}class Wp{constructor(e){const n=nc(sc(e)),i=n.apiKey??null,o=n.oobCode??null,c=_N(n.mode??null);Re(i&&o&&c,"argument-error"),this.apiKey=i,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=EN(e);try{return new Wp(n)}catch{return null}}}class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(e,n){return xc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Wp.parseLink(n);return Re(i,"argument-error"),xc._fromEmailAndCode(e,i.code,i.tenantId)}}Yo.PROVIDER_ID="password";Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class W1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vc extends W1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ri extends Vc{constructor(){super("facebook.com")}static credential(e){return Da._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ri.credential(e.oauthAccessToken)}catch{return null}}}Ri.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ri.PROVIDER_ID="facebook.com";class Ii extends Vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Da._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ii.credential(n,i)}catch{return null}}}Ii.GOOGLE_SIGN_IN_METHOD="google.com";Ii.PROVIDER_ID="google.com";class ji extends Vc{constructor(){super("github.com")}static credential(e){return Da._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.GITHUB_SIGN_IN_METHOD="github.com";ji.PROVIDER_ID="github.com";class ki extends Vc{constructor(){super("twitter.com")}static credential(e,n){return Da._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ki.credential(n,i)}catch{return null}}}ki.TWITTER_SIGN_IN_METHOD="twitter.com";ki.PROVIDER_ID="twitter.com";class Vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const c=await Ls._fromIdTokenResponse(e,i,o),h=Bb(i);return new Vo({user:c,providerId:h,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=Bb(i);return new Vo({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function Bb(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Hd extends Kr{constructor(e,n,i,o){super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Hd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new Hd(e,n,i,o)}}function J1(s,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Hd._fromErrorAndOperation(s,c,e,i):c})}async function wN(s,e,n=!1){const i=await bc(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Vo._forOperation(s,"link",i)}async function TN(s,e,n=!1){const{auth:i}=s;if(Vs(i.app))return Promise.reject(Bi(i));const o="reauthenticate";try{const c=await bc(s,J1(i,o,e,s),n);Re(c.idToken,i,"internal-error");const h=Kp(c.idToken);Re(h,i,"internal-error");const{sub:p}=h;return Re(s.uid===p,i,"user-mismatch"),Vo._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Bs(i,"user-mismatch"),c}}async function Z1(s,e,n=!1){if(Vs(s.app))return Promise.reject(Bi(s));const i="signIn",o=await J1(s,i,e),c=await Vo._fromIdTokenResponse(s,i,o);return n||await s._updateCurrentUser(c.user),c}async function SN(s,e){return Z1(Qo(s),e)}async function AN(s){const e=Qo(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function NN(s,e,n){return Vs(s.app)?Promise.reject(Bi(s)):SN(In(s),Yo.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&AN(s),i})}function CN(s,e,n,i){return In(s).onIdTokenChanged(e,n,i)}function DN(s,e,n){return In(s).beforeAuthStateChanged(e,n)}function RN(s,e,n,i){return In(s).onAuthStateChanged(e,n,i)}const qd="__sak";class e_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qd,"1"),this.storage.removeItem(qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const IN=1e3,jN=10;class t_ extends e_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Q1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!n&&this.localCache[i]===h||this.notifyListeners(i,h)},c=this.storage.getItem(i);WA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,jN):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},IN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}t_.type="LOCAL";const kN=t_;class n_ extends e_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}n_.type="SESSION";const s_=n_;function MN(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new ph(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:c}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const p=Array.from(h).map(async y=>y(n.origin,c)),g=await MN(p);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];function Jp(s="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return s+n}class ON{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((p,g)=>{const y=Jp("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(E){const A=E;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(A.data.response);break;default:clearTimeout(_),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function dr(){return window}function VN(s){dr().location.href=s}function r_(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function LN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BN(){return navigator?.serviceWorker?.controller||null}function PN(){return r_()?self:null}const i_="firebaseLocalStorageDb",zN=1,Gd="firebaseLocalStorage",a_="fbase_key";class Lc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gh(s,e){return s.transaction([Gd],e?"readwrite":"readonly").objectStore(Gd)}function UN(){const s=indexedDB.deleteDatabase(i_);return new Lc(s).toPromise()}function gp(){const s=indexedDB.open(i_,zN);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const i=s.result;try{i.createObjectStore(Gd,{keyPath:a_})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const i=s.result;i.objectStoreNames.contains(Gd)?e(i):(i.close(),await UN(),e(await gp()))})})}async function Pb(s,e,n){const i=gh(s,!0).put({[a_]:e,value:n});return new Lc(i).toPromise()}async function FN(s,e){const n=gh(s,!1).get(e),i=await new Lc(n).toPromise();return i===void 0?null:i.value}function zb(s,e){const n=gh(s,!0).delete(e);return new Lc(n).toPromise()}const HN=800,qN=3;class o_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>qN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(PN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LN(),!this.activeServiceWorker)return;this.sender=new ON(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gp();return await Pb(e,qd,"1"),await zb(e,qd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Pb(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>FN(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=gh(o,!1).getAll();return new Lc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o_.type="LOCAL";const GN=o_;new Oc(3e4,6e4);function QN(s,e){return e?Fr(e):(Re(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Zp extends Xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Do(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YN(s){return Z1(s.auth,new Zp(s),s.bypassAuthState)}function KN(s){const{auth:e,user:n}=s;return Re(n,e,"internal-error"),TN(n,new Zp(s),s.bypassAuthState)}async function $N(s){const{auth:e,user:n}=s;return Re(n,e,"internal-error"),wN(n,new Zp(s),s.bypassAuthState)}class l_{constructor(e,n,i,o,c=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:c,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:i,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YN;case"linkViaPopup":case"linkViaRedirect":return $N;case"reauthViaPopup":case"reauthViaRedirect":return KN;default:Bs(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const XN=new Oc(2e3,1e4);class Ao extends l_{constructor(e,n,i,o,c){super(e,n,o,c),this.provider=i,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const e=Jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XN.get())};e()}}Ao.currentPopupAction=null;const WN="pendingRedirect",Cd=new Map;class JN extends l_{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Cd.get(this.auth._key());if(!e){try{const i=await ZN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Cd.set(this.auth._key(),e)}return this.bypassAuthState||Cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZN(s,e){const n=nC(e),i=tC(s);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function eC(s,e){Cd.set(s._key(),e)}function tC(s){return Fr(s._redirectPersistence)}function nC(s){return Nd(WN,s.config.apiKey,s.name)}async function sC(s,e,n=!1){if(Vs(s.app))return Promise.reject(Bi(s));const i=Qo(s),o=QN(i,e),h=await new JN(i,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}const rC=600*1e3;class iC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!c_(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ur(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ub(e))}saveEventToCache(e){this.cachedEventUids.add(Ub(e)),this.lastProcessedEventTime=Date.now()}}function Ub(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function c_({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function aC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c_(s);default:return!1}}async function oC(s,e={}){return Xi(s,"GET","/v1/projects",e)}const lC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cC=/^https?/;async function uC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await oC(s);for(const n of e)try{if(dC(n))return}catch{}Bs(s,"unauthorized-domain")}function dC(s){const e=mp(),{protocol:n,hostname:i}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&i===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===i}if(!cC.test(n))return!1;if(lC.test(s))return i===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}const hC=new Oc(3e4,6e4);function Fb(){const s=dr().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function fC(s){return new Promise((e,n)=>{function i(){Fb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fb(),n(ur(s,"network-request-failed"))},timeout:hC.get()})}if(dr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(dr().gapi?.load)i();else{const o=aN("iframefcb");return dr()[o]=()=>{gapi.load?i():n(ur(s,"network-request-failed"))},K1(`${iN()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Dd=null,e})}let Dd=null;function mC(s){return Dd=Dd||fC(s),Dd}const pC=new Oc(5e3,15e3),gC="__/auth/iframe",yC="emulator/auth/iframe",vC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xC(s){const e=s.config;Re(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Yp(e,yC):`https://${s.config.authDomain}/${gC}`,i={apiKey:e.apiKey,appName:s.name,v:Go},o=bC.get(s.config.apiHost);o&&(i.eid=o);const c=s._getFrameworks();return c.length&&(i.fw=c.join(",")),`${n}?${Mc(i).slice(1)}`}async function _C(s){const e=await mC(s),n=dr().gapi;return Re(n,s,"internal-error"),e.open({where:document.body,url:xC(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vC,dontclear:!0},i=>new Promise(async(o,c)=>{await i.restyle({setHideOnLeave:!1});const h=ur(s,"network-request-failed"),p=dr().setTimeout(()=>{c(h)},pC.get());function g(){dr().clearTimeout(p),o(i)}i.ping(g).then(g,()=>{c(h)})}))}const EC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wC=500,TC=600,SC="_blank",AC="http://localhost";class Hb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NC(s,e,n,i=wC,o=TC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const g={...EC,width:i.toString(),height:o.toString(),top:c,left:h},y=Rn().toLowerCase();n&&(p=U1(y)?SC:n),P1(y)&&(e=e||AC,g.scrollbars="yes");const _=Object.entries(g).reduce((A,[j,z])=>`${A}${j}=${z},`,"");if(XA(y)&&p!=="_self")return CC(e||"",p),new Hb(null);const E=window.open(e||"",p,_);Re(E,s,"popup-blocked");try{E.focus()}catch{}return new Hb(E)}function CC(s,e){const n=document.createElement("a");n.href=s,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const DC="__/auth/handler",RC="emulator/auth/handler",IC=encodeURIComponent("fac");async function qb(s,e,n,i,o,c){Re(s.config.authDomain,s,"auth-domain-config-required"),Re(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:i,v:Go,eventId:o};if(e instanceof W1){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",vS(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))h[_]=E}if(e instanceof Vc){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(h.scopes=_.join(","))}s.tenantId&&(h.tid=s.tenantId);const p=h;for(const _ of Object.keys(p))p[_]===void 0&&delete p[_];const g=await s._getAppCheckToken(),y=g?`#${IC}=${encodeURIComponent(g)}`:"";return`${jC(s)}?${Mc(p).slice(1)}${y}`}function jC({config:s}){return s.emulator?Yp(s,RC):`https://${s.authDomain}/${DC}`}const Km="webStorageSupport";class kC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=s_,this._completeRedirectFn=sC,this._overrideRedirectResult=eC}async _openPopup(e,n,i,o){Gr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await qb(e,n,i,mp(),o);return NC(e,c,Jp())}async _openRedirect(e,n,i,o){await this._originValidation(e);const c=await qb(e,n,i,mp(),o);return VN(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Gr(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await _C(e),i=new iC(e);return n.register("authEvent",o=>(Re(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Km,{type:Km},o=>{const c=o?.[0]?.[Km];c!==void 0&&n(!!c),Bs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Q1()||z1()||$p()}}const MC=kC;var Gb="@firebase/auth",Qb="1.12.0";class OC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function VC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LC(s){Oo(new Ca("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=i.options;Re(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y1(s)},y=new nN(i,o,c,g);return hN(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Oo(new Ca("auth-internal",e=>{const n=Qo(e.getProvider("auth").getImmediate());return(i=>new OC(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Li(Gb,Qb,VC(s)),Li(Gb,Qb,"esm2020")}const BC=300,PC=E1("authIdTokenMaxAge")||BC;let Yb=null;const zC=s=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>PC)return;const o=n?.token;Yb!==o&&(Yb=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function UC(s=C1()){const e=Gp(s,"auth");if(e.isInitialized())return e.getImmediate();const n=dN(s,{popupRedirectResolver:MC,persistence:[GN,kN,s_]}),i=E1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const h=zC(c.toString());DN(n,h,()=>h(n.currentUser)),CN(n,p=>h(p))}}const o=x1("auth");return o&&fN(n,`http://${o}`),n}function FC(){return document.getElementsByTagName("head")?.[0]??document}sN({loadJS(s){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=e,i.onerror=o=>{const c=ur("internal-error");c.customData=o,n(c)},i.type="text/javascript",i.charset="UTF-8",FC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LC("Browser");var Kb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Pi,u_;(function(){var s;function e(N,S){function C(){}C.prototype=S.prototype,N.F=S.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(M,R,L){for(var D=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)D[Pe-2]=arguments[Pe];return S.prototype[R].apply(M,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,C){C||(C=0);const M=Array(16);if(typeof S=="string")for(var R=0;R<16;++R)M[R]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(R=0;R<16;++R)M[R]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=N.g[0],C=N.g[1],R=N.g[2];let L=N.g[3],D;D=S+(L^C&(R^L))+M[0]+3614090360&4294967295,S=C+(D<<7&4294967295|D>>>25),D=L+(R^S&(C^R))+M[1]+3905402710&4294967295,L=S+(D<<12&4294967295|D>>>20),D=R+(C^L&(S^C))+M[2]+606105819&4294967295,R=L+(D<<17&4294967295|D>>>15),D=C+(S^R&(L^S))+M[3]+3250441966&4294967295,C=R+(D<<22&4294967295|D>>>10),D=S+(L^C&(R^L))+M[4]+4118548399&4294967295,S=C+(D<<7&4294967295|D>>>25),D=L+(R^S&(C^R))+M[5]+1200080426&4294967295,L=S+(D<<12&4294967295|D>>>20),D=R+(C^L&(S^C))+M[6]+2821735955&4294967295,R=L+(D<<17&4294967295|D>>>15),D=C+(S^R&(L^S))+M[7]+4249261313&4294967295,C=R+(D<<22&4294967295|D>>>10),D=S+(L^C&(R^L))+M[8]+1770035416&4294967295,S=C+(D<<7&4294967295|D>>>25),D=L+(R^S&(C^R))+M[9]+2336552879&4294967295,L=S+(D<<12&4294967295|D>>>20),D=R+(C^L&(S^C))+M[10]+4294925233&4294967295,R=L+(D<<17&4294967295|D>>>15),D=C+(S^R&(L^S))+M[11]+2304563134&4294967295,C=R+(D<<22&4294967295|D>>>10),D=S+(L^C&(R^L))+M[12]+1804603682&4294967295,S=C+(D<<7&4294967295|D>>>25),D=L+(R^S&(C^R))+M[13]+4254626195&4294967295,L=S+(D<<12&4294967295|D>>>20),D=R+(C^L&(S^C))+M[14]+2792965006&4294967295,R=L+(D<<17&4294967295|D>>>15),D=C+(S^R&(L^S))+M[15]+1236535329&4294967295,C=R+(D<<22&4294967295|D>>>10),D=S+(R^L&(C^R))+M[1]+4129170786&4294967295,S=C+(D<<5&4294967295|D>>>27),D=L+(C^R&(S^C))+M[6]+3225465664&4294967295,L=S+(D<<9&4294967295|D>>>23),D=R+(S^C&(L^S))+M[11]+643717713&4294967295,R=L+(D<<14&4294967295|D>>>18),D=C+(L^S&(R^L))+M[0]+3921069994&4294967295,C=R+(D<<20&4294967295|D>>>12),D=S+(R^L&(C^R))+M[5]+3593408605&4294967295,S=C+(D<<5&4294967295|D>>>27),D=L+(C^R&(S^C))+M[10]+38016083&4294967295,L=S+(D<<9&4294967295|D>>>23),D=R+(S^C&(L^S))+M[15]+3634488961&4294967295,R=L+(D<<14&4294967295|D>>>18),D=C+(L^S&(R^L))+M[4]+3889429448&4294967295,C=R+(D<<20&4294967295|D>>>12),D=S+(R^L&(C^R))+M[9]+568446438&4294967295,S=C+(D<<5&4294967295|D>>>27),D=L+(C^R&(S^C))+M[14]+3275163606&4294967295,L=S+(D<<9&4294967295|D>>>23),D=R+(S^C&(L^S))+M[3]+4107603335&4294967295,R=L+(D<<14&4294967295|D>>>18),D=C+(L^S&(R^L))+M[8]+1163531501&4294967295,C=R+(D<<20&4294967295|D>>>12),D=S+(R^L&(C^R))+M[13]+2850285829&4294967295,S=C+(D<<5&4294967295|D>>>27),D=L+(C^R&(S^C))+M[2]+4243563512&4294967295,L=S+(D<<9&4294967295|D>>>23),D=R+(S^C&(L^S))+M[7]+1735328473&4294967295,R=L+(D<<14&4294967295|D>>>18),D=C+(L^S&(R^L))+M[12]+2368359562&4294967295,C=R+(D<<20&4294967295|D>>>12),D=S+(C^R^L)+M[5]+4294588738&4294967295,S=C+(D<<4&4294967295|D>>>28),D=L+(S^C^R)+M[8]+2272392833&4294967295,L=S+(D<<11&4294967295|D>>>21),D=R+(L^S^C)+M[11]+1839030562&4294967295,R=L+(D<<16&4294967295|D>>>16),D=C+(R^L^S)+M[14]+4259657740&4294967295,C=R+(D<<23&4294967295|D>>>9),D=S+(C^R^L)+M[1]+2763975236&4294967295,S=C+(D<<4&4294967295|D>>>28),D=L+(S^C^R)+M[4]+1272893353&4294967295,L=S+(D<<11&4294967295|D>>>21),D=R+(L^S^C)+M[7]+4139469664&4294967295,R=L+(D<<16&4294967295|D>>>16),D=C+(R^L^S)+M[10]+3200236656&4294967295,C=R+(D<<23&4294967295|D>>>9),D=S+(C^R^L)+M[13]+681279174&4294967295,S=C+(D<<4&4294967295|D>>>28),D=L+(S^C^R)+M[0]+3936430074&4294967295,L=S+(D<<11&4294967295|D>>>21),D=R+(L^S^C)+M[3]+3572445317&4294967295,R=L+(D<<16&4294967295|D>>>16),D=C+(R^L^S)+M[6]+76029189&4294967295,C=R+(D<<23&4294967295|D>>>9),D=S+(C^R^L)+M[9]+3654602809&4294967295,S=C+(D<<4&4294967295|D>>>28),D=L+(S^C^R)+M[12]+3873151461&4294967295,L=S+(D<<11&4294967295|D>>>21),D=R+(L^S^C)+M[15]+530742520&4294967295,R=L+(D<<16&4294967295|D>>>16),D=C+(R^L^S)+M[2]+3299628645&4294967295,C=R+(D<<23&4294967295|D>>>9),D=S+(R^(C|~L))+M[0]+4096336452&4294967295,S=C+(D<<6&4294967295|D>>>26),D=L+(C^(S|~R))+M[7]+1126891415&4294967295,L=S+(D<<10&4294967295|D>>>22),D=R+(S^(L|~C))+M[14]+2878612391&4294967295,R=L+(D<<15&4294967295|D>>>17),D=C+(L^(R|~S))+M[5]+4237533241&4294967295,C=R+(D<<21&4294967295|D>>>11),D=S+(R^(C|~L))+M[12]+1700485571&4294967295,S=C+(D<<6&4294967295|D>>>26),D=L+(C^(S|~R))+M[3]+2399980690&4294967295,L=S+(D<<10&4294967295|D>>>22),D=R+(S^(L|~C))+M[10]+4293915773&4294967295,R=L+(D<<15&4294967295|D>>>17),D=C+(L^(R|~S))+M[1]+2240044497&4294967295,C=R+(D<<21&4294967295|D>>>11),D=S+(R^(C|~L))+M[8]+1873313359&4294967295,S=C+(D<<6&4294967295|D>>>26),D=L+(C^(S|~R))+M[15]+4264355552&4294967295,L=S+(D<<10&4294967295|D>>>22),D=R+(S^(L|~C))+M[6]+2734768916&4294967295,R=L+(D<<15&4294967295|D>>>17),D=C+(L^(R|~S))+M[13]+1309151649&4294967295,C=R+(D<<21&4294967295|D>>>11),D=S+(R^(C|~L))+M[4]+4149444226&4294967295,S=C+(D<<6&4294967295|D>>>26),D=L+(C^(S|~R))+M[11]+3174756917&4294967295,L=S+(D<<10&4294967295|D>>>22),D=R+(S^(L|~C))+M[2]+718787259&4294967295,R=L+(D<<15&4294967295|D>>>17),D=C+(L^(R|~S))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(R+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+R&4294967295,N.g[3]=N.g[3]+L&4294967295}i.prototype.v=function(N,S){S===void 0&&(S=N.length);const C=S-this.blockSize,M=this.C;let R=this.h,L=0;for(;L<S;){if(R==0)for(;L<=C;)o(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<S;)if(M[R++]=N.charCodeAt(L++),R==this.blockSize){o(this,M),R=0;break}}else for(;L<S;)if(M[R++]=N[L++],R==this.blockSize){o(this,M),R=0;break}}this.h=R,this.o+=S},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)N[S++]=this.g[C]>>>M&255;return N};function c(N,S){var C=p;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=S(N)}function h(N,S){this.h=S;const C=[];let M=!0;for(let R=N.length-1;R>=0;R--){const L=N[R]|0;M&&L==S||(C[R]=L,M=!1)}this.g=C}var p={};function g(N){return-128<=N&&N<128?c(N,function(S){return new h([S|0],S<0?-1:0)}):new h([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return E;if(N<0)return q(y(-N));const S=[];let C=1;for(let M=0;N>=C;M++)S[M]=N/C|0,C*=4294967296;return new h(S,0)}function _(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return q(_(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(S,8));let M=E;for(let L=0;L<N.length;L+=8){var R=Math.min(8,N.length-L);const D=parseInt(N.substring(L,L+R),S);R<8?(R=y(Math.pow(S,R)),M=M.j(R).add(y(D))):(M=M.j(C),M=M.add(y(D)))}return M}var E=g(0),A=g(1),j=g(16777216);s=h.prototype,s.m=function(){if(G(this))return-q(this).m();let N=0,S=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);N+=(M>=0?M:4294967296+M)*S,S*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(z(this))return"0";if(G(this))return"-"+q(this).toString(N);const S=y(Math.pow(N,6));var C=this;let M="";for(;;){const R=se(C,S).g;C=re(C,R.j(S));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=R,z(C))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function z(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function G(N){return N.h==-1}s.l=function(N){return N=re(this,N),G(N)?-1:z(N)?0:1};function q(N){const S=N.g.length,C=[];for(let M=0;M<S;M++)C[M]=~N.g[M];return new h(C,~N.h).add(A)}s.abs=function(){return G(this)?q(this):this},s.add=function(N){const S=Math.max(this.g.length,N.g.length),C=[];let M=0;for(let R=0;R<=S;R++){let L=M+(this.i(R)&65535)+(N.i(R)&65535),D=(L>>>16)+(this.i(R)>>>16)+(N.i(R)>>>16);M=D>>>16,L&=65535,D&=65535,C[R]=D<<16|L}return new h(C,C[C.length-1]&-2147483648?-1:0)};function re(N,S){return N.add(q(S))}s.j=function(N){if(z(this)||z(N))return E;if(G(this))return G(N)?q(this).j(q(N)):q(q(this).j(N));if(G(N))return q(this.j(q(N)));if(this.l(j)<0&&N.l(j)<0)return y(this.m()*N.m());const S=this.g.length+N.g.length,C=[];for(var M=0;M<2*S;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let R=0;R<N.g.length;R++){const L=this.i(M)>>>16,D=this.i(M)&65535,Pe=N.i(R)>>>16,ct=N.i(R)&65535;C[2*M+2*R]+=D*ct,oe(C,2*M+2*R),C[2*M+2*R+1]+=L*ct,oe(C,2*M+2*R+1),C[2*M+2*R+1]+=D*Pe,oe(C,2*M+2*R+1),C[2*M+2*R+2]+=L*Pe,oe(C,2*M+2*R+2)}for(N=0;N<S;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=S;N<2*S;N++)C[N]=0;return new h(C,0)};function oe(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ee(N,S){this.g=N,this.h=S}function se(N,S){if(z(S))throw Error("division by zero");if(z(N))return new ee(E,E);if(G(N))return S=se(q(N),S),new ee(q(S.g),q(S.h));if(G(S))return S=se(N,q(S)),new ee(q(S.g),S.h);if(N.g.length>30){if(G(N)||G(S))throw Error("slowDivide_ only works with positive integers.");for(var C=A,M=S;M.l(N)<=0;)C=ie(C),M=ie(M);var R=le(C,1),L=le(M,1);for(M=le(M,2),C=le(C,2);!z(M);){var D=L.add(M);D.l(N)<=0&&(R=R.add(C),L=D),M=le(M,1),C=le(C,1)}return S=re(N,R.j(S)),new ee(R,S)}for(R=E;N.l(S)>=0;){for(C=Math.max(1,Math.floor(N.m()/S.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=y(C),D=L.j(S);G(D)||D.l(N)>0;)C-=M,L=y(C),D=L.j(S);z(L)&&(L=A),R=R.add(L),N=re(N,D)}return new ee(R,N)}s.B=function(N){return se(this,N).h},s.and=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)&N.i(M);return new h(C,this.h&N.h)},s.or=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)|N.i(M);return new h(C,this.h|N.h)},s.xor=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)^N.i(M);return new h(C,this.h^N.h)};function ie(N){const S=N.g.length+1,C=[];for(let M=0;M<S;M++)C[M]=N.i(M)<<1|N.i(M-1)>>>31;return new h(C,N.h)}function le(N,S){const C=S>>5;S%=32;const M=N.g.length-C,R=[];for(let L=0;L<M;L++)R[L]=S>0?N.i(L+C)>>>S|N.i(L+C+1)<<32-S:N.i(L+C);return new h(R,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,u_=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=_,Pi=h}).apply(typeof Kb<"u"?Kb:typeof self<"u"?self:typeof window<"u"?window:{});var vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var d_,rc,h_,Rd,yp,f_,m_,p_;(function(){var s,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof vd=="object"&&vd];for(var v=0;v<d.length;++v){var x=d[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=n(this);function o(d,v){if(v)e:{var x=i;d=d.split(".");for(var T=0;T<d.length-1;T++){var P=d[T];if(!(P in x))break e;x=x[P]}d=d[d.length-1],T=x[d],v=v(T),v!=T&&v!=null&&e(x,d,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(v){var x=[],T;for(T in v)Object.prototype.hasOwnProperty.call(v,T)&&x.push([T,v[T]]);return x}});var c=c||{},h=this||self;function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function g(d,v,x){return d.call.apply(d.bind,arguments)}function y(d,v,x){return y=g,y.apply(null,arguments)}function _(d,v){var x=Array.prototype.slice.call(arguments,1);return function(){var T=x.slice();return T.push.apply(T,arguments),d.apply(this,T)}}function E(d,v){function x(){}x.prototype=v.prototype,d.Z=v.prototype,d.prototype=new x,d.prototype.constructor=d,d.Ob=function(T,P,Q){for(var fe=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)fe[Oe-2]=arguments[Oe];return v.prototype[P].apply(T,fe)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function j(d){const v=d.length;if(v>0){const x=Array(v);for(let T=0;T<v;T++)x[T]=d[T];return x}return[]}function z(d,v){for(let T=1;T<arguments.length;T++){const P=arguments[T];var x=typeof P;if(x=x!="object"?x:P?Array.isArray(P)?"array":x:"null",x=="array"||x=="object"&&typeof P.length=="number"){x=d.length||0;const Q=P.length||0;d.length=x+Q;for(let fe=0;fe<Q;fe++)d[x+fe]=P[fe]}else d.push(P)}}class G{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function q(d){h.setTimeout(()=>{throw d},0)}function re(){var d=N;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class oe{constructor(){this.h=this.g=null}add(v,x){const T=ee.get();T.set(v,x),this.h?this.h.next=T:this.g=T,this.h=T}}var ee=new G(()=>new se,d=>d.reset());class se{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,le=!1,N=new oe,S=()=>{const d=Promise.resolve(void 0);ie=()=>{d.then(C)}};function C(){for(var d;d=re();){try{d.h.call(d.g)}catch(x){q(x)}var v=ee;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}le=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};h.addEventListener("test",x,v),h.removeEventListener("test",x,v)}catch{}return d})();function D(d){return/^[\s\xa0]*$/.test(d)}function Pe(d,v){R.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}E(Pe,R),Pe.prototype.init=function(d,v){const x=this.type=d.type,T=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(x=="mouseover"?v=d.fromElement:x=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Pe.Z.h.call(this)},Pe.prototype.h=function(){Pe.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ct="closure_listenable_"+(Math.random()*1e6|0),X=0;function ce(d,v,x,T,P){this.listener=d,this.proxy=null,this.src=v,this.type=x,this.capture=!!T,this.ha=P,this.key=++X,this.da=this.fa=!1}function be(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function he(d,v,x){for(const T in d)v.call(x,d[T],T,d)}function Ee(d,v){for(const x in d)v.call(void 0,d[x],x,d)}function k(d){const v={};for(const x in d)v[x]=d[x];return v}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(d,v){let x,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(x in T)d[x]=T[x];for(let Q=0;Q<K.length;Q++)x=K[Q],Object.prototype.hasOwnProperty.call(T,x)&&(d[x]=T[x])}}function me(d){this.src=d,this.g={},this.h=0}me.prototype.add=function(d,v,x,T,P){const Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);const fe=we(d,v,T,P);return fe>-1?(v=d[fe],x||(v.fa=!1)):(v=new ce(v,this.src,Q,!!T,P),v.fa=x,d.push(v)),v};function Ae(d,v){const x=v.type;if(x in d.g){var T=d.g[x],P=Array.prototype.indexOf.call(T,v,void 0),Q;(Q=P>=0)&&Array.prototype.splice.call(T,P,1),Q&&(be(v),d.g[x].length==0&&(delete d.g[x],d.h--))}}function we(d,v,x,T){for(let P=0;P<d.length;++P){const Q=d[P];if(!Q.da&&Q.listener==v&&Q.capture==!!x&&Q.ha==T)return P}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),at={};function qe(d,v,x,T,P){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)qe(d,v[Q],x,T,P);return null}return x=Us(x),d&&d[ct]?d.J(v,x,p(T)?!!T.capture:!1,P):ze(d,v,x,!1,T,P)}function ze(d,v,x,T,P,Q){if(!v)throw Error("Invalid event type");const fe=p(P)?!!P.capture:!!P;let Oe=_n(d);if(Oe||(d[Le]=Oe=new me(d)),x=Oe.add(v,x,T,fe,Q),x.proxy)return x;if(T=zn(),x.proxy=T,T.src=d,T.listener=x,d.addEventListener)L||(P=fe),P===void 0&&(P=!1),d.addEventListener(v.toString(),T,P);else if(d.attachEvent)d.attachEvent(Rt(v.toString()),T);else if(d.addListener&&d.removeListener)d.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return x}function zn(){function d(x){return v.call(d.src,d.listener,x)}const v=Un;return d}function Wt(d,v,x,T,P){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Wt(d,v[Q],x,T,P);else T=p(T)?!!T.capture:!!T,x=Us(x),d&&d[ct]?(d=d.i,Q=String(v).toString(),Q in d.g&&(v=d.g[Q],x=we(v,x,T,P),x>-1&&(be(v[x]),Array.prototype.splice.call(v,x,1),v.length==0&&(delete d.g[Q],d.h--)))):d&&(d=_n(d))&&(v=d.g[v.toString()],d=-1,v&&(d=we(v,x,T,P)),(x=d>-1?v[d]:null)&&jn(x))}function jn(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[ct])Ae(v.i,d);else{var x=d.type,T=d.proxy;v.removeEventListener?v.removeEventListener(x,T,d.capture):v.detachEvent?v.detachEvent(Rt(x),T):v.addListener&&v.removeListener&&v.removeListener(T),(x=_n(v))?(Ae(x,d),x.h==0&&(x.src=null,v[Le]=null)):be(d)}}}function Rt(d){return d in at?at[d]:at[d]="on"+d}function Un(d,v){if(d.da)d=!0;else{v=new Pe(v,this);const x=d.listener,T=d.ha||d.src;d.fa&&jn(d),d=x.call(T,v)}return d}function _n(d){return d=d[Le],d instanceof me?d:null}var zs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Us(d){return typeof d=="function"?d:(d[zs]||(d[zs]=function(v){return d.handleEvent(v)}),d[zs])}function xt(){M.call(this),this.i=new me(this),this.M=this,this.G=null}E(xt,M),xt.prototype[ct]=!0,xt.prototype.removeEventListener=function(d,v,x,T){Wt(this,d,v,x,T)};function ot(d,v){var x,T=d.G;if(T)for(x=[];T;T=T.G)x.push(T);if(d=d.M,T=v.type||v,typeof v=="string")v=new R(v,d);else if(v instanceof R)v.target=v.target||d;else{var P=v;v=new R(T,d),ue(v,P)}P=!0;let Q,fe;if(x)for(fe=x.length-1;fe>=0;fe--)Q=v.g=x[fe],P=kn(Q,T,!0,v)&&P;if(Q=v.g=d,P=kn(Q,T,!0,v)&&P,P=kn(Q,T,!1,v)&&P,x)for(fe=0;fe<x.length;fe++)Q=v.g=x[fe],P=kn(Q,T,!1,v)&&P}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const x=d.g[v];for(let T=0;T<x.length;T++)be(x[T]);delete d.g[v],d.h--}}this.G=null},xt.prototype.J=function(d,v,x,T){return this.i.add(String(d),v,!1,x,T)},xt.prototype.K=function(d,v,x,T){return this.i.add(String(d),v,!0,x,T)};function kn(d,v,x,T){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let P=!0;for(let Q=0;Q<v.length;++Q){const fe=v[Q];if(fe&&!fe.da&&fe.capture==x){const Oe=fe.listener,Vt=fe.ha||fe.src;fe.fa&&Ae(d.i,fe),P=Oe.call(Vt,T)!==!1&&P}}return P&&!T.defaultPrevented}function Fs(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:h.setTimeout(d,v||0)}function xr(d){d.g=Fs(()=>{d.g=null,d.i&&(d.i=!1,xr(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class zt extends M{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:xr(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ns(d){M.call(this),this.h=d,this.g={}}E(Ns,M);var Hs=[];function $(d){he(d.g,function(v,x){this.g.hasOwnProperty(x)&&jn(v)},d),d.g={}}Ns.prototype.N=function(){Ns.Z.N.call(this),$(this)},Ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ne=h.JSON.stringify,ye=h.JSON.parse,pe=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function de(){}function Te(){}var st={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ut(){R.call(this,"d")}E(ut,R);function It(){R.call(this,"c")}E(It,R);var et={},Fn=null;function qs(){return Fn=Fn||new xt}et.Ia="serverreachability";function $r(d){R.call(this,et.Ia,d)}E($r,R);function hs(d){const v=qs();ot(v,new $r(v))}et.STAT_EVENT="statevent";function _r(d,v){R.call(this,et.STAT_EVENT,d),this.stat=v}E(_r,R);function Ue(d){const v=qs();ot(v,new _r(v,d))}et.Ja="timingevent";function Tt(d,v){R.call(this,et.Ja,d),this.size=v}E(Tt,R);function St(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},v)}function Ut(){this.g=!0}Ut.prototype.ua=function(){this.g=!1};function En(d,v,x,T,P,Q){d.info(function(){if(d.g)if(Q){var fe="",Oe=Q.split("&");for(let rt=0;rt<Oe.length;rt++){var Vt=Oe[rt].split("=");if(Vt.length>1){const At=Vt[0];Vt=Vt[1];const gs=At.split("_");fe=gs.length>=2&&gs[1]=="type"?fe+(At+"="+Vt+"&"):fe+(At+"=redacted&")}}}else fe=null;else fe=Q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+v+`
`+x+`
`+fe})}function an(d,v,x,T,P,Q,fe){d.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+v+`
`+x+`
`+Q+" "+fe})}function Mt(d,v,x,T){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ot(d,x)+(T?" "+T:"")})}function Hn(d,v){d.info(function(){return"TIMEOUT: "+v})}Ut.prototype.info=function(){};function Ot(d,v){if(!d.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(d=0;d<Q.length;d++)if(Array.isArray(Q[d])){var x=Q[d];if(!(x.length<2)){var T=x[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let fe=1;fe<T.length;fe++)T[fe]=""}}}}return ne(Q)}catch{return v}}var wn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mn;function es(){}E(es,de),es.prototype.g=function(){return new XMLHttpRequest},Mn=new es;function On(d){return encodeURIComponent(String(d))}function ts(d){var v=1;d=d.split(":");const x=[];for(;v>0&&d.length;)x.push(d.shift()),v--;return d.length&&x.push(d.join(":")),x}function hn(d,v,x,T){this.j=d,this.i=v,this.l=x,this.S=T||1,this.V=new Ns(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Vn}function Vn(){this.i=null,this.g="",this.h=!1}var Ft={},on={};function Gs(d,v,x){d.M=1,d.A=Zi(qt(v)),d.u=x,d.R=!0,Oa(d,null)}function Oa(d,v){d.F=Date.now(),Qs(d),d.B=qt(d.A);var x=d.B,T=d.S;Array.isArray(T)||(T=[String(T)]),Pa(x.i,"t",T),d.C=0,x=d.j.L,d.h=new Vn,d.g=cu(d.j,x?v:null,!d.u),d.P>0&&(d.O=new zt(y(d.Y,d,d.g),d.P)),v=d.V,x=d.g,T=d.ba;var P="readystatechange";Array.isArray(P)||(P&&(Hs[0]=P.toString()),P=Hs);for(let Q=0;Q<P.length;Q++){const fe=qe(x,P[Q],T||v.handleEvent,!1,v.h||v);if(!fe)break;v.g[fe.key]=fe}v=d.J?k(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),hs(),En(d.i,d.v,d.B,d.l,d.S,d.u)}hn.prototype.ba=function(d){d=d.target;const v=this.O;v&&Rs(d)==3?v.j():this.Y(d)},hn.prototype.Y=function(d){try{if(d==this.g)e:{const Oe=Rs(this.g),Vt=this.g.ya(),rt=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||fn(this.g)))){this.K||Oe!=4||Vt==7||(Vt==8||rt<=0?hs(3):hs(2)),Ys(this);var v=this.g.ca();this.X=v;var x=Uh(this);if(this.o=v==200,an(this.i,this.v,this.B,this.l,this.S,Oe,v),this.o){if(this.U&&!this.L){t:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(T)){var Q=T;break t}}Q=null}if(d=Q)Mt(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ks(this,d);else{this.o=!1,this.m=3,Ue(12),ns(this),fs(this);break e}}if(this.R){d=!0;let At;for(;!this.K&&this.C<x.length;)if(At=Xc(this,x),At==on){Oe==4&&(this.m=4,Ue(14),d=!1),Mt(this.i,this.l,null,"[Incomplete Response]");break}else if(At==Ft){this.m=4,Ue(15),Mt(this.i,this.l,x,"[Invalid Chunk]"),d=!1;break}else Mt(this.i,this.l,At,null),Ks(this,At);if($c(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||x.length!=0||this.h.h||(this.m=1,Ue(16),d=!1),this.o=this.o&&d,!d)Mt(this.i,this.l,x,"[Invalid Chunked Response]"),ns(this),fs(this);else if(x.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),yl(fe),fe.P=!0,Ue(11))}}else Mt(this.i,this.l,x,null),Ks(this,x);Oe==4&&ns(this),this.o&&!this.K&&(Oe==4?iu(this.j,this):(this.o=!1,Qs(this)))}else wr(this.g),v==400&&x.indexOf("Unknown SID")>0?(this.m=3,Ue(12)):(this.m=0,Ue(13)),ns(this),fs(this)}}}catch{}};function Uh(d){if(!$c(d))return d.g.la();const v=fn(d.g);if(v==="")return"";let x="";const T=v.length,P=Rs(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return ns(d),fs(d),"";d.h.i=new h.TextDecoder}for(let Q=0;Q<T;Q++)d.h.h=!0,x+=d.h.i.decode(v[Q],{stream:!(P&&Q==T-1)});return v.length=0,d.h.g+=x,d.C=0,d.h.g}function $c(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Xc(d,v){var x=d.C,T=v.indexOf(`
`,x);return T==-1?on:(x=Number(v.substring(x,T)),isNaN(x)?Ft:(T+=1,T+x>v.length?on:(v=v.slice(T,T+x),d.C=T+x,v)))}hn.prototype.cancel=function(){this.K=!0,ns(this)};function Qs(d){d.T=Date.now()+d.H,Va(d,d.H)}function Va(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=St(y(d.aa,d),v)}function Ys(d){d.D&&(h.clearTimeout(d.D),d.D=null)}hn.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Hn(this.i,this.B),this.M!=2&&(hs(),Ue(17)),ns(this),this.m=2,fs(this)):Va(this,this.T-d)};function fs(d){d.j.I==0||d.K||iu(d.j,d)}function ns(d){Ys(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,$(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function Ks(d,v){try{var x=d.j;if(x.I!=0&&(x.g==d||Xs(x.h,d))){if(!d.L&&Xs(x.h,d)&&x.I==3){try{var T=x.Ba.g.parse(v)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<d.F)qa(x),si(x);else break e;aa(x),Ue(18)}}else x.xa=P[1],0<x.xa-x.K&&P[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=St(y(x.Va,x),6e3));$s(x.h)<=1&&x.ta&&(x.ta=void 0)}else nr(x,11)}else if((d.L||x.g==d)&&qa(x),!D(v))for(P=x.Ba.g.parse(v),v=0;v<P.length;v++){let rt=P[v];const At=rt[0];if(!(At<=x.K))if(x.K=At,rt=rt[1],x.I==2)if(rt[0]=="c"){x.M=rt[1],x.ba=rt[2];const gs=rt[3];gs!=null&&(x.ka=gs,x.j.info("VER="+x.ka));const sr=rt[4];sr!=null&&(x.za=sr,x.j.info("SVER="+x.za));const Is=rt[5];Is!=null&&typeof Is=="number"&&Is>0&&(T=1.5*Is,x.O=T,x.j.info("backChannelRequestTimeoutMs_="+T)),T=x;const js=d.g;if(js){const oa=js.g?js.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oa){var Q=T.h;Q.g||oa.indexOf("spdy")==-1&&oa.indexOf("quic")==-1&&oa.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(il(Q,Q.h),Q.h=null))}if(T.G){const Ga=js.g?js.g.getResponseHeader("X-HTTP-Session-Id"):null;Ga&&(T.wa=Ga,dt(T.J,T.G,Ga))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-d.F,x.j.info("Handshake RTT: "+x.T+"ms")),T=x;var fe=d;if(T.na=lu(T,T.L?T.ba:null,T.W),fe.L){al(T.h,fe);var Oe=fe,Vt=T.O;Vt&&(Oe.H=Vt),Oe.D&&(Ys(Oe),Qs(Oe)),T.g=fe}else su(T);x.i.length>0&&tr(x)}else rt[0]!="stop"&&rt[0]!="close"||nr(x,7);else x.I==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?nr(x,7):pl(x):rt[0]!="noop"&&x.l&&x.l.qa(rt),x.A=0)}}hs(4)}catch{}}var Ht=class{constructor(d,v){this.g=d,this.map=v}};function sl(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function rl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function $s(d){return d.h?1:d.g?d.g.size:0}function Xs(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function il(d,v){d.g?d.g.add(v):d.h=v}function al(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}sl.prototype.cancel=function(){if(this.i=ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ol(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const x of d.g.values())v=v.concat(x.G);return v}return j(d.i)}var Wc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function La(d,v){if(d){d=d.split("&");for(let x=0;x<d.length;x++){const T=d[x].indexOf("=");let P,Q=null;T>=0?(P=d[x].substring(0,T),Q=d[x].substring(T+1)):P=d[x],v(P,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function ss(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof ss?(this.l=d.l,ln(this,d.j),this.o=d.o,this.g=d.g,Xr(this,d.u),this.h=d.h,ll(this,tu(d.i)),this.m=d.m):d&&(v=String(d).match(Wc))?(this.l=!1,ln(this,v[1]||"",!0),this.o=Ws(v[2]||""),this.g=Ws(v[3]||"",!0),Xr(this,v[4]),this.h=Ws(v[5]||"",!0),ll(this,v[6]||"",!0),this.m=Ws(v[7]||"")):(this.l=!1,this.i=new Jr(null,this.l))}ss.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(ea(v,Ba,!0),":");var x=this.g;return(x||v=="file")&&(d.push("//"),(v=this.o)&&d.push(ea(v,Ba,!0),"@"),d.push(On(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&d.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(ea(x,x.charAt(0)=="/"?cl:Jc,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",ea(x,Zc)),d.join("")},ss.prototype.resolve=function(d){const v=qt(this);let x=!!d.j;x?ln(v,d.j):x=!!d.o,x?v.o=d.o:x=!!d.g,x?v.g=d.g:x=d.u!=null;var T=d.h;if(x)Xr(v,d.u);else if(x=!!d.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=v.h.lastIndexOf("/");P!=-1&&(T=v.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const Q=[];for(let fe=0;fe<P.length;){const Oe=P[fe++];Oe=="."?T&&fe==P.length&&Q.push(""):Oe==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),T&&fe==P.length&&Q.push("")):(Q.push(Oe),T=!0)}T=Q.join("/")}else T=P}return x?v.h=T:x=d.i.toString()!=="",x?ll(v,tu(d.i)):x=!!d.m,x&&(v.m=d.m),v};function qt(d){return new ss(d)}function ln(d,v,x){d.j=x?Ws(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Xr(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function ll(d,v,x){v instanceof Jr?(d.i=v,za(d.i,d.l)):(x||(v=ea(v,Wr)),d.i=new Jr(v,d.l))}function dt(d,v,x){d.i.set(v,x)}function Zi(d){return dt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Ws(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ea(d,v,x){return typeof d=="string"?(d=encodeURI(d).replace(v,qn),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function qn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ba=/[#\/\?@]/g,Jc=/[#\?:]/g,cl=/[#\?]/g,Wr=/[#\?@]/g,Zc=/#/g;function Jr(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Gn(d){d.g||(d.g=new Map,d.h=0,d.i&&La(d.i,function(v,x){d.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}s=Jr.prototype,s.add=function(d,v){Gn(this),this.i=null,d=Zr(this,d);let x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(v),this.h+=1,this};function eu(d,v){Gn(d),v=Zr(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function ul(d,v){return Gn(d),v=Zr(d,v),d.g.has(v)}s.forEach=function(d,v){Gn(this),this.g.forEach(function(x,T){x.forEach(function(P){d.call(v,P,T,this)},this)},this)};function dl(d,v){Gn(d);let x=[];if(typeof v=="string")ul(d,v)&&(x=x.concat(d.g.get(Zr(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)x=x.concat(d[v]);return x}s.set=function(d,v){return Gn(this),this.i=null,d=Zr(this,d),ul(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},s.get=function(d,v){return d?(d=dl(this,d),d.length>0?String(d[0]):v):v};function Pa(d,v,x){eu(d,v),x.length>0&&(d.i=null,d.g.set(Zr(d,v),j(x)),d.h+=x.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let T=0;T<v.length;T++){var x=v[T];const P=On(x);x=dl(this,x);for(let Q=0;Q<x.length;Q++){let fe=P;x[Q]!==""&&(fe+="="+On(x[Q])),d.push(fe)}}return this.i=d.join("&")};function tu(d){const v=new Jr;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function Zr(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function za(d,v){v&&!d.j&&(Gn(d),d.i=null,d.g.forEach(function(x,T){const P=T.toLowerCase();T!=P&&(eu(this,T),Pa(this,P,x))},d)),d.j=v}function Cs(d,v){const x=new Ut;if(h.Image){const T=new Image;T.onload=_(ms,x,"TestLoadImage: loaded",!0,v,T),T.onerror=_(ms,x,"TestLoadImage: error",!1,v,T),T.onabort=_(ms,x,"TestLoadImage: abort",!1,v,T),T.ontimeout=_(ms,x,"TestLoadImage: timeout",!1,v,T),h.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=d}else v(!1)}function hl(d,v){const x=new Ut,T=new AbortController,P=setTimeout(()=>{T.abort(),ms(x,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:T.signal}).then(Q=>{clearTimeout(P),Q.ok?ms(x,"TestPingServer: ok",!0,v):ms(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(P),ms(x,"TestPingServer: error",!1,v)})}function ms(d,v,x,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(x)}catch{}}function ei(){this.g=new pe}function Js(d){this.i=d.Sb||null,this.h=d.ab||!1}E(Js,de),Js.prototype.g=function(){return new ta(this.i,this.h)};function ta(d,v){xt.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(ta,xt),s=ta.prototype,s.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,Ds(this)},s.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||h).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ti(this)),this.readyState=0},s.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ds(this)),this.g&&(this.readyState=3,Ds(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ua(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ua(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}s.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?ti(this):Ds(this),this.readyState==3&&Ua(this)}},s.Oa=function(d){this.g&&(this.response=this.responseText=d,ti(this))},s.Na=function(d){this.g&&(this.response=d,ti(this))},s.ga=function(){this.g&&ti(this)};function ti(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Ds(d)}s.setRequestHeader=function(d,v){this.A.append(d,v)},s.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=v.next();return d.join(`\r
`)};function Ds(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ps(d){let v="";return he(d,function(x,T){v+=T,v+=":",v+=x,v+=`\r
`}),v}function na(d,v,x){e:{for(T in x){var T=!1;break e}T=!0}T||(x=ps(x),typeof d=="string"?x!=null&&On(x):dt(d,v,x))}function mt(d){xt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(mt,xt);var Zs=/^https?$/i,fl=["POST","PUT"];s=mt.prototype,s.Fa=function(d){this.H=d},s.ea=function(d,v,x,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mn.g(),this.g.onreadystatechange=A(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Q){sa(this,Q);return}if(d=x||"",x=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)x.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const Q of T.keys())x.set(Q,T.get(Q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(x.keys()).find(Q=>Q.toLowerCase()=="content-type"),P=h.FormData&&d instanceof h.FormData,!(Array.prototype.indexOf.call(fl,v,void 0)>=0)||T||P||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,fe]of x)this.g.setRequestHeader(Q,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Q){sa(this,Q)}};function sa(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,ml(d),Er(d)}function ml(d){d.A||(d.A=!0,ot(d,"complete"),ot(d,"error"))}s.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,ot(this,"complete"),ot(this,"abort"),Er(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Er(this,!0)),mt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?ra(this):this.Xa())},s.Xa=function(){ra(this)};function ra(d){if(d.h&&typeof c<"u"){if(d.v&&Rs(d)==4)setTimeout(d.Ca.bind(d),0);else if(ot(d,"readystatechange"),Rs(d)==4){d.h=!1;try{const Q=d.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var x;if(!(x=v)){var T;if(T=Q===0){let fe=String(d.D).match(Wc)[1]||null;!fe&&h.self&&h.self.location&&(fe=h.self.location.protocol.slice(0,-1)),T=!Zs.test(fe?fe.toLowerCase():"")}x=T}if(x)ot(d,"complete"),ot(d,"success");else{d.o=6;try{var P=Rs(d)>2?d.g.statusText:""}catch{P=""}d.l=P+" ["+d.ca()+"]",ml(d)}}finally{Er(d)}}}}function Er(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const x=d.g;d.g=null,v||ot(d,"ready");try{x.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Rs(d){return d.g?d.g.readyState:0}s.ca=function(){try{return Rs(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),ye(v)}};function fn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function wr(d){const v={};d=(d.g&&Rs(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<d.length;T++){if(D(d[T]))continue;var x=ts(d[T]);const P=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const Q=v[P]||[];v[P]=Q,Q.push(x)}Ee(v,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function er(d,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||v}function ni(d){this.za=0,this.i=[],this.j=new Ut,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=er("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=er("baseRetryDelayMs",5e3,d),this.Za=er("retryDelaySeedMs",1e4,d),this.Ta=er("forwardChannelMaxRetries",2,d),this.va=er("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new sl(d&&d.concurrentRequestLimit),this.Ba=new ei,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ni.prototype,s.ka=8,s.I=1,s.connect=function(d,v,x,T){Ue(0),this.W=d,this.H=v||{},x&&T!==void 0&&(this.H.OSID=x,this.H.OAID=T),this.F=this.X,this.J=lu(this,null,this.W),tr(this)};function pl(d){if(Fa(d),d.I==3){var v=d.V++,x=qt(d.J);if(dt(x,"SID",d.M),dt(x,"RID",v),dt(x,"TYPE","terminate"),ia(d,x),v=new hn(d,d.j,v),v.M=2,v.A=Zi(qt(x)),x=!1,h.navigator&&h.navigator.sendBeacon)try{x=h.navigator.sendBeacon(v.A.toString(),"")}catch{}!x&&h.Image&&(new Image().src=v.A,x=!0),x||(v.g=cu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Qs(v)}ou(d)}function si(d){d.g&&(yl(d),d.g.cancel(),d.g=null)}function Fa(d){si(d),d.v&&(h.clearTimeout(d.v),d.v=null),qa(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&h.clearTimeout(d.m),d.m=null)}function tr(d){if(!rl(d.h)&&!d.m){d.m=!0;var v=d.Ea;ie||S(),le||(ie(),le=!0),N.add(v,d),d.D=0}}function Ha(d,v){return $s(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=St(y(d.Ea,d,v),au(d,d.D)),d.D++,!0)}s.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const P=new hn(this,this.j,d);let Q=this.o;if(this.U&&(Q?(Q=k(Q),ue(Q,this.U)):Q=this.U),this.u!==null||this.R||(P.J=Q,Q=null),this.S)e:{for(var v=0,x=0;x<this.i.length;x++){t:{var T=this.i[x];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(v+=T,v>4096){v=x;break e}if(v===4096||x===this.i.length-1){v=x+1;break e}}v=1e3}else v=1e3;v=nu(this,P,v),x=qt(this.J),dt(x,"RID",d),dt(x,"CVER",22),this.G&&dt(x,"X-HTTP-Session-Id",this.G),ia(this,x),Q&&(this.R?v="headers="+On(ps(Q))+"&"+v:this.u&&na(x,this.u,Q)),il(this.h,P),this.Ra&&dt(x,"TYPE","init"),this.S?(dt(x,"$req",v),dt(x,"SID","null"),P.U=!0,Gs(P,x,null)):Gs(P,x,v),this.I=2}}else this.I==3&&(d?gl(this,d):this.i.length==0||rl(this.h)||gl(this))};function gl(d,v){var x;v?x=v.l:x=d.V++;const T=qt(d.J);dt(T,"SID",d.M),dt(T,"RID",x),dt(T,"AID",d.K),ia(d,T),d.u&&d.o&&na(T,d.u,d.o),x=new hn(d,d.j,x,d.D+1),d.u===null&&(x.J=d.o),v&&(d.i=v.G.concat(d.i)),v=nu(d,x,1e3),x.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),il(d.h,x),Gs(x,T,v)}function ia(d,v){d.H&&he(d.H,function(x,T){dt(v,T,x)}),d.l&&he({},function(x,T){dt(v,T,x)})}function nu(d,v,x){x=Math.min(d.i.length,x);const T=d.l?y(d.l.Ka,d.l,d):null;e:{var P=d.i;let Oe=-1;for(;;){const Vt=["count="+x];Oe==-1?x>0?(Oe=P[0].g,Vt.push("ofs="+Oe)):Oe=0:Vt.push("ofs="+Oe);let rt=!0;for(let At=0;At<x;At++){var Q=P[At].g;const gs=P[At].map;if(Q-=Oe,Q<0)Oe=Math.max(0,P[At].g-100),rt=!1;else try{Q="req"+Q+"_"||"";try{var fe=gs instanceof Map?gs:Object.entries(gs);for(const[sr,Is]of fe){let js=Is;p(Is)&&(js=ne(Is)),Vt.push(Q+sr+"="+encodeURIComponent(js))}}catch(sr){throw Vt.push(Q+"type="+encodeURIComponent("_badmap")),sr}}catch{T&&T(gs)}}if(rt){fe=Vt.join("&");break e}}fe=void 0}return d=d.i.splice(0,x),v.G=d,fe}function su(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;ie||S(),le||(ie(),le=!0),N.add(v,d),d.A=0}}function aa(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=St(y(d.Da,d),au(d,d.A)),d.A++,!0)}s.Da=function(){if(this.v=null,ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=St(y(this.Wa,this),d)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ue(10),si(this),ru(this))};function yl(d){d.B!=null&&(h.clearTimeout(d.B),d.B=null)}function ru(d){d.g=new hn(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=qt(d.na);dt(v,"RID","rpc"),dt(v,"SID",d.M),dt(v,"AID",d.K),dt(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&dt(v,"TO",d.ia),dt(v,"TYPE","xmlhttp"),ia(d,v),d.u&&d.o&&na(v,d.u,d.o),d.O&&(d.g.H=d.O);var x=d.g;d=d.ba,x.M=1,x.A=Zi(qt(v)),x.u=null,x.R=!0,Oa(x,d)}s.Va=function(){this.C!=null&&(this.C=null,si(this),aa(this),Ue(19))};function qa(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function iu(d,v){var x=null;if(d.g==v){qa(d),yl(d),d.g=null;var T=2}else if(Xs(d.h,v))x=v.G,al(d.h,v),T=1;else return;if(d.I!=0){if(v.o)if(T==1){x=v.u?v.u.length:0,v=Date.now()-v.F;var P=d.D;T=qs(),ot(T,new Tt(T,x)),tr(d)}else su(d);else if(P=v.m,P==3||P==0&&v.X>0||!(T==1&&Ha(d,v)||T==2&&aa(d)))switch(x&&x.length>0&&(v=d.h,v.i=v.i.concat(x)),P){case 1:nr(d,5);break;case 4:nr(d,10);break;case 3:nr(d,6);break;default:nr(d,2)}}}function au(d,v){let x=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(x*=2),x*v}function nr(d,v){if(d.j.info("Error code "+v),v==2){var x=y(d.bb,d),T=d.Ua;const P=!T;T=new ss(T||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ln(T,"https"),Zi(T),P?Cs(T.toString(),x):hl(T.toString(),x)}else Ue(2);d.I=0,d.l&&d.l.pa(v),ou(d),Fa(d)}s.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function ou(d){if(d.I=0,d.ja=[],d.l){const v=ol(d.h);(v.length!=0||d.i.length!=0)&&(z(d.ja,v),z(d.ja,d.i),d.h.i.length=0,j(d.i),d.i.length=0),d.l.oa()}}function lu(d,v,x){var T=x instanceof ss?qt(x):new ss(x);if(T.g!="")v&&(T.g=v+"."+T.g),Xr(T,T.u);else{var P=h.location;T=P.protocol,v=v?v+"."+P.hostname:P.hostname,P=+P.port;const Q=new ss(null);T&&ln(Q,T),v&&(Q.g=v),P&&Xr(Q,P),x&&(Q.h=x),T=Q}return x=d.G,v=d.wa,x&&v&&dt(T,x,v),dt(T,"VER",d.ka),ia(d,T),T}function cu(d,v,x){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new mt(new Js({ab:x})):new mt(d.ma),v.Fa(d.L),v}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function uu(){}s=uu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ri(){}ri.prototype.g=function(d,v){return new Ln(d,v)};function Ln(d,v){xt.call(this),this.g=new ni(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!D(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Tr(this)}E(Ln,xt),Ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){pl(this.g)},Ln.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.v&&(x={},x.__data__=ne(d),d=x);v.i.push(new Ht(v.Ya++,d)),v.I==3&&tr(v)},Ln.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,Ln.Z.N.call(this)};function du(d){ut.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const x in v){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}E(du,ut);function hu(){It.call(this),this.status=1}E(hu,It);function Tr(d){this.g=d}E(Tr,uu),Tr.prototype.ra=function(){ot(this.g,"a")},Tr.prototype.qa=function(d){ot(this.g,new du(d))},Tr.prototype.pa=function(d){ot(this.g,new hu)},Tr.prototype.oa=function(){ot(this.g,"b")},ri.prototype.createWebChannel=ri.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,p_=function(){return new ri},m_=function(){return qs()},f_=et,yp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wn.NO_ERROR=0,wn.TIMEOUT=8,wn.HTTP_ERROR=6,Rd=wn,Tn.COMPLETE="complete",h_=Tn,Te.EventType=st,st.OPEN="a",st.CLOSE="b",st.ERROR="c",st.MESSAGE="d",xt.prototype.listen=xt.prototype.J,rc=Te,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,d_=mt}).apply(typeof vd<"u"?vd:typeof self<"u"?self:typeof window<"u"?window:{});const $b="@firebase/firestore",Xb="4.9.3";class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");let Ko="12.7.0";const Ra=new Hp("@firebase/firestore");function Eo(){return Ra.logLevel}function ge(s,...e){if(Ra.logLevel<=Ke.DEBUG){const n=e.map(eg);Ra.debug(`Firestore (${Ko}): ${s}`,...n)}}function Qr(s,...e){if(Ra.logLevel<=Ke.ERROR){const n=e.map(eg);Ra.error(`Firestore (${Ko}): ${s}`,...n)}}function Lo(s,...e){if(Ra.logLevel<=Ke.WARN){const n=e.map(eg);Ra.warn(`Firestore (${Ko}): ${s}`,...n)}}function eg(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Ie(s,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,g_(s,i,n)}function g_(s,e,n){let i=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Qr(i),new Error(i)}function lt(s,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,s||g_(e,o,i)}function Me(s,e){return s}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Aa{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class y_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Nn.UNAUTHENTICATED)))}shutdown(){}}class qC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class GC{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){lt(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let c=new Aa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Aa,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Aa)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(lt(typeof i.accessToken=="string",31837,{l:i}),new y_(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new Nn(e)}}class QC{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YC{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new QC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Wb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){lt(this.o===void 0,3512);const i=c=>{c.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,ge("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>i(c)))};const o=c=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Wb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(lt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Wb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $C(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<s;i++)n[i]=Math.floor(256*Math.random());return n}class tg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=$C(40);for(let c=0;c<o.length;++c)i.length<20&&o[c]<n&&(i+=e.charAt(o[c]%62))}return i}}function $e(s,e){return s<e?-1:s>e?1:0}function vp(s,e){const n=Math.min(s.length,e.length);for(let i=0;i<n;i++){const o=s.charAt(i),c=e.charAt(i);if(o!==c)return $m(o)===$m(c)?$e(o,c):$m(o)?1:-1}return $e(s.length,e.length)}const XC=55296,WC=57343;function $m(s){const e=s.charCodeAt(0);return e>=XC&&e<=WC}function Bo(s,e,n){return s.length===e.length&&s.every(((i,o)=>n(i,e[o])))}const Jb="__name__";class lr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ie(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return lr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const c=lr.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return $e(e.length,n.length)}static compareSegments(e,n){const i=lr.isNumericId(e),o=lr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?lr.extractNumericId(e).compare(lr.extractNumericId(n)):vp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pi.fromString(e.substring(4,e.length-2))}}class Ct extends lr{construct(e,n,i){return new Ct(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new Ct(n)}static emptyPath(){return new Ct([])}}const JC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends lr{construct(e,n,i){return new bn(e,n,i)}static isValidIdentifier(e){return JC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jb}static keyField(){return new bn([Jb])}static fromServerFormat(e){const n=[];let i="",o=0;const c=()=>{if(i.length===0)throw new _e(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new _e(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new _e(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(i+=p,o++):(c(),o++)}if(c(),h)throw new _e(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(n)}static emptyPath(){return new bn([])}}class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(Ct.fromString(e))}static fromName(e){return new Ne(Ct.fromString(e).popFirst(5))}static empty(){return new Ne(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new Ct(e.slice()))}}function ZC(s,e,n){if(!n)throw new _e(ae.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function e4(s,e,n,i){if(e===!0&&i===!0)throw new _e(ae.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Zb(s){if(!Ne.isDocumentKey(s))throw new _e(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function v_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ng(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ie(12329,{type:typeof s})}function zi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new _e(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ng(s);throw new _e(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Xt(s,e){const n={typeString:s};return e&&(n.value=e),n}function Bc(s,e){if(!v_(s))throw new _e(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in s)){n=`JSON missing required field: '${i}'`;break}const h=s[i];if(o&&typeof h!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${i}' field to equal '${c.value}'`;break}}if(n)throw new _e(ae.INVALID_ARGUMENT,n);return!0}const ex=-62135596800,tx=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*tx);return new wt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ex)throw new _e(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tx}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bc(e,wt._jsonSchema))return new wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ex;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:Xt("string",wt._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new wt(0,0))}static max(){return new je(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _c=-1;function t4(s,e){const n=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,o=je.fromTimestamp(i===1e9?new wt(n+1,0):new wt(n,i));return new Fi(o,Ne.empty(),e)}function n4(s){return new Fi(s.readTime,s.key,_c)}class Fi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Fi(je.min(),Ne.empty(),_c)}static max(){return new Fi(je.max(),Ne.empty(),_c)}}function s4(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(s.documentKey,e.documentKey),n!==0?n:$e(s.largestBatchId,e.largestBatchId))}const r4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function $o(s){if(s.code!==ae.FAILED_PRECONDITION||s.message!==r4)throw s;ge("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((i,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,i)=>{n(e)}))}static reject(e){return new te(((n,i)=>{i(e)}))}static waitFor(e){return new te(((n,i)=>{let o=0,c=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++c,h&&c===o&&n()}),(g=>i(g)))})),h=!0,c===o&&n()}))}static or(e){let n=te.resolve(!1);for(const i of e)n=n.next((o=>o?te.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,c)=>{i.push(n.call(this,o,c))})),this.waitFor(i)}static mapArray(e,n){return new te(((i,o)=>{const c=e.length,h=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((_=>{h[y]=_,++p,p===c&&i(h)}),(_=>o(_)))}}))}static doWhile(e,n){return new te(((i,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):i()};c()}))}}function a4(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xo(s){return s.name==="IndexedDbTransactionError"}class yh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yh.ce=-1;const sg=-1;function vh(s){return s==null}function Qd(s){return s===0&&1/s==-1/0}function o4(s){return typeof s=="number"&&Number.isInteger(s)&&!Qd(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const b_="";function l4(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=nx(e)),e=c4(s.get(n),e);return nx(e)}function c4(s,e){let n=e;const i=s.length;for(let o=0;o<i;o++){const c=s.charAt(o);switch(c){case"\0":n+="";break;case b_:n+="";break;default:n+=c}}return n}function nx(s){return s+b_+""}function sx(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Wi(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function x_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Dt{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new Dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bd(this.root,e,this.comparator,!1)}getReverseIterator(){return new bd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bd(this.root,e,this.comparator,!0)}}class bd{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?i(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,i,o,c){this.key=e,this.value=n,this.color=i??vn.RED,this.left=o??vn.EMPTY,this.right=c??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,c){return new vn(e??this.key,n??this.value,i??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const c=i(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,i),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return vn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,i,o,c){return this}insert(e,n,i){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rn{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rx(this.data.getIterator())}getIteratorFrom(e){return new rx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=i.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new rn(this.comparator);return n.data=e,n}}class rx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ds{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new ds([])}unionWith(e){let n=new rn(bn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ds(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class __ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new __("Invalid base64 string: "+c):c}})(e);return new xn(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const u4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(s){if(lt(!!s,39018),typeof s=="string"){let e=0;const n=u4.exec(s);if(lt(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Pt(s.seconds),nanos:Pt(s.nanos)}}function Pt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function qi(s){return typeof s=="string"?xn.fromBase64String(s):xn.fromUint8Array(s)}const E_="server_timestamp",w_="__type__",T_="__previous_value__",S_="__local_write_time__";function rg(s){return(s?.mapValue?.fields||{})[w_]?.stringValue===E_}function bh(s){const e=s.mapValue.fields[T_];return rg(e)?bh(e):e}function Ec(s){const e=Hi(s.mapValue.fields[S_].timestampValue);return new wt(e.seconds,e.nanos)}class d4{constructor(e,n,i,o,c,h,p,g,y,_){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=_}}const Yd="(default)";class wc{constructor(e,n){this.projectId=e,this.database=n||Yd}static empty(){return new wc("","")}get isDefaultDatabase(){return this.database===Yd}isEqual(e){return e instanceof wc&&e.projectId===this.projectId&&e.database===this.database}}const A_="__type__",h4="__max__",xd={mapValue:{}},N_="__vector__",Kd="value";function Gi(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?rg(s)?4:m4(s)?9007199254740991:f4(s)?10:11:Ie(28295,{value:s})}function yr(s,e){if(s===e)return!0;const n=Gi(s);if(n!==Gi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ec(s).isEqual(Ec(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=Hi(o.timestampValue),p=Hi(c.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return qi(o.bytesValue).isEqual(qi(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Pt(o.geoPointValue.latitude)===Pt(c.geoPointValue.latitude)&&Pt(o.geoPointValue.longitude)===Pt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Pt(o.integerValue)===Pt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=Pt(o.doubleValue),p=Pt(c.doubleValue);return h===p?Qd(h)===Qd(p):isNaN(h)&&isNaN(p)}return!1})(s,e);case 9:return Bo(s.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},p=c.mapValue.fields||{};if(sx(h)!==sx(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!yr(h[g],p[g])))return!1;return!0})(s,e);default:return Ie(52216,{left:s})}}function Tc(s,e){return(s.values||[]).find((n=>yr(n,e)))!==void 0}function Po(s,e){if(s===e)return 0;const n=Gi(s),i=Gi(e);if(n!==i)return $e(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(s.booleanValue,e.booleanValue);case 2:return(function(c,h){const p=Pt(c.integerValue||c.doubleValue),g=Pt(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return ix(s.timestampValue,e.timestampValue);case 4:return ix(Ec(s),Ec(e));case 5:return vp(s.stringValue,e.stringValue);case 6:return(function(c,h){const p=qi(c),g=qi(h);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,h){const p=c.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const _=$e(p[y],g[y]);if(_!==0)return _}return $e(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,h){const p=$e(Pt(c.latitude),Pt(h.latitude));return p!==0?p:$e(Pt(c.longitude),Pt(h.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return ax(s.arrayValue,e.arrayValue);case 10:return(function(c,h){const p=c.fields||{},g=h.fields||{},y=p[Kd]?.arrayValue,_=g[Kd]?.arrayValue,E=$e(y?.values?.length||0,_?.values?.length||0);return E!==0?E:ax(y,_)})(s.mapValue,e.mapValue);case 11:return(function(c,h){if(c===xd.mapValue&&h===xd.mapValue)return 0;if(c===xd.mapValue)return 1;if(h===xd.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=h.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let E=0;E<g.length&&E<_.length;++E){const A=vp(g[E],_[E]);if(A!==0)return A;const j=Po(p[g[E]],y[_[E]]);if(j!==0)return j}return $e(g.length,_.length)})(s.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function ix(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return $e(s,e);const n=Hi(s),i=Hi(e),o=$e(n.seconds,i.seconds);return o!==0?o:$e(n.nanos,i.nanos)}function ax(s,e){const n=s.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const c=Po(n[o],i[o]);if(c)return c}return $e(n.length,i.length)}function zo(s){return bp(s)}function bp(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const i=Hi(n);return`time(${i.seconds},${i.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return qi(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return Ne.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let i="[",o=!0;for(const c of n.values||[])o?o=!1:i+=",",i+=bp(c);return i+"]"})(s.arrayValue):"mapValue"in s?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const h of i)c?c=!1:o+=",",o+=`${h}:${bp(n.fields[h])}`;return o+"}"})(s.mapValue):Ie(61005,{value:s})}function Id(s){switch(Gi(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(s);return e?16+Id(e):16;case 5:return 2*s.stringValue.length;case 6:return qi(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,c)=>o+Id(c)),0)})(s.arrayValue);case 10:case 11:return(function(i){let o=0;return Wi(i.fields,((c,h)=>{o+=c.length+Id(h)})),o})(s.mapValue);default:throw Ie(13486,{value:s})}}function xp(s){return!!s&&"integerValue"in s}function ig(s){return!!s&&"arrayValue"in s}function ox(s){return!!s&&"nullValue"in s}function lx(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function jd(s){return!!s&&"mapValue"in s}function f4(s){return(s?.mapValue?.fields||{})[A_]?.stringValue===N_}function dc(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Wi(s.mapValue.fields,((n,i)=>e.mapValue.fields[n]=dc(i))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dc(s.arrayValue.values[n]);return e}return{...s}}function m4(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===h4}class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!jd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dc(n)}setAll(e){let n=bn.emptyPath(),i={},o=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,i,o),i={},o=[],n=p.popLast()}h?i[p.lastSegment()]=dc(h):o.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,i,o)}delete(e){const n=this.field(e.popLast());jd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];jd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){Wi(n,((o,c)=>e[o]=c));for(const o of i)delete e[o]}clone(){return new Jn(dc(this.value))}}function C_(s){const e=[];return Wi(s.fields,((n,i)=>{const o=new bn([n]);if(jd(i)){const c=C_(i.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new ds(e)}class Dn{constructor(e,n,i,o,c,h,p){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=c,this.data=h,this.documentState=p}static newInvalidDocument(e){return new Dn(e,0,je.min(),je.min(),je.min(),Jn.empty(),0)}static newFoundDocument(e,n,i,o){return new Dn(e,1,n,je.min(),i,o,0)}static newNoDocument(e,n){return new Dn(e,2,n,je.min(),je.min(),Jn.empty(),0)}static newUnknownDocument(e,n){return new Dn(e,3,n,je.min(),je.min(),Jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $d{constructor(e,n){this.position=e,this.inclusive=n}}function cx(s,e,n){let i=0;for(let o=0;o<s.position.length;o++){const c=e[o],h=s.position[o];if(c.field.isKeyField()?i=Ne.comparator(Ne.fromName(h.referenceValue),n.key):i=Po(h,n.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function ux(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!yr(s.position[n],e.position[n]))return!1;return!0}class Xd{constructor(e,n="asc"){this.field=e,this.dir=n}}function p4(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class D_{}class nn extends D_{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new y4(e,n,i):n==="array-contains"?new x4(e,i):n==="in"?new _4(e,i):n==="not-in"?new E4(e,i):n==="array-contains-any"?new w4(e,i):new nn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new v4(e,i):new b4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Po(n,this.value)):n!==null&&Gi(this.value)===Gi(n)&&this.matchesComparison(Po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vr extends D_{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new vr(e,n)}matches(e){return R_(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function R_(s){return s.op==="and"}function I_(s){return g4(s)&&R_(s)}function g4(s){for(const e of s.filters)if(e instanceof vr)return!1;return!0}function _p(s){if(s instanceof nn)return s.field.canonicalString()+s.op.toString()+zo(s.value);if(I_(s))return s.filters.map((e=>_p(e))).join(",");{const e=s.filters.map((n=>_p(n))).join(",");return`${s.op}(${e})`}}function j_(s,e){return s instanceof nn?(function(i,o){return o instanceof nn&&i.op===o.op&&i.field.isEqual(o.field)&&yr(i.value,o.value)})(s,e):s instanceof vr?(function(i,o){return o instanceof vr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((c,h,p)=>c&&j_(h,o.filters[p])),!0):!1})(s,e):void Ie(19439)}function k_(s){return s instanceof nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${zo(n.value)}`})(s):s instanceof vr?(function(n){return n.op.toString()+" {"+n.getFilters().map(k_).join(" ,")+"}"})(s):"Filter"}class y4 extends nn{constructor(e,n,i){super(e,n,i),this.key=Ne.fromName(i.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class v4 extends nn{constructor(e,n){super(e,"in",n),this.keys=M_("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class b4 extends nn{constructor(e,n){super(e,"not-in",n),this.keys=M_("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function M_(s,e){return(e.arrayValue?.values||[]).map((n=>Ne.fromName(n.referenceValue)))}class x4 extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ig(n)&&Tc(n.arrayValue,this.value)}}class _4 extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tc(this.value.arrayValue,n)}}class E4 extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Tc(this.value.arrayValue,n)}}class w4 extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ig(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Tc(this.value.arrayValue,i)))}}class T4{constructor(e,n=null,i=[],o=[],c=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=c,this.startAt=h,this.endAt=p,this.Te=null}}function dx(s,e=null,n=[],i=[],o=null,c=null,h=null){return new T4(s,e,n,i,o,c,h)}function ag(s){const e=Me(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>_p(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(c){return c.field.canonicalString()+c.dir})(i))).join(","),vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>zo(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>zo(i))).join(",")),e.Te=n}return e.Te}function og(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!p4(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!j_(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!ux(s.startAt,e.startAt)&&ux(s.endAt,e.endAt)}function Ep(s){return Ne.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class xh{constructor(e,n=null,i=[],o=[],c=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=c,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function S4(s,e,n,i,o,c,h,p){return new xh(s,e,n,i,o,c,h,p)}function lg(s){return new xh(s)}function hx(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function A4(s){return s.collectionGroup!==null}function hc(s){const e=Me(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new rn(bn.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Xd(c,i))})),n.has(bn.keyField().canonicalString())||e.Ie.push(new Xd(bn.keyField(),i))}return e.Ie}function hr(s){const e=Me(s);return e.Ee||(e.Ee=N4(e,hc(s))),e.Ee}function N4(s,e){if(s.limitType==="F")return dx(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Xd(o.field,c)}));const n=s.endAt?new $d(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new $d(s.startAt.position,s.startAt.inclusive):null;return dx(s.path,s.collectionGroup,e,s.filters,s.limit,n,i)}}function wp(s,e,n){return new xh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function _h(s,e){return og(hr(s),hr(e))&&s.limitType===e.limitType}function O_(s){return`${ag(hr(s))}|lt:${s.limitType}`}function wo(s){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>k_(o))).join(", ")}]`),vh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>zo(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>zo(o))).join(",")),`Target(${i})`})(hr(s))}; limitType=${s.limitType})`}function Eh(s,e){return e.isFoundDocument()&&(function(i,o){const c=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):Ne.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)})(s,e)&&(function(i,o){for(const c of hc(i))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(i,o){return!(i.startAt&&!(function(h,p,g){const y=cx(h,p,g);return h.inclusive?y<=0:y<0})(i.startAt,hc(i),o)||i.endAt&&!(function(h,p,g){const y=cx(h,p,g);return h.inclusive?y>=0:y>0})(i.endAt,hc(i),o))})(s,e)}function C4(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function V_(s){return(e,n)=>{let i=!1;for(const o of hc(s)){const c=D4(o,e,n);if(c!==0)return c;i=i||o.field.isKeyField()}return 0}}function D4(s,e,n){const i=s.field.isKeyField()?Ne.comparator(e.key,n.key):(function(c,h,p){const g=h.data.field(c),y=p.data.field(c);return g!==null&&y!==null?Po(g,y):Ie(42886)})(s.field,e,n);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return Ie(19790,{direction:s.dir})}}class ka{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,c]of i)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Wi(this.inner,((n,i)=>{for(const[o,c]of i)e(o,c)}))}isEmpty(){return x_(this.inner)}size(){return this.innerSize}}const R4=new Dt(Ne.comparator);function Yr(){return R4}const L_=new Dt(Ne.comparator);function ic(...s){let e=L_;for(const n of s)e=e.insert(n.key,n);return e}function B_(s){let e=L_;return s.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Sa(){return fc()}function P_(){return fc()}function fc(){return new ka((s=>s.toString()),((s,e)=>s.isEqual(e)))}const I4=new Dt(Ne.comparator),j4=new rn(Ne.comparator);function Xe(...s){let e=j4;for(const n of s)e=e.add(n);return e}const k4=new rn($e);function M4(){return k4}function cg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qd(e)?"-0":e}}function z_(s){return{integerValue:""+s}}function O4(s,e){return o4(e)?z_(e):cg(s,e)}class wh{constructor(){this._=void 0}}function V4(s,e,n){return s instanceof Wd?(function(o,c){const h={fields:{[w_]:{stringValue:E_},[S_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&rg(c)&&(c=bh(c)),c&&(h.fields[T_]=c),{mapValue:h}})(n,e):s instanceof Uo?F_(s,e):s instanceof Sc?H_(s,e):(function(o,c){const h=U_(o,c),p=fx(h)+fx(o.Ae);return xp(h)&&xp(o.Ae)?z_(p):cg(o.serializer,p)})(s,e)}function L4(s,e,n){return s instanceof Uo?F_(s,e):s instanceof Sc?H_(s,e):n}function U_(s,e){return s instanceof Jd?(function(i){return xp(i)||(function(c){return!!c&&"doubleValue"in c})(i)})(e)?e:{integerValue:0}:null}class Wd extends wh{}class Uo extends wh{constructor(e){super(),this.elements=e}}function F_(s,e){const n=q_(e);for(const i of s.elements)n.some((o=>yr(o,i)))||n.push(i);return{arrayValue:{values:n}}}class Sc extends wh{constructor(e){super(),this.elements=e}}function H_(s,e){let n=q_(e);for(const i of s.elements)n=n.filter((o=>!yr(o,i)));return{arrayValue:{values:n}}}class Jd extends wh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function fx(s){return Pt(s.integerValue||s.doubleValue)}function q_(s){return ig(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class B4{constructor(e,n){this.field=e,this.transform=n}}function P4(s,e){return s.field.isEqual(e.field)&&(function(i,o){return i instanceof Uo&&o instanceof Uo||i instanceof Sc&&o instanceof Sc?Bo(i.elements,o.elements,yr):i instanceof Jd&&o instanceof Jd?yr(i.Ae,o.Ae):i instanceof Wd&&o instanceof Wd})(s.transform,e.transform)}class z4{constructor(e,n){this.version=e,this.transformResults=n}}class fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kd(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Th{}function G_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Y_(s.key,fr.none()):new Pc(s.key,s.data,fr.none());{const n=s.data,i=Jn.empty();let o=new rn(bn.comparator);for(let c of e.fields)if(!o.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?i.delete(c):i.set(c,h),o=o.add(c)}return new Ji(s.key,i,new ds(o.toArray()),fr.none())}}function U4(s,e,n){s instanceof Pc?(function(o,c,h){const p=o.value.clone(),g=px(o.fieldTransforms,c,h.transformResults);p.setAll(g),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(s,e,n):s instanceof Ji?(function(o,c,h){if(!kd(o.precondition,c))return void c.convertToUnknownDocument(h.version);const p=px(o.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(Q_(o)),g.setAll(p),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(s,e,n):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function mc(s,e,n,i){return s instanceof Pc?(function(c,h,p,g){if(!kd(c.precondition,h))return p;const y=c.value.clone(),_=gx(c.fieldTransforms,g,h);return y.setAll(_),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(s,e,n,i):s instanceof Ji?(function(c,h,p,g){if(!kd(c.precondition,h))return p;const y=gx(c.fieldTransforms,g,h),_=h.data;return _.setAll(Q_(c)),_.setAll(y),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(s,e,n,i):(function(c,h,p){return kd(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(s,e,n)}function F4(s,e){let n=null;for(const i of s.fieldTransforms){const o=e.data.field(i.field),c=U_(i.transform,o||null);c!=null&&(n===null&&(n=Jn.empty()),n.set(i.field,c))}return n||null}function mx(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Bo(i,o,((c,h)=>P4(c,h)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Pc extends Th{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ji extends Th{constructor(e,n,i,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Q_(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=s.data.field(n);e.set(n,i)}})),e}function px(s,e,n){const i=new Map;lt(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const c=s[o],h=c.transform,p=e.data.field(c.field);i.set(c.field,L4(h,p,n[o]))}return i}function gx(s,e,n){const i=new Map;for(const o of s){const c=o.transform,h=n.data.field(o.field);i.set(o.field,V4(c,h,e))}return i}class Y_ extends Th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H4 extends Th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class q4{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&U4(c,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=mc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=mc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=P_();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let p=this.applyToLocalView(h,c.mutatedFields);p=n.has(o.key)?null:p;const g=G_(h,p);g!==null&&i.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(je.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,((n,i)=>mx(n,i)))&&Bo(this.baseMutations,e.baseMutations,((n,i)=>mx(n,i)))}}class ug{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){lt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return I4})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,i[h].version);return new ug(e,n,i,o)}}class G4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Q4{constructor(e,n){this.count=e,this.unchangedNames=n}}var $t,Ze;function Y4(s){switch(s){case ae.OK:return Ie(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ie(15467,{code:s})}}function K_(s){if(s===void 0)return Qr("GRPC error has no .code"),ae.UNKNOWN;switch(s){case $t.OK:return ae.OK;case $t.CANCELLED:return ae.CANCELLED;case $t.UNKNOWN:return ae.UNKNOWN;case $t.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case $t.INTERNAL:return ae.INTERNAL;case $t.UNAVAILABLE:return ae.UNAVAILABLE;case $t.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case $t.NOT_FOUND:return ae.NOT_FOUND;case $t.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case $t.ABORTED:return ae.ABORTED;case $t.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case $t.DATA_LOSS:return ae.DATA_LOSS;default:return Ie(39323,{code:s})}}(Ze=$t||($t={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";function K4(){return new TextEncoder}const $4=new Pi([4294967295,4294967295],0);function yx(s){const e=K4().encode(s),n=new u_;return n.update(e),new Uint8Array(n.digest())}function vx(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Pi([n,i],0),new Pi([o,c],0)]}class dg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ac(`Invalid padding: ${n}`);if(i<0)throw new ac(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ac(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ac(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Pi.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(Pi.fromNumber(i)));return o.compare($4)===1&&(o=new Pi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=yx(e),[i,o]=vx(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(i,o,c);if(!this.we(h))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new dg(c,o,n);return i.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=yx(e),[i,o]=vx(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(i,o,c);this.Se(h)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(e,n,i,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,zc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Sh(je.min(),o,new Dt($e),Yr(),Xe())}}class zc{constructor(e,n,i,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new zc(i,n,Xe(),Xe(),Xe())}}class Md{constructor(e,n,i,o){this.be=e,this.removedTargetIds=n,this.key=i,this.De=o}}class $_{constructor(e,n){this.targetId=e,this.Ce=n}}class X_{constructor(e,n,i=xn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class bx{constructor(){this.ve=0,this.Fe=xx(),this.Me=xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),i=Xe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Ie(38017,{changeType:c})}})),new zc(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=xx()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class X4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yr(),this.Je=_d(),this.He=_d(),this.Ye=new Dt($e)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Ep(c))if(i===0){const h=new Ne(c.path);this.et(n,h,Dn.newNoDocument(h,je.min()))}else lt(i===1,20013,{expectedCount:i});else{const h=this._t(n);if(h!==i){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:c=0}=n;let h,p;try{h=qi(i).toUint8Array()}catch(g){if(g instanceof __)return Lo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new dg(h,o,c)}catch(g){return Lo(g instanceof ac?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((c=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const p=this.ot(h);if(p){if(c.current&&Ep(p.target)){const g=new Ne(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,Dn.newNoDocument(g,e))}c.Be&&(n.set(h,c.ke()),c.qe())}}));let i=Xe();this.He.forEach(((c,h)=>{let p=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new Sh(e,n,this.Ye,this.je,i);return this.je=Yr(),this.Je=_d(),this.He=_d(),this.Ye=new Dt($e),o}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new bx,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new rn($e),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new rn($e),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new bx),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _d(){return new Dt(Ne.comparator)}function xx(){return new Dt(Ne.comparator)}const W4={asc:"ASCENDING",desc:"DESCENDING"},J4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z4={and:"AND",or:"OR"};class eD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tp(s,e){return s.useProto3Json||vh(e)?e:{value:e}}function Zd(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function tD(s,e){return Zd(s,e.toTimestamp())}function mr(s){return lt(!!s,49232),je.fromTimestamp((function(n){const i=Hi(n);return new wt(i.seconds,i.nanos)})(s))}function hg(s,e){return Sp(s,e).canonicalString()}function Sp(s,e){const n=(function(o){return new Ct(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function J_(s){const e=Ct.fromString(s);return lt(sE(e),10190,{key:e.toString()}),e}function Ap(s,e){return hg(s.databaseId,e.path)}function Xm(s,e){const n=J_(e);if(n.get(1)!==s.databaseId.projectId)throw new _e(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new _e(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Ne(eE(n))}function Z_(s,e){return hg(s.databaseId,e)}function nD(s){const e=J_(s);return e.length===4?Ct.emptyPath():eE(e)}function Np(s){return new Ct(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function eE(s){return lt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function _x(s,e,n){return{name:Ap(s,e),fields:n.value.mapValue.fields}}function sD(s,e){let n;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ie(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,_){return y.useProto3Json?(lt(_===void 0||typeof _=="string",58123),xn.fromBase64String(_||"")):(lt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),xn.fromUint8Array(_||new Uint8Array))})(s,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(y){const _=y.code===void 0?ae.UNKNOWN:K_(y.code);return new _e(_,y.message||"")})(h);n=new X_(i,o,c,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Xm(s,i.document.name),c=mr(i.document.updateTime),h=i.document.createTime?mr(i.document.createTime):je.min(),p=new Jn({mapValue:{fields:i.document.fields}}),g=Dn.newFoundDocument(o,c,h,p),y=i.targetIds||[],_=i.removedTargetIds||[];n=new Md(y,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Xm(s,i.document),c=i.readTime?mr(i.readTime):je.min(),h=Dn.newNoDocument(o,c),p=i.removedTargetIds||[];n=new Md([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Xm(s,i.document),c=i.removedTargetIds||[];n=new Md([],c,o,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:c}=i,h=new Q4(o,c),p=i.targetId;n=new $_(p,h)}}return n}function rD(s,e){let n;if(e instanceof Pc)n={update:_x(s,e.key,e.value)};else if(e instanceof Y_)n={delete:Ap(s,e.key)};else if(e instanceof Ji)n={update:_x(s,e.key,e.data),updateMask:fD(e.fieldMask)};else{if(!(e instanceof H4))return Ie(16599,{Vt:e.type});n={verify:Ap(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(c,h){const p=h.transform;if(p instanceof Wd)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Uo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Sc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Jd)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw Ie(20930,{transform:h.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:tD(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ie(27497)})(s,e.precondition)),n}function iD(s,e){return s&&s.length>0?(lt(e!==void 0,14353),s.map((n=>(function(o,c){let h=o.updateTime?mr(o.updateTime):mr(c);return h.isEqual(je.min())&&(h=mr(c)),new z4(h,o.transformResults||[])})(n,e)))):[]}function aD(s,e){return{documents:[Z_(s,e.path)]}}function oD(s,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Z_(s,o);const c=(function(y){if(y.length!==0)return nE(vr.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(y){if(y.length!==0)return y.map((_=>(function(A){return{field:To(A.field),direction:uD(A.dir)}})(_)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=Tp(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function lD(s){let e=nD(s.parent);const n=s.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){lt(i===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let c=[];n.where&&(c=(function(E){const A=tE(E);return A instanceof vr&&I_(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(E){return E.map((A=>(function(z){return new Xd(So(z.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(A)))})(n.orderBy));let p=null;n.limit&&(p=(function(E){let A;return A=typeof E=="object"?E.value:E,vh(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(E){const A=!!E.before,j=E.values||[];return new $d(j,A)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const A=!E.before,j=E.values||[];return new $d(j,A)})(n.endAt)),S4(e,o,h,c,p,"F",g,y)}function cD(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=So(n.unaryFilter.field);return nn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=So(n.unaryFilter.field);return nn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=So(n.unaryFilter.field);return nn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=So(n.unaryFilter.field);return nn.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(s):s.fieldFilter!==void 0?(function(n){return nn.create(So(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return vr.create(n.compositeFilter.filters.map((i=>tE(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(s):Ie(30097,{filter:s})}function uD(s){return W4[s]}function dD(s){return J4[s]}function hD(s){return Z4[s]}function To(s){return{fieldPath:s.canonicalString()}}function So(s){return bn.fromServerFormat(s.fieldPath)}function nE(s){return s instanceof nn?(function(n){if(n.op==="=="){if(lx(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NAN"}};if(ox(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lx(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NAN"}};if(ox(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(n.field),op:dD(n.op),value:n.value}}})(s):s instanceof vr?(function(n){const i=n.getFilters().map((o=>nE(o)));return i.length===1?i[0]:{compositeFilter:{op:hD(n.op),filters:i}}})(s):Ie(54877,{filter:s})}function fD(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function sE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Mi{constructor(e,n,i,o,c=je.min(),h=je.min(),p=xn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mD{constructor(e){this.yt=e}}function pD(s){const e=lD({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?wp(e,e.limit,"L"):e}class gD{constructor(){this.Cn=new yD}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Fi.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Fi.min())}updateCollectionGroup(e,n,i){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class yD{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new rn(Ct.comparator),c=!o.has(i);return this.index[n]=o.add(i),c}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new rn(Ct.comparator)).toArray()}}const Ex={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rE=41943040;class Wn{static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(rE,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);class Fo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Fo(0)}static cr(){return new Fo(-1)}}const wx="LruGarbageCollector",vD=1048576;function Tx([s,e],[n,i]){const o=$e(s,n);return o===0?$e(e,i):o}class bD{constructor(e){this.Ir=e,this.buffer=new rn(Tx),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Tx(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xD{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(wx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xo(n)?ge(wx,"Ignoring IndexedDB error during garbage collection: ",n):await $o(n)}await this.Vr(3e5)}))}}class _D{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(yh.ce);const i=new bD(n);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(Ex)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ex):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,o,c,h,p,g,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,p=Date.now(),this.removeTargets(e,i,n)))).next((E=>(c=E,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(y=Date.now(),Eo()<=Ke.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-_}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:E}))))}}function ED(s,e){return new _D(s,e)}class wD{constructor(){this.changes=new ka((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?te.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class TD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class SD{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&mc(i.mutation,o,ds.empty(),wt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Xe()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Xe()){const o=Sa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((c=>{let h=ic();return c.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const i=Sa();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Xe())))}populateOverlays(e,n,i){const o=[];return i.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,i,o){let c=Yr();const h=fc(),p=(function(){return fc()})();return n.forEach(((g,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof Ji)?c=c.insert(y.key,y):_!==void 0?(h.set(y.key,_.mutation.getFieldMask()),mc(_.mutation,y,_.mutation.getFieldMask(),wt.now())):h.set(y.key,ds.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,_)=>h.set(y,_))),n.forEach(((y,_)=>p.set(y,new TD(_,h.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const i=fc();let o=new Dt(((h,p)=>h-p)),c=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let _=i.get(g)||ds.empty();_=p.applyToLocalView(y,_),i.set(g,_);const E=(o.get(p.batchId)||Xe()).add(g);o=o.insert(p.batchId,E)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,_=g.value,E=P_();_.forEach((A=>{if(!c.has(A)){const j=G_(n.get(A),i.get(A));j!==null&&E.set(A,j),c=c.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,E))}return te.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return(function(h){return Ne.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):A4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-c.size):te.resolve(Sa());let p=_c,g=c;return h.next((y=>te.forEach(y,((_,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),c.get(_)?te.resolve():this.remoteDocumentCache.getEntry(e,_).next((A=>{g=g.insert(_,A)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Xe()))).next((_=>({batchId:p,changes:B_(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next((i=>{let o=ic();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const c=n.collectionGroup;let h=ic();return this.indexManager.getCollectionParents(e,c).next((p=>te.forEach(p,(g=>{const y=(function(E,A){return new xh(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((_=>{_.forEach(((E,A)=>{h=h.insert(E,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,c,o)))).next((h=>{c.forEach(((g,y)=>{const _=y.getKey();h.get(_)===null&&(h=h.insert(_,Dn.newInvalidDocument(_)))}));let p=ic();return h.forEach(((g,y)=>{const _=c.get(g);_!==void 0&&mc(_.mutation,y,ds.empty(),wt.now()),Eh(n,y)&&(p=p.insert(g,y))})),p}))}}class AD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:mr(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:pD(o.bundledQuery),readTime:mr(o.readTime)}})(n)),te.resolve()}}class ND{constructor(){this.overlays=new Dt(Ne.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Sa();return te.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&i.set(o,c)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,c)=>{this.St(e,n,c)})),te.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(i)),te.resolve()}getOverlaysForCollection(e,n,i){const o=Sa(),c=n.length+1,h=new Ne(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>i&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let c=new Dt(((y,_)=>y-_));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let _=c.get(y.largestBatchId);_===null&&(_=Sa(),c=c.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const p=Sa(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,_)=>p.set(y,_))),!(p.size()>=o)););return te.resolve(p)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new G4(n,i));let c=this.qr.get(n);c===void 0&&(c=Xe(),this.qr.set(n,c)),this.qr.set(n,c.add(i.key))}}class CD{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class fg{constructor(){this.Qr=new rn(un.$r),this.Ur=new rn(un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new un(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new un(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Ne(new Ct([])),i=new un(n,e),o=new un(n,e+1),c=[];return this.Ur.forEachInRange([i,o],(h=>{this.Gr(h),c.push(h.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ne(new Ct([])),i=new un(n,e),o=new un(n,e+1);let c=Xe();return this.Ur.forEachInRange([i,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new un(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class un{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ne.comparator(e.key,n.key)||$e(e.Yr,n.Yr)}static Kr(e,n){return $e(e.Yr,n.Yr)||Ne.comparator(e.key,n.key)}}class DD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new rn(un.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new q4(c,n,i,o);this.mutationQueue.push(h);for(const p of o)this.Zr=this.Zr.add(new un(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.ei(i),c=o<0?0:o;return te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?sg:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new un(n,0),o=new un(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([i,o],(h=>{const p=this.Xr(h.Yr);c.push(p)})),te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new rn($e);return n.forEach((o=>{const c=new un(o,0),h=new un(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,h],(p=>{i=i.add(p.Yr)}))})),te.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let c=i;Ne.isDocumentKey(c)||(c=c.child(""));const h=new un(new Ne(c),0);let p=new rn($e);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),h),te.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){lt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return te.forEach(n.mutations,(o=>{const c=new un(o.key,n.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new un(n,0),o=this.Zr.firstAfterOrEqual(i);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class RD{constructor(e){this.ri=e,this.docs=(function(){return new Dt(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),c=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return te.resolve(i?i.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let i=Yr();return n.forEach((o=>{const c=this.docs.get(o);i=i.insert(o,c?c.document.mutableCopy():Dn.newInvalidDocument(o))})),te.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let c=Yr();const h=n.path,p=new Ne(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||s4(n4(_),i)<=0||(o.has(_.key)||Eh(n,_))&&(c=c.insert(_.key,_.mutableCopy()))}return te.resolve(c)}getAllFromCollectionGroup(e,n,i,o){Ie(9500)}ii(e,n){return te.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new ID(this)}getSize(e){return te.resolve(this.size)}}class ID extends wD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class jD{constructor(e){this.persistence=e,this.si=new ka((n=>ag(n)),og),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.oi=0,this._i=new fg,this.targetCount=0,this.ai=Fo.ur()}forEachTarget(e,n){return this.si.forEach(((i,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Fo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,i){let o=0;const c=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=n&&i.get(p.targetId)===null&&(this.si.delete(h),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),te.waitFor(c).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return te.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),te.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),te.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return te.resolve(i)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class iE{constructor(e,n){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new CD,this.referenceDelegate=e(this),this.Pi=new jD(this),this.indexManager=new gD,this.remoteDocumentCache=(function(o){return new RD(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new mD(n),this.Ii=new AD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ND,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new DD(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){ge("MemoryPersistence","Starting transaction:",e);const o=new kD(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return te.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class kD extends i4{constructor(e){super(),this.currentSequenceNumber=e}}class mg{constructor(e){this.persistence=e,this.Ri=new fg,this.Vi=null}static mi(e){return new mg(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),te.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(i=>{const o=Ne.fromPath(i);return this.gi(e,o).next((c=>{c||n.removeEntry(o,je.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class eh{constructor(e,n){this.persistence=e,this.pi=new ka((i=>l4(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=ED(this,n)}static mi(e,n){return new eh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((i,o)=>this.br(e,i,o).next((c=>c?te.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((p=>{p||(i++,c.removeEntry(h,je.min()))})))).next((()=>c.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),te.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Id(e.data.value)),n}br(e,n,i){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class pg{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=o}static As(e,n){let i=Xe(),o=Xe();for(const c of n.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new pg(e,n.fromCache,i,o)}}class MD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class OD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return hS()?8:a4(Rn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const c={result:null};return this.ys(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ws(e,n,o,i).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new MD;return this.Ss(e,n,h).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,h,p.size)}))})).next((()=>c.result))}bs(e,n,i,o){return i.documentReadCount<this.fs?(Eo()<=Ke.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Eo()<=Ke.DEBUG&&ge("QueryEngine","Query:",wo(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Eo()<=Ke.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(n))):te.resolve())}ys(e,n){if(hx(n))return te.resolve(null);let i=hr(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=wp(n,null,"F"),i=hr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((c=>{const h=Xe(...c);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,i).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,h,g.readTime)?this.ys(e,wp(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,i,o){return hx(n)||o.isEqual(je.min())?te.resolve(null):this.ps.getDocuments(e,i).next((c=>{const h=this.Ds(n,c);return this.Cs(n,h,i,o)?te.resolve(null):(Eo()<=Ke.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wo(n)),this.vs(e,h,n,t4(o,_c)).next((p=>p)))}))}Ds(e,n){let i=new rn(V_(e));return n.forEach(((o,c)=>{Eh(e,c)&&(i=i.add(c))})),i}Cs(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,i){return Eo()<=Ke.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",wo(n)),this.ps.getDocumentsMatchingQuery(e,n,Fi.min(),i)}vs(e,n,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}const gg="LocalStore",VD=3e8;class LD{constructor(e,n,i,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Dt($e),this.xs=new ka((c=>ag(c)),og),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function BD(s,e,n,i){return new LD(s,e,n,i)}async function aE(s,e){const n=Me(s);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((c=>{const h=[],p=[];let g=Xe();for(const y of o){h.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of c){p.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return n.localDocuments.getDocuments(i,g).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:p})))}))}))}function PD(s,e){const n=Me(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,_){const E=y.batch,A=E.keys();let j=te.resolve();return A.forEach((z=>{j=j.next((()=>_.getEntry(g,z))).next((G=>{const q=y.docVersions.get(z);lt(q!==null,48541),G.version.compareTo(q)<0&&(E.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),_.addEntry(G)))}))})),j.next((()=>p.mutationQueue.removeMutationBatch(g,E)))})(n,i,e,c).next((()=>c.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(p){let g=Xe();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function oE(s){const e=Me(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function zD(s,e){const n=Me(s),i=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((_,E)=>{const A=o.get(E);if(!A)return;p.push(n.Pi.removeMatchingKeys(c,_.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(c,_.addedDocuments,E))));let j=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?j=j.withResumeToken(xn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):_.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(_.resumeToken,i)),o=o.insert(E,j),(function(G,q,re){return G.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=VD?!0:re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0})(A,j,_)&&p.push(n.Pi.updateTargetData(c,j))}));let g=Yr(),y=Xe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,_))})),p.push(UD(c,h,e.documentUpdates).next((_=>{g=_.ks,y=_.qs}))),!i.isEqual(je.min())){const _=n.Pi.getLastRemoteSnapshotVersion(c).next((E=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,i)));p.push(_)}return te.waitFor(p).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.Ms=o,c)))}function UD(s,e,n){let i=Xe(),o=Xe();return n.forEach((c=>i=i.add(c))),e.getEntries(s,i).next((c=>{let h=Yr();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(je.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):ge(gg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function FD(s,e){const n=Me(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=sg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function HD(s,e){const n=Me(s);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.Pi.getTargetData(i,e).next((c=>c?(o=c,te.resolve(o)):n.Pi.allocateTargetId(i).next((h=>(o=new Mi(e,h,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function Cp(s,e,n){const i=Me(s),o=i.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",c,(h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Xo(h))throw h;ge(gg,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function Sx(s,e,n){const i=Me(s);let o=je.min(),c=Xe();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,_){const E=Me(g),A=E.xs.get(_);return A!==void 0?te.resolve(E.Ms.get(A)):E.Pi.getTargetData(y,_)})(i,h,hr(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,p.targetId).next((g=>{c=g}))})).next((()=>i.Fs.getDocumentsMatchingQuery(h,e,n?o:je.min(),n?c:Xe()))).next((p=>(qD(i,C4(e),p),{documents:p,Qs:c})))))}function qD(s,e,n){let i=s.Os.get(e)||je.min();n.forEach(((o,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)})),s.Os.set(e,i)}class Ax{constructor(){this.activeTargetIds=M4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GD{constructor(){this.Mo=new Ax,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ax,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class QD{Oo(e){}shutdown(){}}const Nx="ConnectivityMonitor";class Cx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(Nx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(Nx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ed=null;function Dp(){return Ed===null?Ed=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ed++,"0x"+Ed.toString(16)}const Wm="RestConnection",YD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Yd?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,n,i,o,c){const h=Dp(),p=this.zo(e,n.toUriEncodedString());ge(Wm,`Sending RPC '${e}' ${h}:`,p,i);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(p),_=qo(y);return this.Jo(e,p,g,i,_).then((E=>(ge(Wm,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw Lo(Wm,`RPC '${e}' ${h} failed with error: `,E,"url: ",p,"request:",i),E}))}Ho(e,n,i,o,c,h){return this.Go(e,n,i,o,c)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ko})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),i&&i.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const i=YD[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}class $D{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const An="WebChannelConnection";class XD extends KD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,o,c){const h=Dp();return new Promise(((p,g)=>{const y=new d_;y.setWithCredentials(!0),y.listenOnce(h_.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Rd.NO_ERROR:const E=y.getResponseJson();ge(An,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),p(E);break;case Rd.TIMEOUT:ge(An,`RPC '${e}' ${h} timed out`),g(new _e(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Rd.HTTP_ERROR:const A=y.getStatus();if(ge(An,`RPC '${e}' ${h} failed with status:`,A,"response text:",y.getResponseText()),A>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const z=j?.error;if(z&&z.status&&z.message){const G=(function(re){const oe=re.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(oe)>=0?oe:ae.UNKNOWN})(z.status);g(new _e(G,z.message))}else g(new _e(ae.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new _e(ae.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ge(An,`RPC '${e}' ${h} completed.`)}}));const _=JSON.stringify(o);ge(An,`RPC '${e}' ${h} sending request:`,o),y.send(n,"POST",_,i,15)}))}T_(e,n,i){const o=Dp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=p_(),p=m_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,i),g.encodeInitMessageHeaders=!0;const _=c.join("");ge(An,`Creating RPC '${e}' stream ${o}: ${_}`,g);const E=h.createWebChannel(_,g);this.I_(E);let A=!1,j=!1;const z=new $D({Yo:q=>{j?ge(An,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(A||(ge(An,`Opening RPC '${e}' stream ${o} transport.`),E.open(),A=!0),ge(An,`RPC '${e}' stream ${o} sending:`,q),E.send(q))},Zo:()=>E.close()}),G=(q,re,oe)=>{q.listen(re,(ee=>{try{oe(ee)}catch(se){setTimeout((()=>{throw se}),0)}}))};return G(E,rc.EventType.OPEN,(()=>{j||(ge(An,`RPC '${e}' stream ${o} transport opened.`),z.o_())})),G(E,rc.EventType.CLOSE,(()=>{j||(j=!0,ge(An,`RPC '${e}' stream ${o} transport closed`),z.a_(),this.E_(E))})),G(E,rc.EventType.ERROR,(q=>{j||(j=!0,Lo(An,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),z.a_(new _e(ae.UNAVAILABLE,"The operation could not be completed")))})),G(E,rc.EventType.MESSAGE,(q=>{if(!j){const re=q.data[0];lt(!!re,16349);const oe=re,ee=oe?.error||oe[0]?.error;if(ee){ge(An,`RPC '${e}' stream ${o} received error:`,ee);const se=ee.status;let ie=(function(S){const C=$t[S];if(C!==void 0)return K_(C)})(se),le=ee.message;ie===void 0&&(ie=ae.INTERNAL,le="Unknown error status: "+se+" with message "+ee.message),j=!0,z.a_(new _e(ie,le)),E.close()}else ge(An,`RPC '${e}' stream ${o} received:`,re),z.u_(re)}})),G(p,f_.STAT_EVENT,(q=>{q.stat===yp.PROXY?ge(An,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===yp.NOPROXY&&ge(An,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Jm(){return typeof document<"u"?document:null}function Ah(s){return new eD(s,!0)}class lE{constructor(e,n,i=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Dx="PersistentStream";class cE{constructor(e,n,i,o,c,h,p,g){this.Mi=e,this.S_=i,this.b_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(Qr(n.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new _e(ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(Dx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(Dx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class WD extends cE{constructor(e,n,i,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=sD(this.serializer,e),i=(function(c){if(!("targetChange"in c))return je.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?je.min():h.readTime?mr(h.readTime):je.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Np(this.serializer),n.addTarget=(function(c,h){let p;const g=h.target;if(p=Ep(g)?{documents:aD(c,g)}:{query:oD(c,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=W_(c,h.resumeToken);const y=Tp(c,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(je.min())>0){p.readTime=Zd(c,h.snapshotVersion.toTimestamp());const y=Tp(c,h.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const i=cD(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Np(this.serializer),n.removeTarget=e,this.q_(n)}}class JD extends cE{constructor(e,n,i,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,h),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=iD(e.writeResults,e.commitTime),i=mr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Np(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>rD(this.serializer,i)))};this.q_(n)}}class ZD{}class e5 extends ZD{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new _e(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Go(e,Sp(n,i),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(ae.UNKNOWN,c.toString())}))}Ho(e,n,i,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,Sp(n,i),o,h,p,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new _e(ae.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class t5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qr(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ia="RemoteStore";class n5{constructor(e,n,i,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((h=>{i.enqueueAndForget((async()=>{Ma(this)&&(ge(Ia,"Restarting streams for network reachability change."),await(async function(g){const y=Me(g);y.Ea.add(4),await Uc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Nh(y)})(this))}))})),this.Ra=new t5(i,o)}}async function Nh(s){if(Ma(s))for(const e of s.da)await e(!0)}async function Uc(s){for(const e of s.da)await e(!1)}function uE(s,e){const n=Me(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),xg(n)?bg(n):Wo(n).O_()&&vg(n,e))}function yg(s,e){const n=Me(s),i=Wo(n);n.Ia.delete(e),i.O_()&&dE(n,e),n.Ia.size===0&&(i.O_()?i.L_():Ma(n)&&n.Ra.set("Unknown"))}function vg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wo(s).Y_(e)}function dE(s,e){s.Va.Ue(e),Wo(s).Z_(e)}function bg(s){s.Va=new X4({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Wo(s).start(),s.Ra.ua()}function xg(s){return Ma(s)&&!Wo(s).x_()&&s.Ia.size>0}function Ma(s){return Me(s).Ea.size===0}function hE(s){s.Va=void 0}async function s5(s){s.Ra.set("Online")}async function r5(s){s.Ia.forEach(((e,n)=>{vg(s,e)}))}async function i5(s,e){hE(s),xg(s)?(s.Ra.ha(e),bg(s)):s.Ra.set("Unknown")}async function a5(s,e,n){if(s.Ra.set("Online"),e instanceof X_&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.Va.removeTarget(p))})(s,e)}catch(i){ge(Ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await th(s,i)}else if(e instanceof Md?s.Va.Ze(e):e instanceof $_?s.Va.st(e):s.Va.tt(e),!n.isEqual(je.min()))try{const i=await oE(s.localStore);n.compareTo(i)>=0&&await(function(c,h){const p=c.Va.Tt(h);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=c.Ia.get(y);_&&c.Ia.set(y,_.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,y)=>{const _=c.Ia.get(g);if(!_)return;c.Ia.set(g,_.withResumeToken(xn.EMPTY_BYTE_STRING,_.snapshotVersion)),dE(c,g);const E=new Mi(_.target,g,y,_.sequenceNumber);vg(c,E)})),c.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(i){ge(Ia,"Failed to raise snapshot:",i),await th(s,i)}}async function th(s,e,n){if(!Xo(e))throw e;s.Ea.add(1),await Uc(s),s.Ra.set("Offline"),n||(n=()=>oE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ge(Ia,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Nh(s)}))}function fE(s,e){return e().catch((n=>th(s,n,e)))}async function Ch(s){const e=Me(s),n=Qi(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sg;for(;o5(e);)try{const o=await FD(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,l5(e,o)}catch(o){await th(e,o)}mE(e)&&pE(e)}function o5(s){return Ma(s)&&s.Ta.length<10}function l5(s,e){s.Ta.push(e);const n=Qi(s);n.O_()&&n.X_&&n.ea(e.mutations)}function mE(s){return Ma(s)&&!Qi(s).x_()&&s.Ta.length>0}function pE(s){Qi(s).start()}async function c5(s){Qi(s).ra()}async function u5(s){const e=Qi(s);for(const n of s.Ta)e.ea(n.mutations)}async function d5(s,e,n){const i=s.Ta.shift(),o=ug.from(i,e,n);await fE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Ch(s)}async function h5(s,e){e&&Qi(s).X_&&await(async function(i,o){if((function(h){return Y4(h)&&h!==ae.ABORTED})(o.code)){const c=i.Ta.shift();Qi(i).B_(),await fE(i,(()=>i.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Ch(i)}})(s,e),mE(s)&&pE(s)}async function Rx(s,e){const n=Me(s);n.asyncQueue.verifyOperationInProgress(),ge(Ia,"RemoteStore received new credentials");const i=Ma(n);n.Ea.add(3),await Uc(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Nh(n)}async function f5(s,e){const n=Me(s);e?(n.Ea.delete(2),await Nh(n)):e||(n.Ea.add(2),await Uc(n),n.Ra.set("Unknown"))}function Wo(s){return s.ma||(s.ma=(function(n,i,o){const c=Me(n);return c.sa(),new WD(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:s5.bind(null,s),t_:r5.bind(null,s),r_:i5.bind(null,s),H_:a5.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),xg(s)?bg(s):s.Ra.set("Unknown")):(await s.ma.stop(),hE(s))}))),s.ma}function Qi(s){return s.fa||(s.fa=(function(n,i,o){const c=Me(n);return c.sa(),new JD(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:c5.bind(null,s),r_:h5.bind(null,s),ta:u5.bind(null,s),na:d5.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Ch(s)):(await s.fa.stop(),s.Ta.length>0&&(ge(Ia,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class _g{constructor(e,n,i,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=c,this.deferred=new Aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,c){const h=Date.now()+i,p=new _g(e,n,h,o,c);return p.start(i),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eg(s,e){if(Qr("AsyncQueue",`${e}: ${s}`),Xo(s))return new _e(ae.UNAVAILABLE,`${e}: ${s}`);throw s}class Ro{static emptySet(e){return new Ro(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ne.comparator(n.key,i.key):(n,i)=>Ne.comparator(n.key,i.key),this.keyedMap=ic(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=i.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Ro;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class Ix{constructor(){this.ga=new Dt(Ne.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Ho{constructor(e,n,i,o,c,h,p,g,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,o,c){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new Ho(e,n,Ro.emptySet(n),h,i,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}class m5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class p5{constructor(){this.queries=jx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Me(n),c=o.queries;o.queries=jx(),c.forEach(((h,p)=>{for(const g of p.Sa)g.onError(i)}))})(this,new _e(ae.ABORTED,"Firestore shutting down"))}}function jx(){return new ka((s=>O_(s)),_h)}async function g5(s,e){const n=Me(s);let i=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(i=2):(c=new m5,i=e.Da()?0:1);try{switch(i){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=Eg(h,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&wg(n)}async function y5(s,e){const n=Me(s),i=e.query;let o=3;const c=n.queries.get(i);if(c){const h=c.Sa.indexOf(e);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function v5(s,e){const n=Me(s);let i=!1;for(const o of e){const c=o.query,h=n.queries.get(c);if(h){for(const p of h.Sa)p.Fa(o)&&(i=!0);h.wa=o}}i&&wg(n)}function b5(s,e,n){const i=Me(s),o=i.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);i.queries.delete(e)}function wg(s){s.Ca.forEach((e=>{e.next()}))}var Rp,kx;(kx=Rp||(Rp={})).Ma="default",kx.Cache="cache";class x5{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Ho(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rp.Cache}}class gE{constructor(e){this.key=e}}class yE{constructor(e){this.key=e}}class _5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=V_(e),this.tu=new Ro(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new Ix,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,E)=>{const A=o.get(_),j=Eh(this.query,E)?E:null,z=!!A&&this.mutatedKeys.has(A.key),G=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let q=!1;A&&j?A.data.isEqual(j.data)?z!==G&&(i.track({type:3,doc:j}),q=!0):this.su(A,j)||(i.track({type:2,doc:j}),q=!0,(g&&this.eu(j,g)>0||y&&this.eu(j,y)<0)&&(p=!0)):!A&&j?(i.track({type:0,doc:j}),q=!0):A&&!j&&(i.track({type:1,doc:A}),q=!0,(g||y)&&(p=!0)),q&&(j?(h=h.add(j),c=G?c.add(_):c.delete(_)):(h=h.delete(_),c=c.delete(_)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),c=c.delete(_.key),i.track({type:1,doc:_})}return{tu:h,iu:i,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((_,E)=>(function(j,z){const G=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:q})}};return G(j)-G(z)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(i),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,h.length!==0||y?{snapshot:new Ho(this.query,e.tu,c,h,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ix,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new yE(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new gE(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tg="SyncEngine";class E5{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class w5{constructor(e){this.key=e,this.hu=!1}}class T5{constructor(e,n,i,o,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ka((p=>O_(p)),_h),this.Iu=new Map,this.Eu=new Set,this.du=new Dt(Ne.comparator),this.Au=new Map,this.Ru=new fg,this.Vu={},this.mu=new Map,this.fu=Fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function S5(s,e,n=!0){const i=wE(s);let o;const c=i.Tu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await vE(i,e,n,!0),o}async function A5(s,e){const n=wE(s);await vE(n,e,!0,!1)}async function vE(s,e,n,i){const o=await HD(s.localStore,hr(e)),c=o.targetId,h=s.sharedClientState.addLocalQueryTarget(c,n);let p;return i&&(p=await N5(s,e,c,h==="current",o.resumeToken)),s.isPrimaryClient&&n&&uE(s.remoteStore,o),p}async function N5(s,e,n,i,o){s.pu=(E,A,j)=>(async function(G,q,re,oe){let ee=q.view.ru(re);ee.Cs&&(ee=await Sx(G.localStore,q.query,!1).then((({documents:N})=>q.view.ru(N,ee))));const se=oe&&oe.targetChanges.get(q.targetId),ie=oe&&oe.targetMismatches.get(q.targetId)!=null,le=q.view.applyChanges(ee,G.isPrimaryClient,se,ie);return Ox(G,q.targetId,le.au),le.snapshot})(s,E,A,j);const c=await Sx(s.localStore,e,!0),h=new _5(e,c.Qs),p=h.ru(c.documents),g=zc.createSynthesizedTargetChangeForCurrentChange(n,i&&s.onlineState!=="Offline",o),y=h.applyChanges(p,s.isPrimaryClient,g);Ox(s,n,y.au);const _=new E5(e,n,h);return s.Tu.set(e,_),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function C5(s,e,n){const i=Me(s),o=i.Tu.get(e),c=i.Iu.get(o.targetId);if(c.length>1)return i.Iu.set(o.targetId,c.filter((h=>!_h(h,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Cp(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&yg(i.remoteStore,o.targetId),Ip(i,o.targetId)})).catch($o)):(Ip(i,o.targetId),await Cp(i.localStore,o.targetId,!0))}async function D5(s,e){const n=Me(s),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),yg(n.remoteStore,i.targetId))}async function R5(s,e,n){const i=L5(s);try{const o=await(function(h,p){const g=Me(h),y=wt.now(),_=p.reduce(((j,z)=>j.add(z.key)),Xe());let E,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let z=Yr(),G=Xe();return g.Ns.getEntries(j,_).next((q=>{z=q,z.forEach(((re,oe)=>{oe.isValidDocument()||(G=G.add(re))}))})).next((()=>g.localDocuments.getOverlayedDocuments(j,z))).next((q=>{E=q;const re=[];for(const oe of p){const ee=F4(oe,E.get(oe.key).overlayedDocument);ee!=null&&re.push(new Ji(oe.key,ee,C_(ee.value.mapValue),fr.exists(!0)))}return g.mutationQueue.addMutationBatch(j,y,re,p)})).next((q=>{A=q;const re=q.applyToLocalDocumentSet(E,G);return g.documentOverlayCache.saveOverlays(j,q.batchId,re)}))})).then((()=>({batchId:A.batchId,changes:B_(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let y=h.Vu[h.currentUser.toKey()];y||(y=new Dt($e)),y=y.insert(p,g),h.Vu[h.currentUser.toKey()]=y})(i,o.batchId,n),await Fc(i,o.changes),await Ch(i.remoteStore)}catch(o){const c=Eg(o,"Failed to persist write");n.reject(c)}}async function bE(s,e){const n=Me(s);try{const i=await zD(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=n.Au.get(c);h&&(lt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?lt(h.hu,14607):o.removedDocuments.size>0&&(lt(h.hu,42227),h.hu=!1))})),await Fc(n,i,e)}catch(i){await $o(i)}}function Mx(s,e,n){const i=Me(s);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((c,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=Me(h);g.onlineState=p;let y=!1;g.queries.forEach(((_,E)=>{for(const A of E.Sa)A.va(p)&&(y=!0)})),y&&wg(g)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function I5(s,e,n){const i=Me(s);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),c=o&&o.key;if(c){let h=new Dt(Ne.comparator);h=h.insert(c,Dn.newNoDocument(c,je.min()));const p=Xe().add(c),g=new Sh(je.min(),new Map,new Dt($e),h,p);await bE(i,g),i.du=i.du.remove(c),i.Au.delete(e),Sg(i)}else await Cp(i.localStore,e,!1).then((()=>Ip(i,e,n))).catch($o)}async function j5(s,e){const n=Me(s),i=e.batch.batchId;try{const o=await PD(n.localStore,e);_E(n,i,null),xE(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Fc(n,o)}catch(o){await $o(o)}}async function k5(s,e,n){const i=Me(s);try{const o=await(function(h,p){const g=Me(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return g.mutationQueue.lookupMutationBatch(y,p).next((E=>(lt(E!==null,37113),_=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>g.localDocuments.getDocuments(y,_)))}))})(i.localStore,e);_E(i,e,n),xE(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Fc(i,o)}catch(o){await $o(o)}}function xE(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function _E(s,e,n){const i=Me(s);let o=i.Vu[i.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function Ip(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const i of s.Iu.get(e))s.Tu.delete(i),n&&s.Pu.yu(i,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((i=>{s.Ru.containsKey(i)||EE(s,i)}))}function EE(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(yg(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),Sg(s))}function Ox(s,e,n){for(const i of n)i instanceof gE?(s.Ru.addReference(i.key,e),M5(s,i)):i instanceof yE?(ge(Tg,"Document no longer in limbo: "+i.key),s.Ru.removeReference(i.key,e),s.Ru.containsKey(i.key)||EE(s,i.key)):Ie(19791,{wu:i})}function M5(s,e){const n=e.key,i=n.path.canonicalString();s.du.get(n)||s.Eu.has(i)||(ge(Tg,"New document in limbo: "+n),s.Eu.add(i),Sg(s))}function Sg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new Ne(Ct.fromString(e)),i=s.fu.next();s.Au.set(i,new w5(n)),s.du=s.du.insert(n,i),uE(s.remoteStore,new Mi(hr(lg(n.path)),i,"TargetPurposeLimboResolution",yh.ce))}}async function Fc(s,e,n){const i=Me(s),o=[],c=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach(((p,g)=>{h.push(i.pu(g,e,n).then((y=>{if((y||n)&&i.isPrimaryClient){const _=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(y){o.push(y);const _=pg.As(g.targetId,y);c.push(_)}})))})),await Promise.all(h),i.Pu.H_(o),await(async function(g,y){const _=Me(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>te.forEach(y,(A=>te.forEach(A.Es,(j=>_.persistence.referenceDelegate.addReference(E,A.targetId,j))).next((()=>te.forEach(A.ds,(j=>_.persistence.referenceDelegate.removeReference(E,A.targetId,j)))))))))}catch(E){if(!Xo(E))throw E;ge(gg,"Failed to update sequence numbers: "+E)}for(const E of y){const A=E.targetId;if(!E.fromCache){const j=_.Ms.get(A),z=j.snapshotVersion,G=j.withLastLimboFreeSnapshotVersion(z);_.Ms=_.Ms.insert(A,G)}}})(i.localStore,c))}async function O5(s,e){const n=Me(s);if(!n.currentUser.isEqual(e)){ge(Tg,"User change. New user:",e.toKey());const i=await aE(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new _e(ae.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Fc(n,i.Ls)}}function V5(s,e){const n=Me(s),i=n.Au.get(e);if(i&&i.hu)return Xe().add(i.key);{let o=Xe();const c=n.Iu.get(e);if(!c)return o;for(const h of c){const p=n.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function wE(s){const e=Me(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=bE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=I5.bind(null,e),e.Pu.H_=v5.bind(null,e.eventManager),e.Pu.yu=b5.bind(null,e.eventManager),e}function L5(s){const e=Me(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k5.bind(null,e),e}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return BD(this.persistence,new OD,e.initialUser,this.serializer)}Cu(e){return new iE(mg.mi,this.serializer)}Du(e){return new GD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class B5 extends nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){lt(this.persistence.referenceDelegate instanceof eh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new xD(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new iE((i=>eh.mi(i,n)),this.serializer)}}class jp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Mx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=O5.bind(null,this.syncEngine),await f5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new p5})()}createDatastore(e){const n=Ah(e.databaseInfo.databaseId),i=(function(c){return new XD(c)})(e.databaseInfo);return(function(c,h,p,g){return new e5(c,h,p,g)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,c,h,p){return new n5(i,o,c,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>Mx(this.syncEngine,n,0)),(function(){return Cx.v()?new Cx:new QD})())}createSyncEngine(e,n){return(function(o,c,h,p,g,y,_){const E=new T5(o,c,h,p,g,y);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Me(n);ge(Ia,"RemoteStore shutting down."),i.Ea.add(5),await Uc(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jp.provider={build:()=>new jp};class P5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Yi="FirestoreClient";class z5{constructor(e,n,i,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=Nn.UNAUTHENTICATED,this.clientId=tg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,(async h=>{ge(Yi,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(ge(Yi,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Eg(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Zm(s,e){s.asyncQueue.verifyOperationInProgress(),ge(Yi,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let i=n.initialUser;s.setCredentialChangeListener((async o=>{i.isEqual(o)||(await aE(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Vx(s,e){s.asyncQueue.verifyOperationInProgress();const n=await U5(s);ge(Yi,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((i=>Rx(e.remoteStore,i))),s.setAppCheckTokenChangeListener(((i,o)=>Rx(e.remoteStore,o))),s._onlineComponents=e}async function U5(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ge(Yi,"Using user provided OfflineComponentProvider");try{await Zm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Lo("Error using user provided cache. Falling back to memory cache: "+n),await Zm(s,new nh)}}else ge(Yi,"Using default OfflineComponentProvider"),await Zm(s,new B5(void 0));return s._offlineComponents}async function TE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ge(Yi,"Using user provided OnlineComponentProvider"),await Vx(s,s._uninitializedComponentsProvider._online)):(ge(Yi,"Using default OnlineComponentProvider"),await Vx(s,new jp))),s._onlineComponents}function F5(s){return TE(s).then((e=>e.syncEngine))}async function Lx(s){const e=await TE(s),n=e.eventManager;return n.onListen=S5.bind(null,e.syncEngine),n.onUnlisten=C5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=A5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=D5.bind(null,e.syncEngine),n}function SE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Bx=new Map;const AE="firestore.googleapis.com",Px=!0;class zx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AE,this.ssl=Px}else this.host=e.host,this.ssl=e.ssl??Px;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vD)throw new _e(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}e4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SE(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new _e(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new _e(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new _e(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ag{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new HC;switch(i.type){case"firstParty":return new YC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Bx.get(n);i&&(ge("ComponentProvider","Removing Datastore"),Bx.delete(n),i.terminate())})(this),Promise.resolve()}}function H5(s,e,n,i={}){s=zi(s,Ag);const o=qo(e),c=s._getSettings(),h={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;o&&(w1(`https://${p}`),T1("Firestore",!0)),c.host!==AE&&c.host!==p&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:i};if(!Ui(g,h)&&(s._setSettings(g),i.mockUserToken)){let y,_;if(typeof i.mockUserToken=="string")y=i.mockUserToken,_=Nn.MOCK_USER;else{y=sS(i.mockUserToken,s._app?.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new _e(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Nn(E)}s._authCredentials=new qC(new y_(y,_))}}class Dh{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Dh(this.firestore,e,this._query)}}class sn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ac(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}toJSON(){return{type:sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Bc(n,sn._jsonSchema))return new sn(e,i||null,new Ne(Ct.fromString(n.referencePath)))}}sn._jsonSchemaVersion="firestore/documentReference/1.0",sn._jsonSchema={type:Xt("string",sn._jsonSchemaVersion),referencePath:Xt("string")};class Ac extends Dh{constructor(e,n,i){super(e,n,lg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new Ne(e))}withConverter(e){return new Ac(this.firestore,e,this._path)}}function ep(s,e,...n){if(s=In(s),arguments.length===1&&(e=tg.newId()),ZC("doc","path",e),s instanceof Ag){const i=Ct.fromString(e,...n);return Zb(i),new sn(s,null,new Ne(i))}{if(!(s instanceof sn||s instanceof Ac))throw new _e(ae.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(Ct.fromString(e,...n));return Zb(i),new sn(s.firestore,s instanceof Ac?s.converter:null,new Ne(i))}}const Ux="AsyncQueue";class Fx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lE(this,"async_queue_retry"),this._c=()=>{const i=Jm();i&&ge(Ux,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Jm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Jm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Aa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xo(e))throw e;ge(Ux,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Qr("INTERNAL UNHANDLED ERROR: ",Hx(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=_g.createAndSchedule(this,e,n,i,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ie(47125,{Pc:Hx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Hx(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function qx(s){return(function(n,i){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of i)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Nc extends Ag{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new Fx,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Fx(e),this._firestoreClient=void 0,await e}}}function q5(s,e){const n=typeof s=="object"?s:C1(),i=typeof s=="string"?s:Yd,o=Gp(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const c=tS("firestore");c&&H5(o,...c)}return o}function NE(s){if(s._terminated)throw new _e(ae.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||G5(s),s._firestoreClient}function G5(s){const e=s._freezeSettings(),n=(function(o,c,h,p){return new d4(o,c,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,SE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new z5(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class As{constructor(e){this._byteString=e}static fromBase64String(e){try{return new As(xn.fromBase64String(e))}catch(n){throw new _e(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new As(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:As._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bc(e,As._jsonSchema))return As.fromBase64String(e.bytes)}}As._jsonSchemaVersion="firestore/bytes/1.0",As._jsonSchema={type:Xt("string",As._jsonSchemaVersion),bytes:Xt("string")};class Rh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ih{constructor(e){this._methodName=e}}class pr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pr._jsonSchemaVersion}}static fromJSON(e){if(Bc(e,pr._jsonSchema))return new pr(e.latitude,e.longitude)}}pr._jsonSchemaVersion="firestore/geoPoint/1.0",pr._jsonSchema={type:Xt("string",pr._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};class gr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bc(e,gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new gr(e.vectorValues);throw new _e(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gr._jsonSchemaVersion="firestore/vectorValue/1.0",gr._jsonSchema={type:Xt("string",gr._jsonSchemaVersion),vectorValues:Xt("object")};const Q5=/^__.*__$/;class Y5{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pc(e,this.data,n,this.fieldTransforms)}}class CE{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ji(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function DE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:s})}}class jh{constructor(e,n,i,o,c,h){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new jh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(DE(this.Ac)&&Q5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class K5{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Ah(e)}Cc(e,n,i,o=!1){return new jh({Ac:e,methodName:n,Dc:i,path:bn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function RE(s){const e=s._freezeSettings(),n=Ah(s._databaseId);return new K5(s._databaseId,!!e.ignoreUndefinedProperties,n)}function $5(s,e,n,i,o,c={}){const h=s.Cc(c.merge||c.mergeFields?2:0,e,n,o);Cg("Data must be an object, but it was:",h,i);const p=IE(i,h);let g,y;if(c.merge)g=new ds(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const _=[];for(const E of c.mergeFields){const A=kp(e,E,n);if(!h.contains(A))throw new _e(ae.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);kE(_,A)||_.push(A)}g=new ds(_),y=h.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=h.fieldTransforms;return new Y5(new Jn(p),g,y)}class kh extends Ih{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kh}}function X5(s,e,n){return new jh({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ng extends Ih{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=X5(this,e,!0),i=this.vc.map((c=>Hc(c,n))),o=new Uo(i);return new B4(e.path,o)}isEqual(e){return e instanceof Ng&&Ui(this.vc,e.vc)}}function W5(s,e,n,i){const o=s.Cc(1,e,n);Cg("Data must be an object, but it was:",o,i);const c=[],h=Jn.empty();Wi(i,((g,y)=>{const _=Dg(e,g,n);y=In(y);const E=o.yc(_);if(y instanceof kh)c.push(_);else{const A=Hc(y,E);A!=null&&(c.push(_),h.set(_,A))}}));const p=new ds(c);return new CE(h,p,o.fieldTransforms)}function J5(s,e,n,i,o,c){const h=s.Cc(1,e,n),p=[kp(e,i,n)],g=[o];if(c.length%2!=0)throw new _e(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)p.push(kp(e,c[A])),g.push(c[A+1]);const y=[],_=Jn.empty();for(let A=p.length-1;A>=0;--A)if(!kE(y,p[A])){const j=p[A];let z=g[A];z=In(z);const G=h.yc(j);if(z instanceof kh)y.push(j);else{const q=Hc(z,G);q!=null&&(y.push(j),_.set(j,q))}}const E=new ds(y);return new CE(_,E,h.fieldTransforms)}function Hc(s,e){if(jE(s=In(s)))return Cg("Unsupported field value:",e,s),IE(s,e);if(s instanceof Ih)return(function(i,o){if(!DE(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const c=[];let h=0;for(const p of i){let g=Hc(p,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}})(s,e)}return(function(i,o){if((i=In(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return O4(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=wt.fromDate(i);return{timestampValue:Zd(o.serializer,c)}}if(i instanceof wt){const c=new wt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Zd(o.serializer,c)}}if(i instanceof pr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof As)return{bytesValue:W_(o.serializer,i._byteString)};if(i instanceof sn){const c=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(c))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:hg(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof gr)return(function(h,p){return{mapValue:{fields:{[A_]:{stringValue:N_},[Kd]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return cg(p.serializer,y)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${ng(i)}`)})(s,e)}function IE(s,e){const n={};return x_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wi(s,((i,o)=>{const c=Hc(o,e.mc(i));c!=null&&(n[i]=c)})),{mapValue:{fields:n}}}function jE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof wt||s instanceof pr||s instanceof As||s instanceof sn||s instanceof Ih||s instanceof gr)}function Cg(s,e,n){if(!jE(n)||!v_(n)){const i=ng(n);throw i==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+i)}}function kp(s,e,n){if((e=In(e))instanceof Rh)return e._internalPath;if(typeof e=="string")return Dg(s,e);throw sh("Field path arguments must be of type string or ",s,!1,void 0,n)}const Z5=new RegExp("[~\\*/\\[\\]]");function Dg(s,e,n){if(e.search(Z5)>=0)throw sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Rh(...e.split("."))._internalPath}catch{throw sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function sh(s,e,n,i,o){const c=i&&!i.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${i}`),h&&(g+=` in document ${o}`),g+=")"),new _e(ae.INVALID_ARGUMENT,p+s+g)}function kE(s,e){return s.some((n=>n.isEqual(e)))}class ME{constructor(e,n,i,o,c){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(OE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eR extends ME{data(){return super.data()}}function OE(s,e){return typeof e=="string"?Dg(s,e):e instanceof Rh?e._internalPath:e._delegate._internalPath}function tR(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new _e(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nR{convertValue(e,n="none"){switch(Gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Wi(e,((o,c)=>{i[o]=this.convertValue(c,n)})),i}convertVectorValue(e){const n=e.fields?.[Kd].arrayValue?.values?.map((i=>Pt(i.doubleValue)));return new gr(n)}convertGeoPoint(e){return new pr(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=bh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ec(e));default:return null}}convertTimestamp(e){const n=Hi(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ct.fromString(e);lt(sE(i),9688,{name:e});const o=new wc(i.get(1),i.get(3)),c=new Ne(i.popFirst(5));return o.isEqual(n)||Qr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function sR(s,e,n){let i;return i=s?s.toFirestore(e):e,i}class oc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Na extends ME{constructor(e,n,i,o,c,h){super(e,n,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Od(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(OE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Na._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Na._jsonSchemaVersion="firestore/documentSnapshot/1.0",Na._jsonSchema={type:Xt("string",Na._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class Od extends Na{data(e={}){return super.data(e)}}class Io{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new oc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Od(this._firestore,this._userDataWriter,i.key,i,new oc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new Od(o._firestore,o._userDataWriter,p.doc.key,p.doc,new oc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Od(o._firestore,o._userDataWriter,p.doc.key,p.doc,new oc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),_=h.indexOf(p.doc.key)),{type:rR(p.type),doc:g,oldIndex:y,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Io._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=tg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rR(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:s})}}Io._jsonSchemaVersion="firestore/querySnapshot/1.0",Io._jsonSchema={type:Xt("string",Io._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class VE extends nR{constructor(e){super(),this.firestore=e}convertBytes(e){return new As(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function iR(s,e,n){s=zi(s,sn);const i=zi(s.firestore,Nc),o=sR(s.converter,e);return LE(i,[$5(RE(i),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,fr.none())])}function aR(s,e,n,...i){s=zi(s,sn);const o=zi(s.firestore,Nc),c=RE(o);let h;return h=typeof(e=In(e))=="string"||e instanceof Rh?J5(c,"updateDoc",s._key,e,n,i):W5(c,"updateDoc",s._key,e),LE(o,[h.toMutation(s._key,fr.exists(!0))])}function oR(s,...e){s=In(s);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||qx(e[i])||(n=e[i++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(qx(e[i])){const g=e[i];e[i]=g.next?.bind(g),e[i+1]=g.error?.bind(g),e[i+2]=g.complete?.bind(g)}let c,h,p;if(s instanceof sn)h=zi(s.firestore,Nc),p=lg(s._key.path),c={next:g=>{e[i]&&e[i](lR(h,s,g))},error:e[i+1],complete:e[i+2]};else{const g=zi(s,Dh);h=zi(g.firestore,Nc),p=g._query;const y=new VE(h);c={next:_=>{e[i]&&e[i](new Io(h,y,g,_))},error:e[i+1],complete:e[i+2]},tR(s._query)}return(function(y,_,E,A){const j=new P5(A),z=new x5(_,j,E);return y.asyncQueue.enqueueAndForget((async()=>g5(await Lx(y),z))),()=>{j.Nu(),y.asyncQueue.enqueueAndForget((async()=>y5(await Lx(y),z)))}})(NE(h),p,o,c)}function LE(s,e){return(function(i,o){const c=new Aa;return i.asyncQueue.enqueueAndForget((async()=>R5(await F5(i),o,c))),c.promise})(NE(s),e)}function lR(s,e,n){const i=n.docs.get(e._key),o=new VE(s);return new Na(s,o,e._key,i,new oc(n.hasPendingWrites,n.fromCache),e.converter)}function cR(...s){return new Ng("arrayUnion",s)}(function(e,n=!0){(function(o){Ko=o})(Go),Oo(new Ca("firestore",((i,{instanceIdentifier:o,options:c})=>{const h=i.getProvider("app").getImmediate(),p=new Nc(new GC(i.getProvider("auth-internal")),new KC(h,i.getProvider("app-check-internal")),(function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new _e(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wc(y.options.projectId,_)})(h,o),h);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Li($b,Xb,e),Li($b,Xb,"esm2020")})();var uR="firebase",dR="12.7.0";Li(uR,dR,"app");const hR={apiKey:"AIzaSyC9LA_PFA6KZ7s8IlQdJuolA0gaBm8kgNI",authDomain:"simply-louie.firebaseapp.com",projectId:"simply-louie",storageBucket:"simply-louie.firebasestorage.app",messagingSenderId:"822487405638",appId:"1:822487405638:web:078f7f6b9e968f80266647"},BE=N1(hR),tp=UC(BE),np=q5(BE),wa={names:"Louie & Florie",dateString:"July 4th, 2026",dateIso:"2026-07-04T00:00:00",location:"Cebu, Philippines",heroImage:"https://images.unsplash.com/photo-1519741497674-611481863552?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80",rsvpMode:"form",rsvpExternalLink:"https://forms.google.com/",rsvpDeadline:"May 1st, 2026",rsvpImage:"https://images.unsplash.com/photo-1606216794074-735e91aa2c92?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",instagram:"#",facebook:"#",contact:"#",logoText:"",websiteTitle:"",showOpeningScreen:!0,passcode:"admin",colorPalette:[{name:"Dusty Rose",hex:"#E6D2B5"},{name:"Sage Green",hex:"#8C9E8C"},{name:"Terracotta",hex:"#C76D55"},{name:"Cream",hex:"#FDFBF7"},{name:"Charcoal",hex:"#43342E"}],savedPalettes:[],guestList:[],notes:[],storyTitle:"Our Journey",storySubtitle:"Since 2018",story:[{date:"June 15, 2018",title:"The Encounter",description:"We met at a coffee shop in downtown. It started with a spilled latte and ended with a conversation that lasted for hours."},{date:"December 24, 2022",title:"Building a Home",description:"After a year and a half of adventures, we moved in together. Our first apartment was small, but full of love (and plants)."},{date:"August 10, 2024",title:"The Promise",description:"On a sunset hike overlooking the ocean, Louie got down on one knee. It was the easiest question Florie ever had to answer."}],eventsTitle:"The Events",eventsSubtitle:"Save the Date",timeline:[{time:"1:00 PM",title:"Preparation",description:"Bridal party getting ready and photos at the Hotel Suite.",icon:"camera"},{time:"3:00 PM",title:"Wedding Ceremony",description:"Processional and exchange of vows at St. Thrse Chapel.",icon:"heart"},{time:"4:30 PM",title:"Cocktails & Pictorials",description:"Enjoy drinks and grazing table at the Garden while the family takes photos.",icon:"wine"},{time:"6:00 PM",title:"Grand Entrance",description:"Welcoming Mr. & Mrs. Mendez to the Reception Hall.",icon:"music"},{time:"6:30 PM",title:"Dinner Feast",description:"A sumptuous buffet dinner accompanied by acoustic serenades.",icon:"utensils"},{time:"8:00 PM",title:"Cake Cutting & Toasts",description:"Traditional cutting of the cake and messages from loved ones.",icon:"wine"},{time:"9:00 PM",title:"Party Time",description:"Open dance floor and music under the stars!",icon:"music"}],events:[{title:"Welcome Party",time:"Friday, July 3  6:00 PM",description:"Join us for cocktails and hors d'oeuvres to kick off the celebration.",location:"The Gardens",mapLink:"https://maps.google.com",image:"https://images.unsplash.com/photo-1558636508-e0db3836bd1b?auto=format&fit=crop&w=800&q=80",icon:"wine"},{title:"The Ceremony",time:"Saturday, July 4  2:00 PM",description:"We exchange vows followed by dinner and dancing under the stars.",location:"St. Thrse",mapLink:"https://maps.google.com",image:"https://images.unsplash.com/photo-1548624298-967faff0d3b4?auto=format&fit=crop&w=800&q=80",icon:"heart"},{title:"Reception",time:"Saturday, July 4  6:00 PM",description:"Dinner, dancing, and drinks to celebrate the newlyweds.",location:"Reception Hall",mapLink:"https://maps.google.com",image:"https://images.unsplash.com/photo-1519741497674-611481863552?auto=format&fit=crop&w=800&q=80",icon:"music"}],entourageTitle:"The Entourage",entourageSubtitle:"Wedding Party",groomParents:"Mr. Rolando & Mrs. Elena Mendez",brideParents:"Mr. Francisco & Mrs. Maria Santos",bestMan:"Michael James",maidOfHonor:"Sarah Jean",groomsmen:["Adam Driver","Ben Affleck","Chris Evans","David Beckham"],bridesmaids:["Anna Smith","Bella Ciao","Cara Delevingne","Diane Lane"],principalSponsors:[{mr:"Mr. Juan Dela Cruz",mrs:"Mrs. Maria Dela Cruz"},{mr:"Mr. Pedro Santos",mrs:"Mrs. Ana Santos"},{mr:"Mr. Jose Rizal",mrs:"Mrs. Josephine Bracken"}],secondarySponsors:[{role:"Candle",names:"John & Jane"},{role:"Veil",names:"Mark & Mary"},{role:"Cord",names:"Luke & Lucy"}],bearers:[{role:"Ring",name:"Little Mr. C"},{role:"Coin",name:"Little Mr. D"},{role:"Bible",name:"Little Mr. E"}],flowerGirls:["Little Miss A","Little Miss B","Little Miss C"],offertory:["Family A","Family B"],entourageGroups:[],galleryImages:["https://images.unsplash.com/photo-1621621667797-e06afc217fb0?auto=format&fit=crop&w=600&q=90","https://images.unsplash.com/photo-1530023367847-a683933f4172?auto=format&fit=crop&w=600&q=90","https://images.unsplash.com/photo-1520854221256-17451cc330e7?auto=format&fit=crop&w=600&q=90","https://images.unsplash.com/photo-1535295972055-1c762f4483e5?auto=format&fit=crop&w=600&q=90","https://images.unsplash.com/photo-1516961642265-531546e84af2?auto=format&fit=crop&w=600&q=90","https://images.unsplash.com/photo-1522673607200-1645062cd958?auto=format&fit=crop&w=600&q=90","https://images.unsplash.com/photo-1519225421980-715cb0202128?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=90","https://images.unsplash.com/photo-1607193384230-25e635834331?auto=format&fit=crop&w=600&q=90"],sectionOrder:[{id:"story",label:"Our Story",visible:!0},{id:"timeline",label:"Timeline",visible:!0},{id:"palette",label:"Color Palette",visible:!0},{id:"entourage",label:"Entourage",visible:!0},{id:"gallery",label:"Gallery",visible:!0},{id:"rsvp",label:"RSVP",visible:!0},{id:"events",label:"Events",visible:!0}]};const fR=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mR=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Gx=s=>{const e=mR(s);return e.charAt(0).toUpperCase()+e.slice(1)},PE=(...s)=>s.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),pR=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var gR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const yR=O.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:h,...p},g)=>O.createElement("svg",{ref:g,...gR,width:e,height:e,stroke:s,strokeWidth:i?Number(n)*24/Number(e):n,className:PE("lucide",o),...!c&&!pR(p)&&{"aria-hidden":"true"},...p},[...h.map(([y,_])=>O.createElement(y,_)),...Array.isArray(c)?c:[c]]));const De=(s,e)=>{const n=O.forwardRef(({className:i,...o},c)=>O.createElement(yR,{ref:c,iconNode:e,className:PE(`lucide-${fR(Gx(s))}`,`lucide-${s}`,i),...o}));return n.displayName=Gx(s),n};const vR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Qx=De("arrow-right",vR);const bR=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],xR=De("arrow-up",bR);const _R=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],ER=De("calendar-plus",_R);const wR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],TR=De("calendar",wR);const SR=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],qc=De("camera",SR);const AR=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],zE=De("car",AR);const NR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],rh=De("check",NR);const CR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],UE=De("circle-alert",CR);const DR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],RR=De("circle-check-big",DR);const IR=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],jR=De("clipboard-list",IR);const kR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Jo=De("clock",kR);const MR=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],FE=De("coffee",MR);const OR=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],VR=De("database",OR);const LR=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],BR=De("download",LR);const PR=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],zR=De("external-link",PR);const UR=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],FR=De("eye-off",UR);const HR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rg=De("eye",HR);const qR=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],HE=De("gem",qR);const GR=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Mp=De("gift",GR);const QR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],qE=De("globe",QR);const YR=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],KR=De("grip-vertical",YR);const $R=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Gc=De("heart",$R);const XR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Op=De("image",XR);const WR=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],JR=De("link",WR);const ZR=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],GE=De("loader",ZR);const e3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],t3=De("lock",e3);const n3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],jo=De("map-pin",n3);const s3=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],r3=De("menu",s3);const i3=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Mh=De("music",i3);const a3=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],o3=De("palette",a3);const l3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],c3=De("panels-top-left",l3);const u3=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],QE=De("party-popper",u3);const d3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],YE=De("pen",d3);const h3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Pn=De("plus",h3);const f3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ih=De("refresh-cw",f3);const m3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],KE=De("save",m3);const p3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],g3=De("search",p3);const y3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$E=De("settings",y3);const v3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],b3=De("shield-alert",v3);const x3=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],_3=De("shirt",x3);const E3=[["path",{d:"M22 2 2 22",key:"y4kqgn"}]],Yx=De("slash",E3);const w3=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],T3=De("smartphone",w3);const S3=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],A3=De("star",S3);const N3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ki=De("trash-2",N3);const C3=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],D3=De("type",C3);const R3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ko=De("upload",R3);const I3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],j3=De("users",I3);const k3=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Oh=De("utensils",k3);const M3=[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]],Vh=De("wine",M3);const O3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],en=De("x",O3);const V3=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],L3=De("zoom-in",V3),B3=({activeTab:s,setActiveTab:e,resetConfirm:n,handleResetRequest:i})=>{const o=[{id:"guests",label:"Guest List",shortLabel:"Guests",icon:j3},{id:"planner",label:"Planner",shortLabel:"Plan",icon:jR},{id:"organizer",label:"Organizer",shortLabel:"Org",icon:c3},{id:"general",label:"General",shortLabel:"Gen",icon:$E},{id:"story",label:"Our Story",shortLabel:"Story",icon:Gc},{id:"timeline",label:"Timeline",shortLabel:"Time",icon:Jo},{id:"events",label:"Events",shortLabel:"Events",icon:TR},{id:"entourage",label:"Entourage",shortLabel:"Entourage",icon:A3},{id:"colors",label:"Palette",shortLabel:"Palette",icon:o3},{id:"rsvp",label:"RSVP Config",shortLabel:"RSVP",icon:Mp},{id:"images",label:"Images",shortLabel:"Imgs",icon:Op},{id:"systems",label:"Systems",shortLabel:"Sys",icon:qE}];return u.jsxs("div",{className:"relative w-full md:w-64 bg-white border-b md:border-b-0 md:border-r border-[#E6D2B5]/30 flex shrink-0 z-20",children:[u.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-8 bg-gradient-to-r from-white to-transparent pointer-events-none z-10 md:hidden opacity-50"}),u.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-white to-transparent pointer-events-none z-10 md:hidden opacity-50"}),u.jsxs("div",{className:"flex flex-row md:flex-col overflow-x-auto md:overflow-y-auto md:overflow-x-visible w-full no-scrollbar md:pb-20",children:[o.map(c=>u.jsxs("button",{onClick:()=>e(c.id),className:`
                            flex-1 md:flex-none
                            flex flex-col md:flex-row items-center justify-center md:justify-start 
                            gap-1 md:gap-3 
                            px-3 md:px-8 
                            py-2 md:py-4 
                            min-w-[70px] md:min-w-0
                            text-[10px] md:text-xs font-bold uppercase tracking-wider md:tracking-widest 
                            transition-all whitespace-nowrap 
                            border-b-2 md:border-b-0 md:border-l-4 
                            ${s===c.id?"border-[#B08D55] bg-[#F9F4EF]/50 text-[#43342E]":"border-transparent text-[#8C7C72] hover:bg-gray-50"}
                        `,children:[u.jsx(c.icon,{size:s===c.id?18:16,className:`transition-transform duration-300 ${s===c.id?"scale-110":""}`}),u.jsxs("span",{className:"text-[9px] md:text-xs",children:[u.jsx("span",{className:"hidden md:inline",children:c.label}),u.jsx("span",{className:"md:hidden",children:c.shortLabel})]})]},c.id)),u.jsx("div",{className:"p-2 md:p-4 md:mt-auto md:px-8 md:pb-4 min-w-[100px] md:min-w-0 flex items-center shrink-0",children:u.jsxs("button",{onClick:i,className:`flex flex-col md:flex-row items-center gap-1 md:gap-2 text-[9px] md:text-xs uppercase tracking-wider transition-all duration-300 w-full justify-center py-2 md:py-3 rounded-md min-w-[60px] ${n?"bg-red-50 text-red-600 font-bold border border-red-200":"text-red-300 hover:text-red-500 hover:bg-red-50/50"}`,children:[n?u.jsx(Ki,{size:14,className:"animate-bounce"}):u.jsx(ih,{size:14}),u.jsx("span",{className:"text-[8px] md:text-xs",children:n?"Sure?":"Reset"})]})})]})]})},P3=({mode:s,guestForm:e,setGuestForm:n,onClose:i,onSave:o,onEdit:c,currentGuest:h})=>s==="none"?null:u.jsx("div",{className:"fixed inset-0 z-[70] bg-black/50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95",children:[u.jsxs("div",{className:"bg-[#F9F4EF] px-6 py-4 border-b border-[#E6D2B5] flex justify-between items-center",children:[u.jsx("h3",{className:"font-serif text-lg text-[#43342E]",children:s==="add"?"Add New Guest":s==="edit"?"Edit Guest":"Guest Details"}),u.jsxs("div",{className:"flex gap-2",children:[s==="view"&&u.jsxs("button",{onClick:c,className:"text-[#B08D55] hover:text-[#43342E] flex items-center gap-1 text-xs uppercase font-bold mr-2",children:[u.jsx(YE,{size:14})," Edit"]}),u.jsx("button",{onClick:i,className:"text-[#8C7C72] hover:text-[#43342E]",children:u.jsx(en,{size:20})})]})]}),u.jsx("div",{className:"p-6 space-y-4",children:s==="view"?u.jsxs("div",{className:"space-y-4 text-sm text-[#43342E]",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Full Name"}),u.jsx("div",{className:"p-2 bg-[#FAF9F6] border border-[#E6D2B5]/30 rounded",children:e.name})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Status"}),u.jsx("div",{className:"p-2 bg-[#FAF9F6] border border-[#E6D2B5]/30 rounded capitalize",children:e.attending==="undecided"?"Pending":e.attending})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Guests"}),u.jsx("div",{className:"p-2 bg-[#FAF9F6] border border-[#E6D2B5]/30 rounded",children:e.guests})]})]}),parseInt(e.guests)>1&&e.extraGuestNames?.some(p=>p)&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Additional Guests"}),u.jsx("div",{className:"p-2 bg-[#FAF9F6] border border-[#E6D2B5]/30 rounded space-y-1",children:e.extraGuestNames.map((p,g)=>p&&u.jsxs("div",{children:[" ",p]},g))})]}),e.rejectedIndividuals?.length>0&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-red-500 uppercase mb-1",children:"Rejected Individuals"}),u.jsx("div",{className:"p-2 bg-red-50/30 border border-red-100 rounded space-y-2",children:e.rejectedIndividuals.map((p,g)=>u.jsxs("div",{className:"flex justify-between items-center text-xs",children:[u.jsxs("span",{className:"text-red-700 strike-through opacity-70",children:[" ",p]}),u.jsx("button",{onClick:()=>{const y=e.rejectedIndividuals.filter((E,A)=>A!==g),_=[...e.extraGuestNames||[],p];n({...e,guests:(parseInt(e.guests)+1).toString(),extraGuestNames:_,rejectedIndividuals:y})},className:"text-green-600 bg-white border border-green-100 px-2 py-0.5 rounded-full hover:bg-green-50",children:"Approve"})]},g))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Email"}),u.jsx("div",{className:"p-2 bg-[#FAF9F6] border border-[#E6D2B5]/30 rounded",children:e.email||"-"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Message"}),u.jsx("div",{className:"p-2 bg-[#FAF9F6] border border-[#E6D2B5]/30 rounded min-h-[3rem] whitespace-pre-wrap",children:e.message||"-"})]}),h?.timestamp&&u.jsxs("div",{className:"text-xs text-gray-400 text-right",children:["Registered: ",new Date(h.timestamp).toLocaleString()]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Full Name"}),u.jsx("input",{type:"text",value:e.name,onChange:p=>n({...e,name:p.target.value}),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner",placeholder:"Guest Name"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Attending?"}),u.jsxs("select",{value:e.attending,onChange:p=>n({...e,attending:p.target.value}),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner",children:[u.jsx("option",{value:"yes",children:"Attending"}),u.jsx("option",{value:"undecided",children:"Pending"}),u.jsx("option",{value:"no",children:"Declined"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Guests Count"}),u.jsxs("select",{value:e.guests,onChange:p=>{const g=parseInt(p.target.value),y=e.extraGuestNames||[],_=Array(Math.max(0,g-1)).fill("").map((E,A)=>y[A]||"");n({...e,guests:p.target.value,extraGuestNames:_})},className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner",children:[u.jsx("option",{value:"1",children:"1 Person"}),u.jsx("option",{value:"2",children:"2 People"}),u.jsx("option",{value:"3",children:"3 People"}),u.jsx("option",{value:"4",children:"4 People"}),u.jsx("option",{value:"5",children:"5 People"})]})]})]}),parseInt(e.guests)>1&&u.jsxs("div",{className:"space-y-2 bg-gray-50 p-3 rounded border border-gray-100",children:[u.jsx("p",{className:"text-[10px] text-[#B08D55] uppercase font-bold",children:"Extra Guest Names"}),e.extraGuestNames.map((p,g)=>u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("input",{type:"text",placeholder:`Guest ${g+2} Name`,value:p,onChange:y=>{const _=[...e.extraGuestNames];_[g]=y.target.value,n({...e,extraGuestNames:_})},className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner text-xs"}),u.jsx("button",{onClick:()=>{const y=e.extraGuestNames[g],_=e.extraGuestNames.filter((A,j)=>j!==g),E=[...e.rejectedIndividuals||[],y];n({...e,guests:(parseInt(e.guests)-1).toString(),extraGuestNames:_,rejectedIndividuals:E})},className:"text-red-400 hover:text-red-600 p-1 bg-red-50 rounded",title:"Reject this person",children:u.jsx(en,{size:14})})]},g))]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Email (Optional)"}),u.jsx("input",{type:"email",value:e.email,onChange:p=>n({...e,email:p.target.value}),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Message / Notes"}),u.jsx("textarea",{value:e.message,onChange:p=>n({...e,message:p.target.value}),className:"w-full px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner h-20"})]}),u.jsx("button",{onClick:o,className:"w-full bg-[#43342E] text-white py-3 rounded text-xs font-bold uppercase tracking-widest hover:bg-[#5D4B42] transition-colors",children:s==="edit"?"Update Guest":"Add Guest"})]})})]})}),z3=({stats:s,statusFilter:e,setStatusFilter:n,searchTerm:i,setSearchTerm:o,filteredGuests:c,openGuestModal:h,updateGuestStatus:p,restoreIndividual:g,downloadCSV:y,deleteGuest:_})=>u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center border-b border-[#E6D2B5]/30 pb-6 gap-4",children:u.jsxs("div",{className:"shrink-0",children:[u.jsx("h3",{className:"font-serif text-2xl text-[#43342E] mb-1",children:"Guest Management"}),u.jsx("p",{className:"text-xs text-[#8C7C72]",children:"Track RSVPs and manage your guest list"})]})}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"bg-white p-4 rounded border border-[#E6D2B5]/30 text-center",children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-[#8C7C72] mb-1",children:"Total Heads"}),u.jsx("p",{className:"font-serif text-2xl text-[#43342E]",children:s.totalHeads}),u.jsxs("p",{className:"text-[9px] text-gray-400 mt-1",children:[s.totalSubmissions," groups"]})]}),u.jsxs("div",{className:"bg-white p-4 rounded border border-green-100 text-center",children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-green-600 mb-1",children:"Attending"}),u.jsx("p",{className:"font-serif text-2xl text-green-700",children:s.attendingHeads}),u.jsx("p",{className:"text-[9px] text-green-500/60 mt-1",children:"Confirmed"})]}),u.jsxs("div",{className:"bg-white p-4 rounded border border-amber-100 text-center",children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-amber-600 mb-1",children:"Pending"}),u.jsx("p",{className:"font-serif text-2xl text-amber-700",children:s.pendingReviewHeads}),u.jsx("p",{className:"text-[9px] text-amber-500/60 mt-1",children:"Reviewing"})]}),u.jsxs("div",{className:"bg-white p-4 rounded border border-red-50 text-center",children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-red-400 mb-1",children:"Declined"}),u.jsx("p",{className:"font-serif text-2xl text-red-500",children:s.declinedByGuestHeads}),u.jsx("p",{className:"text-[9px] text-red-400/60 mt-1",children:"By Guest"})]}),u.jsxs("div",{className:"bg-[#1F1815] p-4 rounded border border-black text-center",children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-[#DBC1A7] mb-1",children:"Rejected"}),u.jsx("p",{className:"font-serif text-2xl text-[#F9F4EF]",children:s.rejectedByAdminHeads}),u.jsx("p",{className:"text-[9px] text-[#DBC1A7]/60 mt-1",children:"By Admin"})]})]}),u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white p-4 rounded border border-[#E6D2B5]/30 shadow-sm",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-3 w-full md:w-auto",children:[u.jsx("button",{onClick:y,className:"w-10 h-10 bg-[#43342E] text-white p-2 rounded-full flex items-center justify-center hover:bg-[#5D4B42] transition-colors shadow-sm",title:"Export CSV",children:u.jsx(BR,{size:18})}),u.jsx("button",{onClick:()=>h(null,"add"),className:"w-10 h-10 bg-[#B08D55] text-white p-2 rounded-full flex items-center justify-center hover:bg-[#8C6B3F] transition-colors shadow-sm",title:"Add Guest",children:u.jsx(Pn,{size:18})}),u.jsxs("select",{value:e,onChange:E=>n(E.target.value),className:"h-10 bg-white border border-[#E6D2B5] text-[10px] uppercase font-bold tracking-wider px-4 py-2 rounded-full outline-none focus:border-[#B08D55] text-[#43342E] cursor-pointer hover:bg-gray-100 transition-colors shadow-sm min-w-[130px]",children:[u.jsx("option",{value:"all",children:"All RSVP"}),u.jsx("option",{value:"yes",children:"Attending"}),u.jsx("option",{value:"undecided",children:"Pending Review"}),u.jsx("option",{value:"no",children:"Guest Declined"}),u.jsx("option",{value:"rejected",children:"Admin Rejected"})]})]}),u.jsxs("div",{className:"relative w-full md:w-96",children:[u.jsx(g3,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#8C7C72]",size:14}),u.jsx("input",{type:"text",placeholder:"Search guests...",value:i,onChange:E=>o(E.target.value),className:"h-10 pl-11 pr-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] w-full rounded-full shadow-inner placeholder:text-gray-400"})]})]}),u.jsx("div",{className:"bg-white rounded border border-[#E6D2B5]/30 overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left min-w-[600px]",children:[u.jsx("thead",{className:"bg-[#F9F4EF] text-[#B08D55] text-[10px] uppercase tracking-wider font-bold",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-4",children:"Name"}),u.jsx("th",{className:"p-4",children:"Status"}),u.jsx("th",{className:"p-4",children:"Guests"}),u.jsx("th",{className:"p-4 text-right",children:"Action"})]})}),u.jsx("tbody",{className:"divide-y divide-[#E6D2B5]/20 text-sm text-[#43342E]",children:c.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"4",className:"p-8 text-center text-[#8C7C72] italic",children:"No guests found."})}):c.map((E,A)=>u.jsxs("tr",{className:"hover:bg-[#FAF9F6]",children:[u.jsx("td",{className:"p-4 font-medium",children:u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("span",{children:E.name}),E.extraGuestNames?.length>0&&E.extraGuestNames.some(j=>j)&&u.jsxs("div",{className:"text-[10px] text-gray-500 pl-2 border-l border-[#E6D2B5]",children:["+ ",E.extraGuestNames.filter(j=>j).join(", ")]}),E.rejectedIndividuals?.length>0&&u.jsx("div",{className:"flex flex-col gap-1 mt-1 pl-2 border-l border-red-200",children:E.rejectedIndividuals.map((j,z)=>u.jsxs("div",{className:"flex items-center gap-2 group/item",children:[u.jsxs("span",{className:"text-[10px] text-red-400 bg-red-50/50 px-1.5 py-0.5 rounded flex items-center gap-1 leading-none uppercase font-bold",children:[u.jsx(Yx,{size:8})," Rejected: ",j]}),u.jsxs("button",{onClick:()=>g(E,j),className:"hidden group-hover/item:flex items-center gap-1 text-[9px] text-green-600 bg-white border border-green-100 px-1 rounded hover:bg-green-50",title:`Restore ${j}`,children:[u.jsx(rh,{size:10})," Restore"]})]},z))})]})}),u.jsx("td",{className:"p-4",children:E.attending==="no"?u.jsxs("span",{className:"inline-flex items-center gap-1 text-red-600 bg-red-50 px-2 py-1 rounded text-xs font-bold uppercase",children:[u.jsx(en,{size:12})," Declined"]}):E.adminStatus==="rejected"?u.jsxs("span",{className:"inline-flex items-center gap-1 text-white bg-black px-2 py-1 rounded text-xs font-bold uppercase",children:[u.jsx(Yx,{size:12})," Rejected"]}):E.adminStatus==="approved"?u.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 bg-green-50 px-2 py-1 rounded text-xs font-bold uppercase",children:[u.jsx(RR,{size:12})," Approved"]}):u.jsxs("span",{className:"inline-flex items-center gap-1 text-amber-600 bg-amber-50 px-2 py-1 rounded text-xs font-bold uppercase",children:[u.jsx(UE,{size:12})," Pending Review"]})}),u.jsx("td",{className:"p-4",children:E.guests}),u.jsxs("td",{className:"p-4 text-right flex justify-end gap-2",children:[(E.attending==="yes"||E.adminStatus)&&u.jsxs(u.Fragment,{children:[E.adminStatus!=="approved"&&u.jsx("button",{onClick:()=>p(E,"yes"),className:"text-green-500 hover:text-green-700 p-1 bg-green-50 hover:bg-green-100 rounded",title:"Approve",children:u.jsx(rh,{size:16})}),E.adminStatus!=="rejected"&&u.jsx("button",{onClick:()=>p(E,"no"),className:"text-red-500 hover:text-red-700 p-1 bg-red-50 hover:bg-red-100 rounded",title:"Reject",children:u.jsx(en,{size:16})}),E.adminStatus&&u.jsx("button",{onClick:()=>p(E,"undecided"),className:"text-amber-500 hover:text-amber-700 p-1 bg-amber-50 hover:bg-amber-100 rounded",title:"Reset Status",children:u.jsx(ih,{size:14})}),u.jsx("div",{className:"w-[1px] h-4 bg-gray-200 mx-1 self-center"})]}),u.jsx("button",{onClick:()=>h(E,"view"),className:"text-blue-400 hover:text-blue-600 p-1",title:"View Details",children:u.jsx(Rg,{size:16})}),u.jsx("button",{onClick:()=>_(E),className:"text-gray-400 hover:text-red-600 p-1",title:"Delete",children:u.jsx(Ki,{size:16})})]})]},A))})]})})]}),U3=({config:s,addNote:e,updateNote:n,deleteNote:i})=>u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsxs("div",{className:"flex justify-between items-end border-b border-[#E6D2B5]/30 pb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-serif text-2xl text-[#43342E] mb-2",children:"Meeting Notes & Checklist"}),u.jsx("p",{className:"text-xs text-[#8C7C72]",children:"Keep track of your planning to-dos"})]}),u.jsxs("button",{onClick:e,className:"bg-[#43342E] text-white px-4 py-2 rounded text-xs font-bold uppercase tracking-wider flex items-center gap-2 hover:bg-[#5D4B42]",children:[u.jsx(Pn,{size:14})," ",u.jsx("span",{className:"hidden md:inline",children:"Add Note"})]})]}),u.jsxs("div",{className:"grid gap-4",children:[s.notes?.map(o=>u.jsxs("div",{className:`bg-white p-4 rounded border flex items-start gap-4 transition-all ${o.completed?"opacity-60 border-green-100":"border-[#E6D2B5]/50"}`,children:[u.jsx("button",{onClick:()=>n(o.id,"completed",!o.completed),className:`mt-1 w-5 h-5 rounded-full border flex items-center justify-center transition-colors shrink-0 ${o.completed?"bg-green-500 border-green-500 text-white":"border-[#E6D2B5] text-transparent hover:border-[#B08D55]"}`,children:u.jsx(rh,{size:12,strokeWidth:3})}),u.jsxs("div",{className:"flex-1 space-y-2 min-w-0",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:gap-4",children:[u.jsx("input",{type:"text",value:o.text,onChange:c=>n(o.id,"text",c.target.value),className:`w-full bg-transparent border-b border-transparent focus:border-[#B08D55] outline-none font-medium text-[#43342E] ${o.completed?"line-through text-[#8C7C72]":""}`}),u.jsx("input",{type:"date",value:o.date,onChange:c=>n(o.id,"date",c.target.value),className:"text-xs text-[#8C7C72] bg-transparent outline-none md:text-right"})]}),u.jsx("textarea",{placeholder:"Add details...",value:o.details||"",onChange:c=>n(o.id,"details",c.target.value),className:"w-full text-sm text-[#8C7C72] bg-transparent resize-none outline-none",rows:1})]}),u.jsx("button",{onClick:()=>i(o.id),className:"text-gray-300 hover:text-red-400 transition-colors shrink-0",children:u.jsx(en,{size:16})})]},o.id)),(!s.notes||s.notes.length===0)&&u.jsx("div",{className:"text-center py-12 bg-white rounded border border-dashed border-[#E6D2B5]/50",children:u.jsx("p",{className:"text-[#8C7C72] italic text-sm",children:"No notes yet. Start planning by adding your first note!"})})]})]}),F3=({config:s,updateConfig:e,handleImageChange:n})=>u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsx("h3",{className:"font-serif text-lg text-[#43342E] border-b border-[#E6D2B5]/30 pb-2",children:"Core Details"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Couple Names"}),u.jsx("input",{type:"text",value:s.names,onChange:i=>e("names",i.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner"})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Display Date"}),u.jsx("input",{type:"text",value:s.dateString,onChange:i=>e("dateString",i.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner"})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Countdown Date"}),u.jsx("input",{type:"datetime-local",value:s.dateIso?.substring(0,16),onChange:i=>e("dateIso",i.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner"})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Location"}),u.jsx("input",{type:"text",value:s.location,onChange:i=>e("location",i.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner"})]})]}),u.jsxs("div",{className:"border-t border-[#E6D2B5]/30 pt-8 mt-4",children:[u.jsxs("h3",{className:"font-serif text-lg text-[#43342E] mb-6 flex items-center gap-2",children:[u.jsx(qE,{size:18})," Browser & Device Styling"]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Favicon Icon (Tab Icon)"}),u.jsxs("div",{className:"flex gap-4 items-center",children:[u.jsx("div",{className:"w-10 h-10 border border-[#E6D2B5] p-1 flex items-center justify-center bg-gray-50 shrink-0",children:s.faviconUrl?u.jsx("img",{src:s.faviconUrl,className:"max-w-full max-h-full",alt:"Favicon"}):u.jsx("span",{className:"text-[8px] text-gray-400",children:"None"})}),u.jsx("div",{className:"flex-1 space-y-2",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("label",{className:"cursor-pointer bg-white border border-[#E6D2B5] px-3 py-2 text-[10px] uppercase font-bold hover:bg-[#FAF9F6] flex items-center justify-center gap-2 w-full md:w-fit transition-colors",children:[u.jsx(ko,{size:12})," Upload Icon",u.jsx("input",{type:"file",className:"hidden",accept:"image/png,image/x-icon,image/jpeg",onChange:i=>n(i,"faviconUrl")})]}),s.faviconUrl&&u.jsx("button",{onClick:()=>e("faviconUrl",""),className:"px-3 py-2 border border-red-200 text-red-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Remove Favicon",children:u.jsx(Ki,{size:12})})]})})]}),u.jsx("input",{type:"text",value:s.faviconUrl||"",onChange:i=>e("faviconUrl",i.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner mt-2 text-xs",placeholder:"Or paste image URL..."})]}),u.jsxs("div",{className:"group",children:[u.jsxs("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2 flex items-center gap-2",children:[u.jsx(T3,{size:12})," Mobile Theme Color"]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("input",{type:"color",value:s.themeColor||"#FAF9F6",onChange:i=>e("themeColor",i.target.value),className:"w-10 h-10 p-1 bg-white border border-[#E6D2B5] cursor-pointer"}),u.jsx("input",{type:"text",value:s.themeColor||"#FAF9F6",onChange:i=>e("themeColor",i.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner uppercase font-mono",maxLength:7})]}),u.jsx("p",{className:"text-[9px] text-[#8C7C72] mt-2 leading-tight",children:"Controls the color of the browser address bar on mobile devices."})]})]})]}),u.jsxs("div",{className:"border-t border-[#E6D2B5]/30 pt-8 mt-4",children:[u.jsxs("h3",{className:"font-serif text-lg text-[#43342E] mb-6 flex items-center gap-2",children:[u.jsx(D3,{size:18})," Branding & Logo"]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Website Title"}),u.jsx("input",{type:"text",value:s.websiteTitle||"",onChange:i=>e("websiteTitle",i.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner",placeholder:"e.g. Louie & Florie's Wedding"})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Logo Text"}),u.jsx("input",{type:"text",value:s.logoText||"",onChange:i=>e("logoText",i.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner",placeholder:"Auto-generated if empty"})]}),u.jsxs("div",{className:"group md:col-span-2",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Logo Image (Optional)"}),u.jsxs("div",{className:"flex gap-4 items-center",children:[s.logoImage&&u.jsx("img",{src:s.logoImage,alt:"Logo Preview",className:"h-10 w-auto border border-[#E6D2B5] p-1"}),u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("label",{className:"cursor-pointer bg-white border border-[#E6D2B5] text-[#43342E] px-4 py-2 text-xs uppercase font-bold hover:bg-[#FAF9F6] flex items-center justify-center gap-2 w-fit",children:[u.jsx(ko,{size:14})," Upload Logo Image",u.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:i=>n(i,"logoImage")})]}),s.logoImage&&u.jsx("button",{onClick:()=>e("logoImage",""),className:"px-3 py-2 border border-red-200 text-red-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Remove Logo",children:u.jsx(Ki,{size:14})})]})})]})]})]})]}),u.jsxs("div",{className:"border-t border-[#E6D2B5]/30 pt-8 mt-4",children:[u.jsx("h3",{className:"font-serif text-lg text-[#43342E] mb-6",children:"Social & Contact Links"}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Instagram URL"}),u.jsx("input",{type:"text",value:s.instagram,onChange:i=>e("instagram",i.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner",placeholder:"#"})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Facebook URL"}),u.jsx("input",{type:"text",value:s.facebook,onChange:i=>e("facebook",i.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner",placeholder:"#"})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Contact URL"}),u.jsx("input",{type:"text",value:s.contact,onChange:i=>e("contact",i.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner",placeholder:"mailto:us@example.com"})]})]})]})]}),H3=({config:s,updateConfig:e,updateStory:n,addStoryItem:i,removeStoryItem:o})=>u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsxs("div",{className:"flex justify-between items-center border-b border-[#E6D2B5]/30 pb-2",children:[u.jsx("h3",{className:"font-serif text-lg text-[#43342E]",children:"Our Journey Timeline"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[8px] font-bold text-[#B08D55] uppercase",children:"Title"}),u.jsx("input",{type:"text",value:s.storyTitle,onChange:c=>e("storyTitle",c.target.value),className:"border-none bg-transparent font-serif text-lg focus:outline-none text-right w-24 md:w-32"})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[8px] font-bold text-[#B08D55] uppercase",children:"Subtitle"}),u.jsx("input",{type:"text",value:s.storySubtitle,onChange:c=>e("storySubtitle",c.target.value),className:"border-none bg-transparent font-serif text-lg focus:outline-none text-right w-24 md:w-32"})]})]})]}),s.story?.map((c,h)=>u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-[#E6D2B5]/50 relative group transition-all hover:shadow-md",children:[u.jsx("button",{onClick:()=>o(h),className:"absolute top-4 right-4 text-red-300 hover:text-red-500 transition-colors p-1",title:"Remove Item",children:u.jsx(Ki,{size:16})}),u.jsxs("div",{className:"grid md:grid-cols-12 gap-4",children:[u.jsxs("div",{className:"md:col-span-3",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Date"}),u.jsx("input",{type:"text",value:c.date,onChange:p=>n(h,"date",p.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm"})]}),u.jsxs("div",{className:"md:col-span-9 pr-8",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Title"}),u.jsx("input",{type:"text",value:c.title,onChange:p=>n(h,"title",p.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 font-serif text-lg mb-2"}),u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Description"}),u.jsx("textarea",{value:c.description,onChange:p=>n(h,"description",p.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm h-20"})]})]})]},h)),u.jsxs("button",{onClick:i,className:"w-full py-4 border-2 border-dashed border-[#E6D2B5] text-[#B08D55] uppercase text-xs font-bold tracking-widest hover:bg-[#E6D2B5]/10 transition-colors flex items-center justify-center gap-2",children:[u.jsx(Pn,{size:16})," Add Timeline Milestone"]})]}),q3=[{id:"clock",icon:Jo,label:"Clock"},{id:"coffee",icon:FE,label:"Coffee"},{id:"heart",icon:Gc,label:"Heart"},{id:"camera",icon:qc,label:"Camera"},{id:"music",icon:Mh,label:"Music"},{id:"utensils",icon:Oh,label:"Food"},{id:"wine",icon:Vh,label:"Drinks"},{id:"car",icon:zE,label:"Travel"},{id:"ring",icon:HE,label:"Ring"}],G3=({config:s,updateConfig:e})=>u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsxs("div",{className:"flex justify-between items-center border-b border-[#E6D2B5]/30 pb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-serif text-2xl text-[#43342E] mb-2",children:"Wedding Day Timeline"}),u.jsx("p",{className:"text-xs text-[#8C7C72]",children:"Manage the flow of your wedding day program"})]}),u.jsxs("button",{onClick:()=>{const n={time:"00:00 AM",title:"New Event",description:"Event description"};e("timeline",[...s.timeline||[],n])},className:"bg-[#B08D55] text-white px-4 py-2 rounded-full text-xs uppercase font-bold flex items-center gap-2 hover:bg-[#8C6B3F] transition-colors",children:[u.jsx(Pn,{size:14})," Add Event"]})]}),u.jsx("div",{className:"space-y-4",children:s.timeline?.map((n,i)=>u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-[#E6D2B5]/50 shadow-sm relative group",children:[u.jsx("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx("button",{onClick:()=>{const o=s.timeline.filter((c,h)=>h!==i);e("timeline",o)},className:"text-red-300 hover:text-red-500 p-1",title:"Remove Event",children:u.jsx(Ki,{size:16})})}),u.jsxs("div",{className:"grid md:grid-cols-12 gap-4",children:[u.jsxs("div",{className:"md:col-span-3",children:[u.jsx("label",{className:"block text-[10px] uppercase font-bold text-[#B08D55] mb-1",children:"Time"}),u.jsx("input",{type:"text",value:n.time,onChange:o=>{const c=[...s.timeline];c[i]={...n,time:o.target.value},e("timeline",c)},className:"w-full bg-[#FAF9F6] border border-[#E6D2B5]/30 p-2 rounded text-[#43342E] font-medium",placeholder:"e.g. 3:00 PM"})]}),u.jsxs("div",{className:"md:col-span-4",children:[u.jsx("label",{className:"block text-[10px] uppercase font-bold text-[#B08D55] mb-1",children:"Title"}),u.jsx("input",{type:"text",value:n.title,onChange:o=>{const c=[...s.timeline];c[i]={...n,title:o.target.value},e("timeline",c)},className:"w-full bg-[#FAF9F6] border border-[#E6D2B5]/30 p-2 rounded text-[#43342E] font-serif",placeholder:"Event Title"})]}),u.jsxs("div",{className:"md:col-span-12 mt-2",children:[u.jsx("label",{className:"block text-[10px] uppercase font-bold text-[#B08D55] mb-2",children:"Event Icon"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:q3.map(o=>u.jsxs("button",{onClick:()=>{const c=[...s.timeline];c[i]={...n,icon:o.id},e("timeline",c)},className:`p-2 rounded border flex items-center gap-2 text-xs transition-all ${n.icon===o.id?"bg-[#B08D55] text-white border-[#B08D55]":"bg-white border-[#E6D2B5]/50 text-[#8C7C72] hover:border-[#B08D55]"}`,title:o.label,children:[u.jsx(o.icon,{size:14}),u.jsx("span",{className:"hidden sm:inline",children:o.label})]},o.id))})]}),u.jsxs("div",{className:"md:col-span-5",children:[u.jsx("label",{className:"block text-[10px] uppercase font-bold text-[#B08D55] mb-1",children:"Description"}),u.jsx("input",{type:"text",value:n.description,onChange:o=>{const c=[...s.timeline];c[i]={...n,description:o.target.value},e("timeline",c)},className:"w-full bg-[#FAF9F6] border border-[#E6D2B5]/30 p-2 rounded text-[#43342E] text-sm",placeholder:"Short description"})]})]})]},i))})]}),Kx=[{value:"music",label:"Music",icon:Mh},{value:"heart",label:"Heart",icon:Gc},{value:"clock",label:"Clock",icon:Jo},{value:"location",label:"Location",icon:jo},{value:"wine",label:"Wine",icon:Vh},{value:"utensils",label:"Food",icon:Oh},{value:"camera",label:"Photo",icon:qc},{value:"party",label:"Party",icon:QE}],Q3=({config:s,updateConfig:e,updateEvent:n,processImage:i})=>{const[o,c]=O.useState(null);return u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsxs("div",{className:"flex justify-between items-center border-b border-[#E6D2B5]/30 pb-2",children:[u.jsx("h3",{className:"font-serif text-lg text-[#43342E]",children:"Wedding Events"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[8px] font-bold text-[#B08D55] uppercase",children:"Title"}),u.jsx("input",{type:"text",value:s.eventsTitle,onChange:h=>e("eventsTitle",h.target.value),className:"border-none bg-transparent font-serif text-lg focus:outline-none text-right w-24 md:w-32"})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[8px] font-bold text-[#B08D55] uppercase",children:"Subtitle"}),u.jsx("input",{type:"text",value:s.eventsSubtitle,onChange:h=>e("eventsSubtitle",h.target.value),className:"border-none bg-transparent font-serif text-lg focus:outline-none text-right w-24 md:w-32"})]}),u.jsxs("button",{onClick:()=>{const h=[...s.events||[],{title:"New Event",time:"Date & Time",description:"Event description.",location:"Location Name",mapLink:"https://maps.google.com",icon:"location"}];e("events",h)},className:"bg-[#B08D55] text-white px-3 md:px-4 py-2 rounded-full text-[10px] md:text-xs uppercase font-bold flex items-center gap-2 hover:bg-[#8C6B3F] transition-colors",children:[u.jsx(Pn,{size:14})," ",u.jsx("span",{className:"hidden md:inline",children:"Add Event"})]})]})]}),u.jsx("div",{className:"grid gap-6",children:s.events?.map((h,p)=>u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-[#E6D2B5]/50 relative group",children:[u.jsx("div",{className:"absolute top-4 right-4 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx("button",{onClick:()=>{if(confirm("Delete this event?")){const g=s.events.filter((y,_)=>_!==p);e("events",g)}},className:"bg-white text-red-300 hover:text-red-500 p-2 rounded-full shadow-md hover:bg-red-50 transition-colors",title:"Delete Event",children:u.jsx(Ki,{size:16})})}),u.jsxs("div",{className:"flex items-center gap-4 mb-6 relative z-20",children:[u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>c(o===p?null:p),className:"w-10 h-10 rounded-full bg-[#FAF9F6] border border-[#E6D2B5] flex items-center justify-center text-[#B08D55] shadow-sm hover:bg-[#E6D2B5] hover:text-white transition-colors",title:"Change Icon",children:(()=>{const g=Kx.find(y=>y.value===h.icon)?.icon||jo;return u.jsx(g,{size:20})})()}),o===p&&u.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white border border-[#E6D2B5]/50 rounded-lg shadow-xl p-2 w-48 z-50 grid grid-cols-4 gap-2 animate-in zoom-in-95 duration-200",children:Kx.map(g=>u.jsx("button",{onClick:()=>{n(p,"icon",g.value),c(null)},className:`p-2 rounded hover:bg-[#F9F4EF] flex items-center justify-center transition-colors ${h.icon===g.value?"bg-[#E6D2B5] text-white":"text-[#8C7C72]"}`,title:g.label,children:u.jsx(g.icon,{size:16})},g.value))})]}),u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsxs("span",{className:"text-xs uppercase font-bold tracking-wider text-[#B08D55]",children:["Event ",p+1]}),u.jsxs("label",{className:"cursor-pointer text-[10px] text-[#8C7C72] hover:text-[#B08D55] flex items-center gap-1 bg-[#FAF9F6] px-2 py-1 rounded border border-[#E6D2B5]/20 hover:border-[#E6D2B5]",children:[u.jsx(Op,{size:12})," Change Photo",u.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:async g=>{const y=g.target.files[0];if(y){const _=await i(y);if(_.length>1e6){Zt.error("Image too large");return}const E=[...s.events];E[p]={...h,image:_},e("events",E),Zt.success("Image updated!")}}})]})]})})]}),u.jsxs("div",{className:"w-full h-32 bg-[#FAF9F6] border border-[#E6D2B5]/30 rounded mb-4 overflow-hidden relative group/img z-10",children:[h.image?u.jsx("img",{src:h.image,alt:"Event Context",className:"w-full h-full object-cover"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-[#E6D2B5]",children:u.jsx(Op,{size:32,opacity:.5})}),u.jsxs("label",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover/img:opacity-100 transition-opacity flex items-center justify-center text-white text-xs font-bold cursor-pointer uppercase tracking-widest gap-2",children:[u.jsx(ko,{size:14})," Upload Details Photo",u.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:async g=>{const y=g.target.files[0];if(y){const _=await i(y),E=[...s.events];E[p]={...h,image:_},e("events",E)}}})]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Event Title"}),u.jsx("input",{type:"text",value:h.title,onChange:g=>n(p,"title",g.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 font-serif text-lg"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Time / Date"}),u.jsx("input",{type:"text",value:h.time,onChange:g=>n(p,"time",g.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm font-bold text-[#B08D55]"})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Description"}),u.jsx("textarea",{value:h.description,onChange:g=>n(p,"description",g.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm h-16"})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Location Name"}),u.jsx("input",{type:"text",value:h.location,onChange:g=>n(p,"location",g.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Map Link (URL)"}),u.jsx("input",{type:"text",value:h.mapLink||"",onChange:g=>n(p,"mapLink",g.target.value),placeholder:"https://maps.google.com/...",className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm text-blue-600"})]})]})]},p))})]})},Y3=({config:s,updateConfig:e,updateListItem:n,addListItem:i,removeListItem:o,updatePrincipalSponsor:c,addPrincipalSponsor:h,removePrincipalSponsor:p,updateSecondarySponsor:g,addSecondarySponsor:y,removeSecondarySponsor:_,updateBearer:E,addBearer:A,removeBearer:j,updateEntourageGroup:z,updateEntourageName:G,addEntourageName:q,removeEntourageName:re,addEntourageGroup:oe,removeEntourageGroup:ee})=>u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsxs("div",{className:"flex justify-between items-center border-b border-[#E6D2B5]/30 pb-2",children:[u.jsx("h3",{className:"font-serif text-lg text-[#43342E]",children:"Wedding Entourage"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[8px] font-bold text-[#B08D55] uppercase",children:"Title"}),u.jsx("input",{type:"text",value:s.entourageTitle||"",onChange:se=>e("entourageTitle",se.target.value),className:"border-none bg-transparent font-serif text-lg focus:outline-none text-right w-24 md:w-32",placeholder:"The Entourage"})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[8px] font-bold text-[#B08D55] uppercase",children:"Subtitle"}),u.jsx("input",{type:"text",value:s.entourageSubtitle||"",onChange:se=>e("entourageSubtitle",se.target.value),className:"border-none bg-transparent font-serif text-lg focus:outline-none text-right w-24 md:w-32",placeholder:"Wedding Party"})]})]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8 p-6 bg-white rounded-lg border border-[#E6D2B5]",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Parents of the Groom"}),u.jsx("input",{type:"text",value:s.groomParents||"",onChange:se=>e("groomParents",se.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner font-serif text-lg text-center",placeholder:"Mr. & Mrs. Name"})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Parents of the Bride"}),u.jsx("input",{type:"text",value:s.brideParents||"",onChange:se=>e("brideParents",se.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner font-serif text-lg text-center",placeholder:"Mr. & Mrs. Name"})]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8 p-6 bg-[#F9F4EF] rounded-lg border border-[#E6D2B5]",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Maid of Honor"}),u.jsx("input",{type:"text",value:s.maidOfHonor||"",onChange:se=>e("maidOfHonor",se.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner font-serif text-lg text-center",placeholder:"Name Here"})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Best Man"}),u.jsx("input",{type:"text",value:s.bestMan||"",onChange:se=>e("bestMan",se.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner font-serif text-lg text-center",placeholder:"Name Here"})]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-[#E6D2B5]/50",children:[u.jsx("h4",{className:"text-xs font-bold text-[#B08D55] uppercase mb-4",children:"Bridesmaids"}),u.jsxs("div",{className:"space-y-2",children:[s.bridesmaids?.map((se,ie)=>u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:se,onChange:le=>n("bridesmaids",ie,le.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm"}),u.jsx("button",{onClick:()=>o("bridesmaids",ie),className:"text-gray-300 hover:text-red-400 p-2",children:u.jsx(en,{size:14})})]},ie)),u.jsxs("button",{onClick:()=>i("bridesmaids"),className:"mt-2 text-[10px] uppercase font-bold text-[#B08D55] hover:text-[#43342E] flex items-center gap-1",children:[u.jsx(Pn,{size:12})," Add Bridesmaid"]})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-[#E6D2B5]/50",children:[u.jsx("h4",{className:"text-xs font-bold text-[#B08D55] uppercase mb-4",children:"Groomsmen"}),u.jsxs("div",{className:"space-y-2",children:[s.groomsmen?.map((se,ie)=>u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:se,onChange:le=>n("groomsmen",ie,le.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm"}),u.jsx("button",{onClick:()=>o("groomsmen",ie),className:"text-gray-300 hover:text-red-400 p-2",children:u.jsx(en,{size:14})})]},ie)),u.jsxs("button",{onClick:()=>i("groomsmen"),className:"mt-2 text-[10px] uppercase font-bold text-[#B08D55] hover:text-[#43342E] flex items-center gap-1",children:[u.jsx(Pn,{size:12})," Add Groomsman"]})]})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-[#E6D2B5]/50 relative",children:[u.jsx("h4",{className:"text-xs font-bold text-[#B08D55] uppercase mb-4",children:"Principal Sponsors"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex gap-4 px-2 text-[10px] font-bold text-[#8C7C72] uppercase tracking-wider",children:[u.jsx("div",{className:"flex-1 text-center",children:"Mr."}),u.jsx("div",{className:"flex-1 text-center",children:"Mrs."}),u.jsx("div",{className:"w-8"})]}),s.principalSponsors?.map((se,ie)=>u.jsxs("div",{className:"flex gap-4 items-center",children:[u.jsx("input",{type:"text",value:se.mr,onChange:le=>c(ie,"mr",le.target.value),className:"flex-1 bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm md:text-right",placeholder:"Mr. Name"}),u.jsx("span",{className:"text-[#B08D55] font-bold",children:"&"}),u.jsx("input",{type:"text",value:se.mrs,onChange:le=>c(ie,"mrs",le.target.value),className:"flex-1 bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm",placeholder:"Mrs. Name"}),u.jsx("button",{onClick:()=>p(ie),className:"text-gray-300 hover:text-red-400 p-2",children:u.jsx(en,{size:14})})]},ie)),u.jsxs("button",{onClick:h,className:"mt-2 text-[10px] uppercase font-bold text-[#B08D55] hover:text-[#43342E] flex items-center gap-1 justify-center w-full py-2 border border-dashed border-[#E6D2B5]",children:[u.jsx(Pn,{size:12})," Add Sponsor Pair"]})]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-[#E6D2B5]/50 relative",children:[u.jsx("h4",{className:"text-xs font-bold text-[#B08D55] uppercase mb-4",children:"Secondary Sponsors"}),u.jsxs("div",{className:"space-y-2",children:[s.secondarySponsors?.map((se,ie)=>u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("input",{type:"text",value:se.role,onChange:le=>g(ie,"role",le.target.value),className:"w-1/3 bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-xs font-bold text-[#8C7C72]",placeholder:"Role"}),u.jsx("input",{type:"text",value:se.names,onChange:le=>g(ie,"names",le.target.value),className:"w-2/3 bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm",placeholder:"Names"}),u.jsx("button",{onClick:()=>_(ie),className:"text-gray-300 hover:text-red-400 p-2",children:u.jsx(en,{size:14})})]},ie)),u.jsxs("button",{onClick:y,className:"mt-2 text-[10px] uppercase font-bold text-[#B08D55] hover:text-[#43342E] flex items-center gap-1",children:[u.jsx(Pn,{size:12})," Add Secondary Sponsor"]})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-[#E6D2B5]/50 relative",children:[u.jsx("h4",{className:"text-xs font-bold text-[#B08D55] uppercase mb-4",children:"Bearers"}),u.jsxs("div",{className:"space-y-2",children:[s.bearers?.map((se,ie)=>u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("input",{type:"text",value:se.role,onChange:le=>E(ie,"role",le.target.value),className:"w-1/3 bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-xs font-bold text-[#8C7C72]",placeholder:"Role"}),u.jsx("input",{type:"text",value:se.name,onChange:le=>E(ie,"name",le.target.value),className:"w-2/3 bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm",placeholder:"Name"}),u.jsx("button",{onClick:()=>j(ie),className:"text-gray-300 hover:text-red-400 p-2",children:u.jsx(en,{size:14})})]},ie)),u.jsxs("button",{onClick:A,className:"mt-2 text-[10px] uppercase font-bold text-[#B08D55] hover:text-[#43342E] flex items-center gap-1",children:[u.jsx(Pn,{size:12})," Add Bearer"]})]})]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-[#E6D2B5]/50 relative",children:[u.jsx("h4",{className:"text-xs font-bold text-[#B08D55] uppercase mb-4",children:"Flower Girls"}),u.jsxs("div",{className:"space-y-2",children:[s.flowerGirls?.map((se,ie)=>u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:se,onChange:le=>n("flowerGirls",ie,le.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm"}),u.jsx("button",{onClick:()=>o("flowerGirls",ie),className:"text-gray-300 hover:text-red-400 p-2",children:u.jsx(en,{size:14})})]},ie)),u.jsxs("button",{onClick:()=>i("flowerGirls"),className:"mt-2 text-[10px] uppercase font-bold text-[#B08D55] hover:text-[#43342E] flex items-center gap-1",children:[u.jsx(Pn,{size:12})," Add Flower Girl"]})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-[#E6D2B5]/50 relative",children:[u.jsx("h4",{className:"text-xs font-bold text-[#B08D55] uppercase mb-4",children:"Offertory"}),u.jsxs("div",{className:"space-y-2",children:[s.offertory?.map((se,ie)=>u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:se,onChange:le=>n("offertory",ie,le.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm"}),u.jsx("button",{onClick:()=>o("offertory",ie),className:"text-gray-300 hover:text-red-400 p-2",children:u.jsx(en,{size:14})})]},ie)),u.jsxs("button",{onClick:()=>i("offertory"),className:"mt-2 text-[10px] uppercase font-bold text-[#B08D55] hover:text-[#43342E] flex items-center gap-1",children:[u.jsx(Pn,{size:12})," Add Offertory"]})]})]})]}),u.jsxs("div",{className:"grid gap-6",children:[s.entourageGroups?.map((se,ie)=>u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-[#E6D2B5]/50 relative group",children:[u.jsx("button",{onClick:()=>ee(ie),className:"absolute top-4 right-4 text-red-300 hover:text-red-500 transition-colors p-1 opacity-0 group-hover:opacity-100",title:"Remove Group",children:u.jsx(Ki,{size:16})}),u.jsxs("div",{className:"mb-4 pr-8",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Group Title (e.g. Bridesmaids)"}),u.jsx("input",{type:"text",value:se.title,onChange:le=>z(ie,"title",le.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 font-serif text-lg"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-1",children:"Members"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:se.names.map((le,N)=>u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:le,onChange:S=>G(ie,N,S.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm"}),u.jsx("button",{onClick:()=>re(ie,N),className:"text-gray-300 hover:text-red-400 p-2",children:u.jsx(en,{size:14})})]},N))}),u.jsxs("button",{onClick:()=>q(ie),className:"mt-2 text-[10px] uppercase font-bold text-[#B08D55] hover:text-[#43342E] flex items-center gap-1",children:[u.jsx(Pn,{size:12})," Add Member"]})]})]},ie)),u.jsxs("button",{onClick:oe,className:"w-full py-4 border-2 border-dashed border-[#E6D2B5] text-[#B08D55] uppercase text-xs font-bold tracking-widest hover:bg-[#E6D2B5]/10 transition-colors flex items-center justify-center gap-2",children:[u.jsx(Pn,{size:16})," Add New Group"]})]})]}),K3=({config:s,updateConfig:e,saveCurrentAsPreset:n,deletePreset:i,updateColor:o,addColor:c,removeColor:h})=>{const p=[{name:"Rustic",colors:[{name:"Dusty Rose",hex:"#E6D2B5"},{name:"Sage",hex:"#8C9E8C"},{name:"Terracotta",hex:"#C76D55"},{name:"Cream",hex:"#FDFBF7"},{name:"Charcoal",hex:"#43342E"}]},{name:"Elegant",colors:[{name:"Navy",hex:"#1B263B"},{name:"Gold",hex:"#D4AF37"},{name:"Ivory",hex:"#FFFFF0"},{name:"Slate",hex:"#778DA9"},{name:"Silver",hex:"#C0C0C0"}]},{name:"Garden",colors:[{name:"Lilac",hex:"#C8A2C8"},{name:"Soft Pink",hex:"#FFB7B2"},{name:"Mint",hex:"#98FF98"},{name:"Peach",hex:"#FFE5B4"},{name:"Cream",hex:"#FFFDD0"}]},{name:"Boho",colors:[{name:"Burnt Orange",hex:"#CC5500"},{name:"Mustard",hex:"#FFDB58"},{name:"Brown",hex:"#964B00"},{name:"Beige",hex:"#F5F5DC"},{name:"Olive",hex:"#808000"}]},{name:"Minimal",colors:[{name:"Black",hex:"#000000"},{name:"White",hex:"#FFFFFF"},{name:"Grey",hex:"#808080"},{name:"Gold",hex:"#FFD700"},{name:"Tan",hex:"#D2B48C"}]}];return u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsx("h3",{className:"font-serif text-lg text-[#43342E] border-b border-[#E6D2B5]/30 pb-2",children:"Color Palette"}),u.jsxs("div",{className:"bg-[#F9F4EF] p-4 rounded-lg border border-[#E6D2B5]",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("label",{className:"text-[10px] font-bold text-[#B08D55] uppercase",children:"Quick Presets (Group Palette)"}),u.jsxs("button",{onClick:n,className:"text-[10px] font-bold text-[#43342E] uppercase hover:underline flex items-center gap-1",children:[u.jsx(KE,{size:10})," Save Current as Preset"]})]}),u.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:[p.map((g,y)=>u.jsxs("button",{onClick:()=>{confirm(`Apply "${g.name}" preset?`)&&e("colorPalette",g.colors)},className:"shrink-0 bg-white border border-[#E6D2B5]/50 px-3 py-2 rounded shadow-sm hover:shadow-md hover:border-[#B08D55] transition-all text-left min-w-[120px]",children:[u.jsx("div",{className:"text-xs font-bold text-[#43342E] mb-2",children:g.name}),u.jsx("div",{className:"flex gap-1",children:g.colors.map((_,E)=>u.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-100",style:{backgroundColor:_.hex}},E))})]},`builtin-${y}`)),s.savedPalettes?.map((g,y)=>u.jsxs("div",{className:"relative group shrink-0",children:[u.jsxs("button",{onClick:()=>{confirm(`Apply "${g.name}" preset?`)&&e("colorPalette",g.colors)},className:"bg-white border border-[#E6D2B5] px-3 py-2 rounded shadow-sm hover:shadow-md hover:border-[#B08D55] transition-all text-left min-w-[120px] h-full",children:[u.jsxs("div",{className:"text-xs font-bold text-[#43342E] mb-2 flex justify-between",children:[g.name,u.jsx("span",{className:"text-[9px] text-gray-400 font-normal italic ml-1",children:"(Custom)"})]}),u.jsx("div",{className:"flex gap-1",children:g.colors.map((_,E)=>u.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-100",style:{backgroundColor:_.hex}},E))})]}),u.jsx("button",{onClick:()=>i(y),className:"absolute -top-2 -right-2 bg-red-400 text-white rounded-full p-1 shadow-md opacity-0 group-hover:opacity-100 transition-opacity",title:"Delete Preset",children:u.jsx(en,{size:10})})]},`saved-${y}`))]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.colorPalette?.map((g,y)=>u.jsxs("div",{className:"bg-white p-4 rounded-lg border border-[#E6D2B5]/50 flex items-center gap-4 shadow-sm",children:[u.jsx("div",{className:"relative group",children:u.jsx("input",{type:"color",value:g.hex,onChange:_=>o(y,"hex",_.target.value),className:"w-12 h-12 rounded-full overflow-hidden border-2 border-white shadow-md cursor-pointer"})}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx("input",{type:"text",value:g.name,onChange:_=>o(y,"name",_.target.value),className:"w-full bg-[#FAF9F6] p-2 border border-[#E6D2B5]/30 text-sm font-medium text-[#43342E]",placeholder:"Color Name (e.g. Sage)"}),u.jsx("input",{type:"text",value:g.hex,onChange:_=>o(y,"hex",_.target.value),className:"w-full bg-[#FAF9F6] p-1 border border-[#E6D2B5]/30 text-xs text-gray-500 uppercase tracking-widest font-mono",placeholder:"#HEX"})]}),u.jsx("button",{onClick:()=>h(y),className:"text-gray-300 hover:text-red-400 p-2 transition-colors",title:"Remove Color",children:u.jsx(en,{size:16})})]},y)),u.jsxs("button",{onClick:c,className:"bg-[#FAF9F6] border-2 border-dashed border-[#E6D2B5] rounded-lg flex flex-col items-center justify-center p-6 text-[#B08D55] hover:bg-[#E6D2B5]/10 transition-colors min-h-[100px]",children:[u.jsx(Pn,{size:24,className:"mb-2"}),u.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Add Color"})]})]})]})},$3=({config:s,updateConfig:e})=>u.jsxs("div",{className:"space-y-10 animate-fade-in max-w-2xl",children:[u.jsx("h3",{className:"font-serif text-lg text-[#43342E] border-b border-[#E6D2B5]/30 pb-2",children:"RSVP Settings"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-4",children:"RSVP Mode Selection"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("button",{onClick:()=>e("rsvpMode","form"),className:`py-8 px-6 border flex flex-col items-center justify-center gap-4 transition-all ${s.rsvpMode==="form"?"border-[#43342E] bg-white text-[#43342E] shadow-lg scale-105":"border-[#E6D2B5] bg-transparent text-[#8C7C72] hover:bg-white"}`,children:[u.jsx(YE,{size:28,strokeWidth:1.5}),u.jsx("span",{className:"font-serif text-lg",children:"Built-in Form"})]}),u.jsxs("button",{onClick:()=>e("rsvpMode","link"),className:`py-8 px-6 border flex flex-col items-center justify-center gap-4 transition-all ${s.rsvpMode==="link"?"border-[#43342E] bg-white text-[#43342E] shadow-lg scale-105":"border-[#E6D2B5] bg-transparent text-[#8C7C72] hover:bg-white"}`,children:[u.jsx(JR,{size:28,strokeWidth:1.5}),u.jsx("span",{className:"font-serif text-lg",children:"External Link"})]})]})]}),s.rsvpMode==="link"&&u.jsxs("div",{className:"animate-fade-in bg-white p-8 border border-[#E6D2B5]",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"External Link URL"}),u.jsx("input",{type:"url",placeholder:"e.g. https://theknot.com/us/...",value:s.rsvpExternalLink,onChange:n=>e("rsvpExternalLink",n.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner"}),u.jsx("p",{className:"text-xs text-[#8C7C72] mt-4 italic",children:'Visitors will be redirected to this URL when clicking "RSVP".'})]}),u.jsxs("div",{className:"border-t border-[#E6D2B5]/30 pt-8 mt-8",children:[u.jsx("h4",{className:"font-serif text-md text-[#43342E] mb-4",children:"Deadline Configuration"}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"RSVP Deadline Text"}),u.jsx("input",{type:"text",value:s.rsvpDeadline,onChange:n=>e("rsvpDeadline",n.target.value),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner",placeholder:"e.g. May 1st, 2026"})]})]})]}),X3=({config:s,handleImageChange:e,handleUrlChange:n})=>u.jsxs("div",{className:"space-y-12 animate-fade-in",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-serif text-xl text-[#43342E] mb-6",children:"Hero Background"}),u.jsxs("div",{className:"relative group w-full h-64 overflow-hidden bg-gray-100 border border-[#E6D2B5] mb-4",children:[u.jsx("img",{src:s.heroImage,className:"w-full h-full object-cover opacity-90 group-hover:opacity-100 transition-opacity duration-500"}),u.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:u.jsxs("label",{className:"cursor-pointer bg-white/90 text-[#43342E] px-6 py-3 rounded-none uppercase tracking-widest text-xs font-bold hover:bg-white flex items-center gap-3 transition-transform transform group-hover:-translate-y-1",children:[u.jsx(ko,{size:16})," Upload New",u.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:i=>e(i,"heroImage")})]})})]}),u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Or Paste URL"}),u.jsx("input",{type:"text",value:s.heroImage,onChange:i=>n(i.target.value,"heroImage"),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner"})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-serif text-xl text-[#43342E] mb-6",children:"RSVP Side Image"}),u.jsxs("div",{className:"relative group w-full h-64 overflow-hidden bg-gray-100 border border-[#E6D2B5] mb-4",children:[u.jsx("img",{src:s.rsvpImage,className:"w-full h-full object-cover transition-opacity duration-500"}),u.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:u.jsxs("label",{className:"cursor-pointer bg-white/90 text-[#43342E] px-6 py-3 rounded-none uppercase tracking-widest text-xs font-bold hover:bg-white flex items-center gap-3 transition-transform transform group-hover:-translate-y-1",children:[u.jsx(ko,{size:16})," Upload New",u.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:i=>e(i,"rsvpImage")})]})})]}),u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] uppercase mb-2",children:"Or Paste URL"}),u.jsx("input",{type:"text",value:s.rsvpImage,onChange:i=>n(i.target.value,"rsvpImage"),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] text-xs focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner"})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-serif text-xl text-[#43342E] mb-6",children:"Gallery Collection"}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:s.galleryImages?.map((i,o)=>u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"relative group cursor-pointer aspect-square bg-[#E6D2B5]/20 overflow-hidden border border-[#E6D2B5]/50",children:[u.jsx("img",{src:i,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),u.jsx("div",{className:"absolute inset-0 bg-[#43342E]/0 group-hover:bg-[#43342E]/40 transition-colors duration-300 flex items-center justify-center",children:u.jsx(ko,{className:"text-white opacity-0 group-hover:opacity-100 transform translate-y-4 group-hover:translate-y-0 transition-all duration-300",size:24})}),u.jsx("input",{type:"file",className:"absolute inset-0 opacity-0 cursor-pointer z-10",accept:"image/*",onChange:c=>e(c,null,o)})]}),u.jsx("input",{type:"text",value:i,onChange:c=>n(c.target.value,null,o),className:"w-full h-10 px-4 py-2 bg-[#FAF9F6] border border-[#E6D2B5] focus:outline-none focus:border-[#B08D55] rounded-md shadow-inner p-2 text-[10px]",placeholder:"Image URL..."})]},o))})]})]}),W3=({config:s,updateConfig:e,onSave:n})=>u.jsxs("div",{className:"space-y-8 animate-fade-in max-w-2xl",children:[u.jsxs("div",{className:"border-b border-[#E6D2B5]/30 pb-6",children:[u.jsx("h3",{className:"font-serif text-2xl text-[#43342E] mb-1",children:"System Settings"}),u.jsx("p",{className:"text-xs text-[#8C7C72]",children:"Manage global website features and system behavior"})]}),u.jsxs("div",{className:"bg-white rounded border border-[#E6D2B5]/30 overflow-hidden shadow-sm",children:[u.jsx("div",{className:"p-6 border-b border-gray-100",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-bold text-[#43342E] mb-1",children:"Opening Screen"}),u.jsx("p",{className:"text-xs text-[#8C7C72]",children:"Show a landing screen before the main website content"})]}),u.jsx("button",{onClick:()=>{const i=!s.showOpeningScreen;e("showOpeningScreen",i),n&&n({...s,showOpeningScreen:i}),Zt.success(`Opening Screen ${i?"Enabled":"Disabled"}`)},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${s.showOpeningScreen?"bg-[#C5A059]":"bg-gray-200"}`,children:u.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s.showOpeningScreen?"translate-x-6":"translate-x-1"}`})})]})}),u.jsx("div",{className:"p-6 bg-[#FAF9F6]",children:u.jsxs("div",{className:"flex items-start gap-4 text-[#8C7C72]",children:[u.jsx(UE,{size:18,className:"shrink-0 mt-0.5"}),u.jsxs("div",{className:"text-xs space-y-2",children:[u.jsxs("p",{children:["Disabling the ",u.jsx("strong",{children:"Opening Screen"})," will skip the initial invitation animation and take guests directly to the Home page."]}),u.jsx("p",{children:"This is useful if you want a faster loading experience for returning visitors."})]})]})})]}),u.jsxs("div",{className:"bg-white rounded border border-[#E6D2B5]/30 overflow-hidden shadow-sm",children:[u.jsx("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-bold text-[#43342E] mb-1",children:"Global Guest Refresh"}),u.jsx("p",{className:"text-xs text-[#8C7C72]",children:"Force all guest browsers to reload the latest data"})]})}),u.jsxs("div",{className:"p-6 bg-[#FAF9F6] space-y-4",children:[u.jsxs("div",{className:"flex items-start gap-4 text-[#8C7C72]",children:[u.jsx(ih,{size:18,className:"shrink-0 mt-0.5"}),u.jsxs("div",{className:"text-xs space-y-2",children:[u.jsxs("p",{children:['If you made changes and some guests still see "old" information, you can trigger a ',u.jsx("strong",{children:"Global Refresh"}),"."]}),u.jsx("p",{children:"This will force every guest's website to automatically refresh exactly once to fetch the latest database updates."})]})]}),u.jsxs("button",{onClick:()=>{const i=Date.now().toString();e("syncId",i),n&&Zt.promise(n({...s,syncId:i}),{loading:"Broadcasting Refresh signal...",success:u.jsx("b",{children:"Broadcast Sent Successfully!"}),error:u.jsx("b",{children:"Failed to broadcast."})})},className:"w-full py-4 rounded font-bold uppercase tracking-widest text-xs bg-[#43342E] text-white hover:bg-[#5D4B42] transition-all flex items-center justify-center gap-2 shadow-md",children:[u.jsx(ih,{size:14}),"Trigger Global Refresh"]}),u.jsxs("p",{className:"text-[10px] text-center text-[#8C7C72]",children:["Last Synchronized: ",s.syncId?new Date(parseInt(s.syncId)).toLocaleString():"Never"]})]})]}),u.jsxs("div",{className:"bg-white rounded border border-[#E6D2B5]/30 overflow-hidden shadow-sm",children:[u.jsx("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-bold text-[#43342E] mb-1",children:"Debug & Diagnostics"}),u.jsx("p",{className:"text-xs text-[#8C7C72]",children:"Verify database synchronization status"})]})}),u.jsxs("div",{className:"p-6 bg-[#FAF9F6] space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-white p-3 border border-[#E6D2B5]/30 rounded",children:[u.jsx("label",{className:"block text-[8px] font-bold text-[#B08D55] uppercase mb-1",children:"Sync Version (Timestamp)"}),u.jsx("p",{className:"text-[10px] font-mono text-[#43342E] truncate",title:s.lastSaved,children:s.lastSaved?new Date(s.lastSaved).toLocaleString():"Never Saved"})]}),u.jsxs("div",{className:"bg-white p-3 border border-[#E6D2B5]/30 rounded",children:[u.jsx("label",{className:"block text-[8px] font-bold text-[#B08D55] uppercase mb-1",children:"Status"}),u.jsxs("p",{className:"text-[10px] font-bold text-green-600 flex items-center gap-1",children:[u.jsx("span",{className:"flex h-1.5 w-1.5 rounded-full bg-green-500 animate-pulse"}),"Live Connection"]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"block text-[8px] font-bold text-[#B08D55] uppercase",children:"Raw Configuration Data (JSON)"}),u.jsxs("div",{className:"relative group",children:[u.jsx("pre",{className:"text-[9px] bg-[#1F1815] text-[#A8D8B9] p-4 rounded h-40 overflow-auto no-scrollbar font-mono leading-relaxed ring-1 ring-inset ring-white/10",children:JSON.stringify(s,null,2)}),u.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx("button",{onClick:()=>{navigator.clipboard.writeText(JSON.stringify(s,null,2)),Zt.success("JSON copied to clipboard")},className:"bg-white/10 hover:bg-white/20 text-white p-1 rounded backdrop-blur-sm",title:"Copy JSON",children:u.jsx(VR,{size:12})})})]}),u.jsx("p",{className:"text-[8px] text-[#8C7C72]",children:`This shows the exact data currently held in the app's memory. When you click "Save Changes", this is what is sent to Firestore.`})]})]})]})]});var lc=c1();function J3(){for(var s=arguments.length,e=new Array(s),n=0;n<s;n++)e[n]=arguments[n];return O.useMemo(()=>i=>{e.forEach(o=>o(i))},e)}const Lh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Zo(s){const e=Object.prototype.toString.call(s);return e==="[object Window]"||e==="[object global]"}function Ig(s){return"nodeType"in s}function Zn(s){var e,n;return s?Zo(s)?s:Ig(s)&&(e=(n=s.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function jg(s){const{Document:e}=Zn(s);return s instanceof e}function Qc(s){return Zo(s)?!1:s instanceof Zn(s).HTMLElement}function XE(s){return s instanceof Zn(s).SVGElement}function el(s){return s?Zo(s)?s.document:Ig(s)?jg(s)?s:Qc(s)||XE(s)?s.ownerDocument:document:document:document}const br=Lh?O.useLayoutEffect:O.useEffect;function kg(s){const e=O.useRef(s);return br(()=>{e.current=s}),O.useCallback(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e.current==null?void 0:e.current(...i)},[])}function Z3(){const s=O.useRef(null),e=O.useCallback((i,o)=>{s.current=setInterval(i,o)},[]),n=O.useCallback(()=>{s.current!==null&&(clearInterval(s.current),s.current=null)},[]);return[e,n]}function Cc(s,e){e===void 0&&(e=[s]);const n=O.useRef(s);return br(()=>{n.current!==s&&(n.current=s)},e),n}function Yc(s,e){const n=O.useRef();return O.useMemo(()=>{const i=s(n.current);return n.current=i,i},[...e])}function ah(s){const e=kg(s),n=O.useRef(null),i=O.useCallback(o=>{o!==n.current&&e?.(o,n.current),n.current=o},[]);return[n,i]}function Vp(s){const e=O.useRef();return O.useEffect(()=>{e.current=s},[s]),e.current}let sp={};function Kc(s,e){return O.useMemo(()=>{if(e)return e;const n=sp[s]==null?0:sp[s]+1;return sp[s]=n,s+"-"+n},[s,e])}function WE(s){return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return i.reduce((c,h)=>{const p=Object.entries(h);for(const[g,y]of p){const _=c[g];_!=null&&(c[g]=_+s*y)}return c},{...e})}}const Mo=WE(1),Dc=WE(-1);function eI(s){return"clientX"in s&&"clientY"in s}function Mg(s){if(!s)return!1;const{KeyboardEvent:e}=Zn(s.target);return e&&s instanceof e}function tI(s){if(!s)return!1;const{TouchEvent:e}=Zn(s.target);return e&&s instanceof e}function Lp(s){if(tI(s)){if(s.touches&&s.touches.length){const{clientX:e,clientY:n}=s.touches[0];return{x:e,y:n}}else if(s.changedTouches&&s.changedTouches.length){const{clientX:e,clientY:n}=s.changedTouches[0];return{x:e,y:n}}}return eI(s)?{x:s.clientX,y:s.clientY}:null}const Rc=Object.freeze({Translate:{toString(s){if(!s)return;const{x:e,y:n}=s;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(s){if(!s)return;const{scaleX:e,scaleY:n}=s;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(s){if(s)return[Rc.Translate.toString(s),Rc.Scale.toString(s)].join(" ")}},Transition:{toString(s){let{property:e,duration:n,easing:i}=s;return e+" "+n+"ms "+i}}}),$x="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function nI(s){return s.matches($x)?s:s.querySelector($x)}const sI={display:"none"};function rI(s){let{id:e,value:n}=s;return Cn.createElement("div",{id:e,style:sI},n)}function iI(s){let{id:e,announcement:n,ariaLiveType:i="assertive"}=s;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Cn.createElement("div",{id:e,style:o,role:"status","aria-live":i,"aria-atomic":!0},n)}function aI(){const[s,e]=O.useState("");return{announce:O.useCallback(i=>{i!=null&&e(i)},[]),announcement:s}}const JE=O.createContext(null);function oI(s){const e=O.useContext(JE);O.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(s)},[s,e])}function lI(){const[s]=O.useState(()=>new Set),e=O.useCallback(i=>(s.add(i),()=>s.delete(i)),[s]);return[O.useCallback(i=>{let{type:o,event:c}=i;s.forEach(h=>{var p;return(p=h[o])==null?void 0:p.call(h,c)})},[s]),e]}const cI={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},uI={onDragStart(s){let{active:e}=s;return"Picked up draggable item "+e.id+"."},onDragOver(s){let{active:e,over:n}=s;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(s){let{active:e,over:n}=s;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(s){let{active:e}=s;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function dI(s){let{announcements:e=uI,container:n,hiddenTextDescribedById:i,screenReaderInstructions:o=cI}=s;const{announce:c,announcement:h}=aI(),p=Kc("DndLiveRegion"),[g,y]=O.useState(!1);if(O.useEffect(()=>{y(!0)},[]),oI(O.useMemo(()=>({onDragStart(E){let{active:A}=E;c(e.onDragStart({active:A}))},onDragMove(E){let{active:A,over:j}=E;e.onDragMove&&c(e.onDragMove({active:A,over:j}))},onDragOver(E){let{active:A,over:j}=E;c(e.onDragOver({active:A,over:j}))},onDragEnd(E){let{active:A,over:j}=E;c(e.onDragEnd({active:A,over:j}))},onDragCancel(E){let{active:A,over:j}=E;c(e.onDragCancel({active:A,over:j}))}}),[c,e])),!g)return null;const _=Cn.createElement(Cn.Fragment,null,Cn.createElement(rI,{id:i,value:o.draggable}),Cn.createElement(iI,{id:p,announcement:h}));return n?lc.createPortal(_,n):_}var tn;(function(s){s.DragStart="dragStart",s.DragMove="dragMove",s.DragEnd="dragEnd",s.DragCancel="dragCancel",s.DragOver="dragOver",s.RegisterDroppable="registerDroppable",s.SetDroppableDisabled="setDroppableDisabled",s.UnregisterDroppable="unregisterDroppable"})(tn||(tn={}));function oh(){}function Xx(s,e){return O.useMemo(()=>({sensor:s,options:e??{}}),[s,e])}function hI(){for(var s=arguments.length,e=new Array(s),n=0;n<s;n++)e[n]=arguments[n];return O.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const Ps=Object.freeze({x:0,y:0});function ZE(s,e){return Math.sqrt(Math.pow(s.x-e.x,2)+Math.pow(s.y-e.y,2))}function e2(s,e){let{data:{value:n}}=s,{data:{value:i}}=e;return n-i}function fI(s,e){let{data:{value:n}}=s,{data:{value:i}}=e;return i-n}function Wx(s){let{left:e,top:n,height:i,width:o}=s;return[{x:e,y:n},{x:e+o,y:n},{x:e,y:n+i},{x:e+o,y:n+i}]}function t2(s,e){if(!s||s.length===0)return null;const[n]=s;return n[e]}function Jx(s,e,n){return e===void 0&&(e=s.left),n===void 0&&(n=s.top),{x:e+s.width*.5,y:n+s.height*.5}}const mI=s=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=s;const o=Jx(e,e.left,e.top),c=[];for(const h of i){const{id:p}=h,g=n.get(p);if(g){const y=ZE(Jx(g),o);c.push({id:p,data:{droppableContainer:h,value:y}})}}return c.sort(e2)},pI=s=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=s;const o=Wx(e),c=[];for(const h of i){const{id:p}=h,g=n.get(p);if(g){const y=Wx(g),_=o.reduce((A,j,z)=>A+ZE(y[z],j),0),E=Number((_/4).toFixed(4));c.push({id:p,data:{droppableContainer:h,value:E}})}}return c.sort(e2)};function gI(s,e){const n=Math.max(e.top,s.top),i=Math.max(e.left,s.left),o=Math.min(e.left+e.width,s.left+s.width),c=Math.min(e.top+e.height,s.top+s.height),h=o-i,p=c-n;if(i<o&&n<c){const g=e.width*e.height,y=s.width*s.height,_=h*p,E=_/(g+y-_);return Number(E.toFixed(4))}return 0}const yI=s=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=s;const o=[];for(const c of i){const{id:h}=c,p=n.get(h);if(p){const g=gI(p,e);g>0&&o.push({id:h,data:{droppableContainer:c,value:g}})}}return o.sort(fI)};function vI(s,e,n){return{...s,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function n2(s,e){return s&&e?{x:s.left-e.left,y:s.top-e.top}:Ps}function bI(s){return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),c=1;c<i;c++)o[c-1]=arguments[c];return o.reduce((h,p)=>({...h,top:h.top+s*p.y,bottom:h.bottom+s*p.y,left:h.left+s*p.x,right:h.right+s*p.x}),{...n})}}const xI=bI(1);function _I(s){if(s.startsWith("matrix3d(")){const e=s.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(s.startsWith("matrix(")){const e=s.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function EI(s,e,n){const i=_I(e);if(!i)return s;const{scaleX:o,scaleY:c,x:h,y:p}=i,g=s.left-h-(1-o)*parseFloat(n),y=s.top-p-(1-c)*parseFloat(n.slice(n.indexOf(" ")+1)),_=o?s.width/o:s.width,E=c?s.height/c:s.height;return{width:_,height:E,top:y,right:g+_,bottom:y+E,left:g}}const wI={ignoreTransform:!1};function tl(s,e){e===void 0&&(e=wI);let n=s.getBoundingClientRect();if(e.ignoreTransform){const{transform:y,transformOrigin:_}=Zn(s).getComputedStyle(s);y&&(n=EI(n,y,_))}const{top:i,left:o,width:c,height:h,bottom:p,right:g}=n;return{top:i,left:o,width:c,height:h,bottom:p,right:g}}function Zx(s){return tl(s,{ignoreTransform:!0})}function TI(s){const e=s.innerWidth,n=s.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function SI(s,e){return e===void 0&&(e=Zn(s).getComputedStyle(s)),e.position==="fixed"}function AI(s,e){e===void 0&&(e=Zn(s).getComputedStyle(s));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const c=e[o];return typeof c=="string"?n.test(c):!1})}function Bh(s,e){const n=[];function i(o){if(e!=null&&n.length>=e||!o)return n;if(jg(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Qc(o)||XE(o)||n.includes(o))return n;const c=Zn(s).getComputedStyle(o);return o!==s&&AI(o,c)&&n.push(o),SI(o,c)?n:i(o.parentNode)}return s?i(s):n}function s2(s){const[e]=Bh(s,1);return e??null}function rp(s){return!Lh||!s?null:Zo(s)?s:Ig(s)?jg(s)||s===el(s).scrollingElement?window:Qc(s)?s:null:null}function r2(s){return Zo(s)?s.scrollX:s.scrollLeft}function i2(s){return Zo(s)?s.scrollY:s.scrollTop}function Bp(s){return{x:r2(s),y:i2(s)}}var dn;(function(s){s[s.Forward=1]="Forward",s[s.Backward=-1]="Backward"})(dn||(dn={}));function a2(s){return!Lh||!s?!1:s===document.scrollingElement}function o2(s){const e={x:0,y:0},n=a2(s)?{height:window.innerHeight,width:window.innerWidth}:{height:s.clientHeight,width:s.clientWidth},i={x:s.scrollWidth-n.width,y:s.scrollHeight-n.height},o=s.scrollTop<=e.y,c=s.scrollLeft<=e.x,h=s.scrollTop>=i.y,p=s.scrollLeft>=i.x;return{isTop:o,isLeft:c,isBottom:h,isRight:p,maxScroll:i,minScroll:e}}const NI={x:.2,y:.2};function CI(s,e,n,i,o){let{top:c,left:h,right:p,bottom:g}=n;i===void 0&&(i=10),o===void 0&&(o=NI);const{isTop:y,isBottom:_,isLeft:E,isRight:A}=o2(s),j={x:0,y:0},z={x:0,y:0},G={height:e.height*o.y,width:e.width*o.x};return!y&&c<=e.top+G.height?(j.y=dn.Backward,z.y=i*Math.abs((e.top+G.height-c)/G.height)):!_&&g>=e.bottom-G.height&&(j.y=dn.Forward,z.y=i*Math.abs((e.bottom-G.height-g)/G.height)),!A&&p>=e.right-G.width?(j.x=dn.Forward,z.x=i*Math.abs((e.right-G.width-p)/G.width)):!E&&h<=e.left+G.width&&(j.x=dn.Backward,z.x=i*Math.abs((e.left+G.width-h)/G.width)),{direction:j,speed:z}}function DI(s){if(s===document.scrollingElement){const{innerWidth:c,innerHeight:h}=window;return{top:0,left:0,right:c,bottom:h,width:c,height:h}}const{top:e,left:n,right:i,bottom:o}=s.getBoundingClientRect();return{top:e,left:n,right:i,bottom:o,width:s.clientWidth,height:s.clientHeight}}function l2(s){return s.reduce((e,n)=>Mo(e,Bp(n)),Ps)}function RI(s){return s.reduce((e,n)=>e+r2(n),0)}function II(s){return s.reduce((e,n)=>e+i2(n),0)}function jI(s,e){if(e===void 0&&(e=tl),!s)return;const{top:n,left:i,bottom:o,right:c}=e(s);s2(s)&&(o<=0||c<=0||n>=window.innerHeight||i>=window.innerWidth)&&s.scrollIntoView({block:"center",inline:"center"})}const kI=[["x",["left","right"],RI],["y",["top","bottom"],II]];class Og{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=Bh(n),o=l2(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[c,h,p]of kI)for(const g of h)Object.defineProperty(this,g,{get:()=>{const y=p(i),_=o[c]-y;return this.rect[g]+_},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class pc{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...n)})},this.target=e}add(e,n,i){var o;(o=this.target)==null||o.addEventListener(e,n,i),this.listeners.push([e,n,i])}}function MI(s){const{EventTarget:e}=Zn(s);return s instanceof e?s:el(s)}function ip(s,e){const n=Math.abs(s.x),i=Math.abs(s.y);return typeof e=="number"?Math.sqrt(n**2+i**2)>e:"x"in e&&"y"in e?n>e.x&&i>e.y:"x"in e?n>e.x:"y"in e?i>e.y:!1}var Ss;(function(s){s.Click="click",s.DragStart="dragstart",s.Keydown="keydown",s.ContextMenu="contextmenu",s.Resize="resize",s.SelectionChange="selectionchange",s.VisibilityChange="visibilitychange"})(Ss||(Ss={}));function e1(s){s.preventDefault()}function OI(s){s.stopPropagation()}var Je;(function(s){s.Space="Space",s.Down="ArrowDown",s.Right="ArrowRight",s.Left="ArrowLeft",s.Up="ArrowUp",s.Esc="Escape",s.Enter="Enter",s.Tab="Tab"})(Je||(Je={}));const c2={start:[Je.Space,Je.Enter],cancel:[Je.Esc],end:[Je.Space,Je.Enter,Je.Tab]},VI=(s,e)=>{let{currentCoordinates:n}=e;switch(s.code){case Je.Right:return{...n,x:n.x+25};case Je.Left:return{...n,x:n.x-25};case Je.Down:return{...n,y:n.y+25};case Je.Up:return{...n,y:n.y-25}}};class Vg{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new pc(el(n)),this.windowListeners=new pc(Zn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ss.Resize,this.handleCancel),this.windowListeners.add(Ss.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ss.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,i=e.node.current;i&&jI(i),n(Ps)}handleKeyDown(e){if(Mg(e)){const{active:n,context:i,options:o}=this.props,{keyboardCodes:c=c2,coordinateGetter:h=VI,scrollBehavior:p="smooth"}=o,{code:g}=e;if(c.end.includes(g)){this.handleEnd(e);return}if(c.cancel.includes(g)){this.handleCancel(e);return}const{collisionRect:y}=i.current,_=y?{x:y.left,y:y.top}:Ps;this.referenceCoordinates||(this.referenceCoordinates=_);const E=h(e,{active:n,context:i.current,currentCoordinates:_});if(E){const A=Dc(E,_),j={x:0,y:0},{scrollableAncestors:z}=i.current;for(const G of z){const q=e.code,{isTop:re,isRight:oe,isLeft:ee,isBottom:se,maxScroll:ie,minScroll:le}=o2(G),N=DI(G),S={x:Math.min(q===Je.Right?N.right-N.width/2:N.right,Math.max(q===Je.Right?N.left:N.left+N.width/2,E.x)),y:Math.min(q===Je.Down?N.bottom-N.height/2:N.bottom,Math.max(q===Je.Down?N.top:N.top+N.height/2,E.y))},C=q===Je.Right&&!oe||q===Je.Left&&!ee,M=q===Je.Down&&!se||q===Je.Up&&!re;if(C&&S.x!==E.x){const R=G.scrollLeft+A.x,L=q===Je.Right&&R<=ie.x||q===Je.Left&&R>=le.x;if(L&&!A.y){G.scrollTo({left:R,behavior:p});return}L?j.x=G.scrollLeft-R:j.x=q===Je.Right?G.scrollLeft-ie.x:G.scrollLeft-le.x,j.x&&G.scrollBy({left:-j.x,behavior:p});break}else if(M&&S.y!==E.y){const R=G.scrollTop+A.y,L=q===Je.Down&&R<=ie.y||q===Je.Up&&R>=le.y;if(L&&!A.x){G.scrollTo({top:R,behavior:p});return}L?j.y=G.scrollTop-R:j.y=q===Je.Down?G.scrollTop-ie.y:G.scrollTop-le.y,j.y&&G.scrollBy({top:-j.y,behavior:p});break}}this.handleMove(e,Mo(Dc(E,this.referenceCoordinates),j))}}}handleMove(e,n){const{onMove:i}=this.props;e.preventDefault(),i(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Vg.activators=[{eventName:"onKeyDown",handler:(s,e,n)=>{let{keyboardCodes:i=c2,onActivation:o}=e,{active:c}=n;const{code:h}=s.nativeEvent;if(i.start.includes(h)){const p=c.activatorNode.current;return p&&s.target!==p?!1:(s.preventDefault(),o?.({event:s.nativeEvent}),!0)}return!1}}];function t1(s){return!!(s&&"distance"in s)}function n1(s){return!!(s&&"delay"in s)}class Lg{constructor(e,n,i){var o;i===void 0&&(i=MI(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:c}=e,{target:h}=c;this.props=e,this.events=n,this.document=el(h),this.documentListeners=new pc(this.document),this.listeners=new pc(i),this.windowListeners=new pc(Zn(h)),this.initialCoordinates=(o=Lp(c))!=null?o:Ps,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ss.Resize,this.handleCancel),this.windowListeners.add(Ss.DragStart,e1),this.windowListeners.add(Ss.VisibilityChange,this.handleCancel),this.windowListeners.add(Ss.ContextMenu,e1),this.documentListeners.add(Ss.Keydown,this.handleKeydown),n){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(n1(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(t1(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:i,onPending:o}=this.props;o(i,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ss.Click,OI,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ss.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:i,initialCoordinates:o,props:c}=this,{onMove:h,options:{activationConstraint:p}}=c;if(!o)return;const g=(n=Lp(e))!=null?n:Ps,y=Dc(o,g);if(!i&&p){if(t1(p)){if(p.tolerance!=null&&ip(y,p.tolerance))return this.handleCancel();if(ip(y,p.distance))return this.handleStart()}if(n1(p)&&ip(y,p.tolerance))return this.handleCancel();this.handlePending(p,y);return}e.cancelable&&e.preventDefault(),h(g)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Je.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const LI={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Bg extends Lg{constructor(e){const{event:n}=e,i=el(n.target);super(e,LI,i)}}Bg.activators=[{eventName:"onPointerDown",handler:(s,e)=>{let{nativeEvent:n}=s,{onActivation:i}=e;return!n.isPrimary||n.button!==0?!1:(i?.({event:n}),!0)}}];const BI={move:{name:"mousemove"},end:{name:"mouseup"}};var Pp;(function(s){s[s.RightClick=2]="RightClick"})(Pp||(Pp={}));class PI extends Lg{constructor(e){super(e,BI,el(e.event.target))}}PI.activators=[{eventName:"onMouseDown",handler:(s,e)=>{let{nativeEvent:n}=s,{onActivation:i}=e;return n.button===Pp.RightClick?!1:(i?.({event:n}),!0)}}];const ap={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class zI extends Lg{constructor(e){super(e,ap)}static setup(){return window.addEventListener(ap.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(ap.move.name,e)};function e(){}}}zI.activators=[{eventName:"onTouchStart",handler:(s,e)=>{let{nativeEvent:n}=s,{onActivation:i}=e;const{touches:o}=n;return o.length>1?!1:(i?.({event:n}),!0)}}];var gc;(function(s){s[s.Pointer=0]="Pointer",s[s.DraggableRect=1]="DraggableRect"})(gc||(gc={}));var lh;(function(s){s[s.TreeOrder=0]="TreeOrder",s[s.ReversedTreeOrder=1]="ReversedTreeOrder"})(lh||(lh={}));function UI(s){let{acceleration:e,activator:n=gc.Pointer,canScroll:i,draggingRect:o,enabled:c,interval:h=5,order:p=lh.TreeOrder,pointerCoordinates:g,scrollableAncestors:y,scrollableAncestorRects:_,delta:E,threshold:A}=s;const j=HI({delta:E,disabled:!c}),[z,G]=Z3(),q=O.useRef({x:0,y:0}),re=O.useRef({x:0,y:0}),oe=O.useMemo(()=>{switch(n){case gc.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case gc.DraggableRect:return o}},[n,o,g]),ee=O.useRef(null),se=O.useCallback(()=>{const le=ee.current;if(!le)return;const N=q.current.x*re.current.x,S=q.current.y*re.current.y;le.scrollBy(N,S)},[]),ie=O.useMemo(()=>p===lh.TreeOrder?[...y].reverse():y,[p,y]);O.useEffect(()=>{if(!c||!y.length||!oe){G();return}for(const le of ie){if(i?.(le)===!1)continue;const N=y.indexOf(le),S=_[N];if(!S)continue;const{direction:C,speed:M}=CI(le,S,oe,e,A);for(const R of["x","y"])j[R][C[R]]||(M[R]=0,C[R]=0);if(M.x>0||M.y>0){G(),ee.current=le,z(se,h),q.current=M,re.current=C;return}}q.current={x:0,y:0},re.current={x:0,y:0},G()},[e,se,i,G,c,h,JSON.stringify(oe),JSON.stringify(j),z,y,ie,_,JSON.stringify(A)])}const FI={x:{[dn.Backward]:!1,[dn.Forward]:!1},y:{[dn.Backward]:!1,[dn.Forward]:!1}};function HI(s){let{delta:e,disabled:n}=s;const i=Vp(e);return Yc(o=>{if(n||!i||!o)return FI;const c={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[dn.Backward]:o.x[dn.Backward]||c.x===-1,[dn.Forward]:o.x[dn.Forward]||c.x===1},y:{[dn.Backward]:o.y[dn.Backward]||c.y===-1,[dn.Forward]:o.y[dn.Forward]||c.y===1}}},[n,e,i])}function qI(s,e){const n=e!=null?s.get(e):void 0,i=n?n.node.current:null;return Yc(o=>{var c;return e==null?null:(c=i??o)!=null?c:null},[i,e])}function GI(s,e){return O.useMemo(()=>s.reduce((n,i)=>{const{sensor:o}=i,c=o.activators.map(h=>({eventName:h.eventName,handler:e(h.handler,i)}));return[...n,...c]},[]),[s,e])}var Ic;(function(s){s[s.Always=0]="Always",s[s.BeforeDragging=1]="BeforeDragging",s[s.WhileDragging=2]="WhileDragging"})(Ic||(Ic={}));var zp;(function(s){s.Optimized="optimized"})(zp||(zp={}));const s1=new Map;function QI(s,e){let{dragging:n,dependencies:i,config:o}=e;const[c,h]=O.useState(null),{frequency:p,measure:g,strategy:y}=o,_=O.useRef(s),E=q(),A=Cc(E),j=O.useCallback(function(re){re===void 0&&(re=[]),!A.current&&h(oe=>oe===null?re:oe.concat(re.filter(ee=>!oe.includes(ee))))},[A]),z=O.useRef(null),G=Yc(re=>{if(E&&!n)return s1;if(!re||re===s1||_.current!==s||c!=null){const oe=new Map;for(let ee of s){if(!ee)continue;if(c&&c.length>0&&!c.includes(ee.id)&&ee.rect.current){oe.set(ee.id,ee.rect.current);continue}const se=ee.node.current,ie=se?new Og(g(se),se):null;ee.rect.current=ie,ie&&oe.set(ee.id,ie)}return oe}return re},[s,c,n,E,g]);return O.useEffect(()=>{_.current=s},[s]),O.useEffect(()=>{E||j()},[n,E]),O.useEffect(()=>{c&&c.length>0&&h(null)},[JSON.stringify(c)]),O.useEffect(()=>{E||typeof p!="number"||z.current!==null||(z.current=setTimeout(()=>{j(),z.current=null},p))},[p,E,j,...i]),{droppableRects:G,measureDroppableContainers:j,measuringScheduled:c!=null};function q(){switch(y){case Ic.Always:return!1;case Ic.BeforeDragging:return n;default:return!n}}}function u2(s,e){return Yc(n=>s?n||(typeof e=="function"?e(s):s):null,[e,s])}function YI(s,e){return u2(s,e)}function KI(s){let{callback:e,disabled:n}=s;const i=kg(e),o=O.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:c}=window;return new c(i)},[i,n]);return O.useEffect(()=>()=>o?.disconnect(),[o]),o}function Ph(s){let{callback:e,disabled:n}=s;const i=kg(e),o=O.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:c}=window;return new c(i)},[n]);return O.useEffect(()=>()=>o?.disconnect(),[o]),o}function $I(s){return new Og(tl(s),s)}function r1(s,e,n){e===void 0&&(e=$I);const[i,o]=O.useState(null);function c(){o(g=>{if(!s)return null;if(s.isConnected===!1){var y;return(y=g??n)!=null?y:null}const _=e(s);return JSON.stringify(g)===JSON.stringify(_)?g:_})}const h=KI({callback(g){if(s)for(const y of g){const{type:_,target:E}=y;if(_==="childList"&&E instanceof HTMLElement&&E.contains(s)){c();break}}}}),p=Ph({callback:c});return br(()=>{c(),s?(p?.observe(s),h?.observe(document.body,{childList:!0,subtree:!0})):(p?.disconnect(),h?.disconnect())},[s]),i}function XI(s){const e=u2(s);return n2(s,e)}const i1=[];function WI(s){const e=O.useRef(s),n=Yc(i=>s?i&&i!==i1&&s&&e.current&&s.parentNode===e.current.parentNode?i:Bh(s):i1,[s]);return O.useEffect(()=>{e.current=s},[s]),n}function JI(s){const[e,n]=O.useState(null),i=O.useRef(s),o=O.useCallback(c=>{const h=rp(c.target);h&&n(p=>p?(p.set(h,Bp(h)),new Map(p)):null)},[]);return O.useEffect(()=>{const c=i.current;if(s!==c){h(c);const p=s.map(g=>{const y=rp(g);return y?(y.addEventListener("scroll",o,{passive:!0}),[y,Bp(y)]):null}).filter(g=>g!=null);n(p.length?new Map(p):null),i.current=s}return()=>{h(s),h(c)};function h(p){p.forEach(g=>{const y=rp(g);y?.removeEventListener("scroll",o)})}},[o,s]),O.useMemo(()=>s.length?e?Array.from(e.values()).reduce((c,h)=>Mo(c,h),Ps):l2(s):Ps,[s,e])}function a1(s,e){e===void 0&&(e=[]);const n=O.useRef(null);return O.useEffect(()=>{n.current=null},e),O.useEffect(()=>{const i=s!==Ps;i&&!n.current&&(n.current=s),!i&&n.current&&(n.current=null)},[s]),n.current?Dc(s,n.current):Ps}function ZI(s){O.useEffect(()=>{if(!Lh)return;const e=s.map(n=>{let{sensor:i}=n;return i.setup==null?void 0:i.setup()});return()=>{for(const n of e)n?.()}},s.map(e=>{let{sensor:n}=e;return n}))}function ej(s,e){return O.useMemo(()=>s.reduce((n,i)=>{let{eventName:o,handler:c}=i;return n[o]=h=>{c(h,e)},n},{}),[s,e])}function d2(s){return O.useMemo(()=>s?TI(s):null,[s])}const o1=[];function tj(s,e){e===void 0&&(e=tl);const[n]=s,i=d2(n?Zn(n):null),[o,c]=O.useState(o1);function h(){c(()=>s.length?s.map(g=>a2(g)?i:new Og(e(g),g)):o1)}const p=Ph({callback:h});return br(()=>{p?.disconnect(),h(),s.forEach(g=>p?.observe(g))},[s]),o}function nj(s){if(!s)return null;if(s.children.length>1)return s;const e=s.children[0];return Qc(e)?e:s}function sj(s){let{measure:e}=s;const[n,i]=O.useState(null),o=O.useCallback(y=>{for(const{target:_}of y)if(Qc(_)){i(E=>{const A=e(_);return E?{...E,width:A.width,height:A.height}:A});break}},[e]),c=Ph({callback:o}),h=O.useCallback(y=>{const _=nj(y);c?.disconnect(),_&&c?.observe(_),i(_?e(_):null)},[e,c]),[p,g]=ah(h);return O.useMemo(()=>({nodeRef:p,rect:n,setRef:g}),[n,p,g])}const rj=[{sensor:Bg,options:{}},{sensor:Vg,options:{}}],ij={current:{}},Vd={draggable:{measure:Zx},droppable:{measure:Zx,strategy:Ic.WhileDragging,frequency:zp.Optimized},dragOverlay:{measure:tl}};class yc extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,i;return(n=(i=this.get(e))==null?void 0:i.node.current)!=null?n:void 0}}const aj={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new yc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:oh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Vd,measureDroppableContainers:oh,windowRect:null,measuringScheduled:!1},oj={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:oh,draggableNodes:new Map,over:null,measureDroppableContainers:oh},zh=O.createContext(oj),h2=O.createContext(aj);function lj(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new yc}}}function cj(s,e){switch(e.type){case tn.DragStart:return{...s,draggable:{...s.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case tn.DragMove:return s.draggable.active==null?s:{...s,draggable:{...s.draggable,translate:{x:e.coordinates.x-s.draggable.initialCoordinates.x,y:e.coordinates.y-s.draggable.initialCoordinates.y}}};case tn.DragEnd:case tn.DragCancel:return{...s,draggable:{...s.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case tn.RegisterDroppable:{const{element:n}=e,{id:i}=n,o=new yc(s.droppable.containers);return o.set(i,n),{...s,droppable:{...s.droppable,containers:o}}}case tn.SetDroppableDisabled:{const{id:n,key:i,disabled:o}=e,c=s.droppable.containers.get(n);if(!c||i!==c.key)return s;const h=new yc(s.droppable.containers);return h.set(n,{...c,disabled:o}),{...s,droppable:{...s.droppable,containers:h}}}case tn.UnregisterDroppable:{const{id:n,key:i}=e,o=s.droppable.containers.get(n);if(!o||i!==o.key)return s;const c=new yc(s.droppable.containers);return c.delete(n),{...s,droppable:{...s.droppable,containers:c}}}default:return s}}function uj(s){let{disabled:e}=s;const{active:n,activatorEvent:i,draggableNodes:o}=O.useContext(zh),c=Vp(i),h=Vp(n?.id);return O.useEffect(()=>{if(!e&&!i&&c&&h!=null){if(!Mg(c)||document.activeElement===c.target)return;const p=o.get(h);if(!p)return;const{activatorNode:g,node:y}=p;if(!g.current&&!y.current)return;requestAnimationFrame(()=>{for(const _ of[g.current,y.current]){if(!_)continue;const E=nI(_);if(E){E.focus();break}}})}},[i,e,o,h,c]),null}function dj(s,e){let{transform:n,...i}=e;return s!=null&&s.length?s.reduce((o,c)=>c({transform:o,...i}),n):n}function hj(s){return O.useMemo(()=>({draggable:{...Vd.draggable,...s?.draggable},droppable:{...Vd.droppable,...s?.droppable},dragOverlay:{...Vd.dragOverlay,...s?.dragOverlay}}),[s?.draggable,s?.droppable,s?.dragOverlay])}function fj(s){let{activeNode:e,measure:n,initialRect:i,config:o=!0}=s;const c=O.useRef(!1),{x:h,y:p}=typeof o=="boolean"?{x:o,y:o}:o;br(()=>{if(!h&&!p||!e){c.current=!1;return}if(c.current||!i)return;const y=e?.node.current;if(!y||y.isConnected===!1)return;const _=n(y),E=n2(_,i);if(h||(E.x=0),p||(E.y=0),c.current=!0,Math.abs(E.x)>0||Math.abs(E.y)>0){const A=s2(y);A&&A.scrollBy({top:E.y,left:E.x})}},[e,h,p,i,n])}const f2=O.createContext({...Ps,scaleX:1,scaleY:1});var Ci;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.Initializing=1]="Initializing",s[s.Initialized=2]="Initialized"})(Ci||(Ci={}));const mj=O.memo(function(e){var n,i,o,c;let{id:h,accessibility:p,autoScroll:g=!0,children:y,sensors:_=rj,collisionDetection:E=yI,measuring:A,modifiers:j,...z}=e;const G=O.useReducer(cj,void 0,lj),[q,re]=G,[oe,ee]=lI(),[se,ie]=O.useState(Ci.Uninitialized),le=se===Ci.Initialized,{draggable:{active:N,nodes:S,translate:C},droppable:{containers:M}}=q,R=N!=null?S.get(N):null,L=O.useRef({initial:null,translated:null}),D=O.useMemo(()=>{var Ue;return N!=null?{id:N,data:(Ue=R?.data)!=null?Ue:ij,rect:L}:null},[N,R]),Pe=O.useRef(null),[ct,X]=O.useState(null),[ce,be]=O.useState(null),he=Cc(z,Object.values(z)),Ee=Kc("DndDescribedBy",h),k=O.useMemo(()=>M.getEnabled(),[M]),K=hj(A),{droppableRects:ue,measureDroppableContainers:me,measuringScheduled:Ae}=QI(k,{dragging:le,dependencies:[C.x,C.y],config:K.droppable}),we=qI(S,N),Le=O.useMemo(()=>ce?Lp(ce):null,[ce]),at=_r(),qe=YI(we,K.draggable.measure);fj({activeNode:N!=null?S.get(N):null,config:at.layoutShiftCompensation,initialRect:qe,measure:K.draggable.measure});const ze=r1(we,K.draggable.measure,qe),zn=r1(we?we.parentElement:null),Wt=O.useRef({activatorEvent:null,active:null,activeNode:we,collisionRect:null,collisions:null,droppableRects:ue,draggableNodes:S,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),jn=M.getNodeFor((n=Wt.current.over)==null?void 0:n.id),Rt=sj({measure:K.dragOverlay.measure}),Un=(i=Rt.nodeRef.current)!=null?i:we,_n=le?(o=Rt.rect)!=null?o:ze:null,zs=!!(Rt.nodeRef.current&&Rt.rect),Us=XI(zs?null:ze),xt=d2(Un?Zn(Un):null),ot=WI(le?jn??we:null),kn=tj(ot),Fs=dj(j,{transform:{x:C.x-Us.x,y:C.y-Us.y,scaleX:1,scaleY:1},activatorEvent:ce,active:D,activeNodeRect:ze,containerNodeRect:zn,draggingNodeRect:_n,over:Wt.current.over,overlayNodeRect:Rt.rect,scrollableAncestors:ot,scrollableAncestorRects:kn,windowRect:xt}),xr=Le?Mo(Le,C):null,zt=JI(ot),Ns=a1(zt),Hs=a1(zt,[ze]),$=Mo(Fs,Ns),ne=_n?xI(_n,Fs):null,ye=D&&ne?E({active:D,collisionRect:ne,droppableRects:ue,droppableContainers:k,pointerCoordinates:xr}):null,pe=t2(ye,"id"),[de,Te]=O.useState(null),st=zs?Fs:Mo(Fs,Hs),ut=vI(st,(c=de?.rect)!=null?c:null,ze),It=O.useRef(null),et=O.useCallback((Ue,Tt)=>{let{sensor:St,options:Ut}=Tt;if(Pe.current==null)return;const En=S.get(Pe.current);if(!En)return;const an=Ue.nativeEvent,Mt=new St({active:Pe.current,activeNode:En,event:an,options:Ut,context:Wt,onAbort(Ot){if(!S.get(Ot))return;const{onDragAbort:Tn}=he.current,Mn={id:Ot};Tn?.(Mn),oe({type:"onDragAbort",event:Mn})},onPending(Ot,wn,Tn,Mn){if(!S.get(Ot))return;const{onDragPending:On}=he.current,ts={id:Ot,constraint:wn,initialCoordinates:Tn,offset:Mn};On?.(ts),oe({type:"onDragPending",event:ts})},onStart(Ot){const wn=Pe.current;if(wn==null)return;const Tn=S.get(wn);if(!Tn)return;const{onDragStart:Mn}=he.current,es={activatorEvent:an,active:{id:wn,data:Tn.data,rect:L}};lc.unstable_batchedUpdates(()=>{Mn?.(es),ie(Ci.Initializing),re({type:tn.DragStart,initialCoordinates:Ot,active:wn}),oe({type:"onDragStart",event:es}),X(It.current),be(an)})},onMove(Ot){re({type:tn.DragMove,coordinates:Ot})},onEnd:Hn(tn.DragEnd),onCancel:Hn(tn.DragCancel)});It.current=Mt;function Hn(Ot){return async function(){const{active:Tn,collisions:Mn,over:es,scrollAdjustedTranslate:On}=Wt.current;let ts=null;if(Tn&&On){const{cancelDrop:hn}=he.current;ts={activatorEvent:an,active:Tn,collisions:Mn,delta:On,over:es},Ot===tn.DragEnd&&typeof hn=="function"&&await Promise.resolve(hn(ts))&&(Ot=tn.DragCancel)}Pe.current=null,lc.unstable_batchedUpdates(()=>{re({type:Ot}),ie(Ci.Uninitialized),Te(null),X(null),be(null),It.current=null;const hn=Ot===tn.DragEnd?"onDragEnd":"onDragCancel";if(ts){const Vn=he.current[hn];Vn?.(ts),oe({type:hn,event:ts})}})}}},[S]),Fn=O.useCallback((Ue,Tt)=>(St,Ut)=>{const En=St.nativeEvent,an=S.get(Ut);if(Pe.current!==null||!an||En.dndKit||En.defaultPrevented)return;const Mt={active:an};Ue(St,Tt.options,Mt)===!0&&(En.dndKit={capturedBy:Tt.sensor},Pe.current=Ut,et(St,Tt))},[S,et]),qs=GI(_,Fn);ZI(_),br(()=>{ze&&se===Ci.Initializing&&ie(Ci.Initialized)},[ze,se]),O.useEffect(()=>{const{onDragMove:Ue}=he.current,{active:Tt,activatorEvent:St,collisions:Ut,over:En}=Wt.current;if(!Tt||!St)return;const an={active:Tt,activatorEvent:St,collisions:Ut,delta:{x:$.x,y:$.y},over:En};lc.unstable_batchedUpdates(()=>{Ue?.(an),oe({type:"onDragMove",event:an})})},[$.x,$.y]),O.useEffect(()=>{const{active:Ue,activatorEvent:Tt,collisions:St,droppableContainers:Ut,scrollAdjustedTranslate:En}=Wt.current;if(!Ue||Pe.current==null||!Tt||!En)return;const{onDragOver:an}=he.current,Mt=Ut.get(pe),Hn=Mt&&Mt.rect.current?{id:Mt.id,rect:Mt.rect.current,data:Mt.data,disabled:Mt.disabled}:null,Ot={active:Ue,activatorEvent:Tt,collisions:St,delta:{x:En.x,y:En.y},over:Hn};lc.unstable_batchedUpdates(()=>{Te(Hn),an?.(Ot),oe({type:"onDragOver",event:Ot})})},[pe]),br(()=>{Wt.current={activatorEvent:ce,active:D,activeNode:we,collisionRect:ne,collisions:ye,droppableRects:ue,draggableNodes:S,draggingNode:Un,draggingNodeRect:_n,droppableContainers:M,over:de,scrollableAncestors:ot,scrollAdjustedTranslate:$},L.current={initial:_n,translated:ne}},[D,we,ye,ne,S,Un,_n,ue,M,de,ot,$]),UI({...at,delta:C,draggingRect:ne,pointerCoordinates:xr,scrollableAncestors:ot,scrollableAncestorRects:kn});const $r=O.useMemo(()=>({active:D,activeNode:we,activeNodeRect:ze,activatorEvent:ce,collisions:ye,containerNodeRect:zn,dragOverlay:Rt,draggableNodes:S,droppableContainers:M,droppableRects:ue,over:de,measureDroppableContainers:me,scrollableAncestors:ot,scrollableAncestorRects:kn,measuringConfiguration:K,measuringScheduled:Ae,windowRect:xt}),[D,we,ze,ce,ye,zn,Rt,S,M,ue,de,me,ot,kn,K,Ae,xt]),hs=O.useMemo(()=>({activatorEvent:ce,activators:qs,active:D,activeNodeRect:ze,ariaDescribedById:{draggable:Ee},dispatch:re,draggableNodes:S,over:de,measureDroppableContainers:me}),[ce,qs,D,ze,re,Ee,S,de,me]);return Cn.createElement(JE.Provider,{value:ee},Cn.createElement(zh.Provider,{value:hs},Cn.createElement(h2.Provider,{value:$r},Cn.createElement(f2.Provider,{value:ut},y)),Cn.createElement(uj,{disabled:p?.restoreFocus===!1})),Cn.createElement(dI,{...p,hiddenTextDescribedById:Ee}));function _r(){const Ue=ct?.autoScrollEnabled===!1,Tt=typeof g=="object"?g.enabled===!1:g===!1,St=le&&!Ue&&!Tt;return typeof g=="object"?{...g,enabled:St}:{enabled:St}}}),pj=O.createContext(null),l1="button",gj="Draggable";function yj(s){let{id:e,data:n,disabled:i=!1,attributes:o}=s;const c=Kc(gj),{activators:h,activatorEvent:p,active:g,activeNodeRect:y,ariaDescribedById:_,draggableNodes:E,over:A}=O.useContext(zh),{role:j=l1,roleDescription:z="draggable",tabIndex:G=0}=o??{},q=g?.id===e,re=O.useContext(q?f2:pj),[oe,ee]=ah(),[se,ie]=ah(),le=ej(h,e),N=Cc(n);br(()=>(E.set(e,{id:e,key:c,node:oe,activatorNode:se,data:N}),()=>{const C=E.get(e);C&&C.key===c&&E.delete(e)}),[E,e]);const S=O.useMemo(()=>({role:j,tabIndex:G,"aria-disabled":i,"aria-pressed":q&&j===l1?!0:void 0,"aria-roledescription":z,"aria-describedby":_.draggable}),[i,j,G,q,z,_.draggable]);return{active:g,activatorEvent:p,activeNodeRect:y,attributes:S,isDragging:q,listeners:i?void 0:le,node:oe,over:A,setNodeRef:ee,setActivatorNodeRef:ie,transform:re}}function vj(){return O.useContext(h2)}const bj="Droppable",xj={timeout:25};function _j(s){let{data:e,disabled:n=!1,id:i,resizeObserverConfig:o}=s;const c=Kc(bj),{active:h,dispatch:p,over:g,measureDroppableContainers:y}=O.useContext(zh),_=O.useRef({disabled:n}),E=O.useRef(!1),A=O.useRef(null),j=O.useRef(null),{disabled:z,updateMeasurementsFor:G,timeout:q}={...xj,...o},re=Cc(G??i),oe=O.useCallback(()=>{if(!E.current){E.current=!0;return}j.current!=null&&clearTimeout(j.current),j.current=setTimeout(()=>{y(Array.isArray(re.current)?re.current:[re.current]),j.current=null},q)},[q]),ee=Ph({callback:oe,disabled:z||!h}),se=O.useCallback((S,C)=>{ee&&(C&&(ee.unobserve(C),E.current=!1),S&&ee.observe(S))},[ee]),[ie,le]=ah(se),N=Cc(e);return O.useEffect(()=>{!ee||!ie.current||(ee.disconnect(),E.current=!1,ee.observe(ie.current))},[ie,ee]),O.useEffect(()=>(p({type:tn.RegisterDroppable,element:{id:i,key:c,disabled:n,node:ie,rect:A,data:N}}),()=>p({type:tn.UnregisterDroppable,key:c,id:i})),[i]),O.useEffect(()=>{n!==_.current.disabled&&(p({type:tn.SetDroppableDisabled,id:i,key:c,disabled:n}),_.current.disabled=n)},[i,c,n,p]),{active:h,rect:A,isOver:g?.id===i,node:ie,over:g,setNodeRef:le}}function Pg(s,e,n){const i=s.slice();return i.splice(n<0?i.length+n:n,0,i.splice(e,1)[0]),i}function Ej(s,e){return s.reduce((n,i,o)=>{const c=e.get(i);return c&&(n[o]=c),n},Array(s.length))}function wd(s){return s!==null&&s>=0}function wj(s,e){if(s===e)return!0;if(s.length!==e.length)return!1;for(let n=0;n<s.length;n++)if(s[n]!==e[n])return!1;return!0}function Tj(s){return typeof s=="boolean"?{draggable:s,droppable:s}:s}const m2=s=>{let{rects:e,activeIndex:n,overIndex:i,index:o}=s;const c=Pg(e,i,n),h=e[o],p=c[o];return!p||!h?null:{x:p.left-h.left,y:p.top-h.top,scaleX:p.width/h.width,scaleY:p.height/h.height}},Td={scaleX:1,scaleY:1},Sj=s=>{var e;let{activeIndex:n,activeNodeRect:i,index:o,rects:c,overIndex:h}=s;const p=(e=c[n])!=null?e:i;if(!p)return null;if(o===n){const y=c[h];return y?{x:0,y:n<h?y.top+y.height-(p.top+p.height):y.top-p.top,...Td}:null}const g=Aj(c,o,n);return o>n&&o<=h?{x:0,y:-p.height-g,...Td}:o<n&&o>=h?{x:0,y:p.height+g,...Td}:{x:0,y:0,...Td}};function Aj(s,e,n){const i=s[e],o=s[e-1],c=s[e+1];return i?n<e?o?i.top-(o.top+o.height):c?c.top-(i.top+i.height):0:c?c.top-(i.top+i.height):o?i.top-(o.top+o.height):0:0}const p2="Sortable",g2=Cn.createContext({activeIndex:-1,containerId:p2,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:m2,disabled:{draggable:!1,droppable:!1}});function Nj(s){let{children:e,id:n,items:i,strategy:o=m2,disabled:c=!1}=s;const{active:h,dragOverlay:p,droppableRects:g,over:y,measureDroppableContainers:_}=vj(),E=Kc(p2,n),A=p.rect!==null,j=O.useMemo(()=>i.map(le=>typeof le=="object"&&"id"in le?le.id:le),[i]),z=h!=null,G=h?j.indexOf(h.id):-1,q=y?j.indexOf(y.id):-1,re=O.useRef(j),oe=!wj(j,re.current),ee=q!==-1&&G===-1||oe,se=Tj(c);br(()=>{oe&&z&&_(j)},[oe,j,z,_]),O.useEffect(()=>{re.current=j},[j]);const ie=O.useMemo(()=>({activeIndex:G,containerId:E,disabled:se,disableTransforms:ee,items:j,overIndex:q,useDragOverlay:A,sortedRects:Ej(j,g),strategy:o}),[G,E,se.draggable,se.droppable,ee,j,q,g,A,o]);return Cn.createElement(g2.Provider,{value:ie},e)}const Cj=s=>{let{id:e,items:n,activeIndex:i,overIndex:o}=s;return Pg(n,i,o).indexOf(e)},Dj=s=>{let{containerId:e,isSorting:n,wasDragging:i,index:o,items:c,newIndex:h,previousItems:p,previousContainerId:g,transition:y}=s;return!y||!i||p!==c&&o===h?!1:n?!0:h!==o&&e===g},Rj={duration:200,easing:"ease"},y2="transform",Ij=Rc.Transition.toString({property:y2,duration:0,easing:"linear"}),jj={roleDescription:"sortable"};function kj(s){let{disabled:e,index:n,node:i,rect:o}=s;const[c,h]=O.useState(null),p=O.useRef(n);return br(()=>{if(!e&&n!==p.current&&i.current){const g=o.current;if(g){const y=tl(i.current,{ignoreTransform:!0}),_={x:g.left-y.left,y:g.top-y.top,scaleX:g.width/y.width,scaleY:g.height/y.height};(_.x||_.y)&&h(_)}}n!==p.current&&(p.current=n)},[e,n,i,o]),O.useEffect(()=>{c&&h(null)},[c]),c}function Mj(s){let{animateLayoutChanges:e=Dj,attributes:n,disabled:i,data:o,getNewIndex:c=Cj,id:h,strategy:p,resizeObserverConfig:g,transition:y=Rj}=s;const{items:_,containerId:E,activeIndex:A,disabled:j,disableTransforms:z,sortedRects:G,overIndex:q,useDragOverlay:re,strategy:oe}=O.useContext(g2),ee=Oj(i,j),se=_.indexOf(h),ie=O.useMemo(()=>({sortable:{containerId:E,index:se,items:_},...o}),[E,o,se,_]),le=O.useMemo(()=>_.slice(_.indexOf(h)),[_,h]),{rect:N,node:S,isOver:C,setNodeRef:M}=_j({id:h,data:ie,disabled:ee.droppable,resizeObserverConfig:{updateMeasurementsFor:le,...g}}),{active:R,activatorEvent:L,activeNodeRect:D,attributes:Pe,setNodeRef:ct,listeners:X,isDragging:ce,over:be,setActivatorNodeRef:he,transform:Ee}=yj({id:h,data:ie,attributes:{...jj,...n},disabled:ee.draggable}),k=J3(M,ct),K=!!R,ue=K&&!z&&wd(A)&&wd(q),me=!re&&ce,Ae=me&&ue?Ee:null,Le=ue?Ae??(p??oe)({rects:G,activeNodeRect:D,activeIndex:A,overIndex:q,index:se}):null,at=wd(A)&&wd(q)?c({id:h,items:_,activeIndex:A,overIndex:q}):se,qe=R?.id,ze=O.useRef({activeId:qe,items:_,newIndex:at,containerId:E}),zn=_!==ze.current.items,Wt=e({active:R,containerId:E,isDragging:ce,isSorting:K,id:h,index:se,items:_,newIndex:ze.current.newIndex,previousItems:ze.current.items,previousContainerId:ze.current.containerId,transition:y,wasDragging:ze.current.activeId!=null}),jn=kj({disabled:!Wt,index:se,node:S,rect:N});return O.useEffect(()=>{K&&ze.current.newIndex!==at&&(ze.current.newIndex=at),E!==ze.current.containerId&&(ze.current.containerId=E),_!==ze.current.items&&(ze.current.items=_)},[K,at,E,_]),O.useEffect(()=>{if(qe===ze.current.activeId)return;if(qe!=null&&ze.current.activeId==null){ze.current.activeId=qe;return}const Un=setTimeout(()=>{ze.current.activeId=qe},50);return()=>clearTimeout(Un)},[qe]),{active:R,activeIndex:A,attributes:Pe,data:ie,rect:N,index:se,newIndex:at,items:_,isOver:C,isSorting:K,isDragging:ce,listeners:X,node:S,overIndex:q,over:be,setNodeRef:k,setActivatorNodeRef:he,setDroppableNodeRef:M,setDraggableNodeRef:ct,transform:jn??Le,transition:Rt()};function Rt(){if(jn||zn&&ze.current.newIndex===se)return Ij;if(!(me&&!Mg(L)||!y)&&(K||Wt))return Rc.Transition.toString({...y,property:y2})}}function Oj(s,e){var n,i;return typeof s=="boolean"?{draggable:s,droppable:!1}:{draggable:(n=s?.draggable)!=null?n:e.draggable,droppable:(i=s?.droppable)!=null?i:e.droppable}}function ch(s){if(!s)return!1;const e=s.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const Vj=[Je.Down,Je.Right,Je.Up,Je.Left],Lj=(s,e)=>{let{context:{active:n,collisionRect:i,droppableRects:o,droppableContainers:c,over:h,scrollableAncestors:p}}=e;if(Vj.includes(s.code)){if(s.preventDefault(),!n||!i)return;const g=[];c.getEnabled().forEach(E=>{if(!E||E!=null&&E.disabled)return;const A=o.get(E.id);if(A)switch(s.code){case Je.Down:i.top<A.top&&g.push(E);break;case Je.Up:i.top>A.top&&g.push(E);break;case Je.Left:i.left>A.left&&g.push(E);break;case Je.Right:i.left<A.left&&g.push(E);break}});const y=pI({collisionRect:i,droppableRects:o,droppableContainers:g});let _=t2(y,"id");if(_===h?.id&&y.length>1&&(_=y[1].id),_!=null){const E=c.get(n.id),A=c.get(_),j=A?o.get(A.id):null,z=A?.node.current;if(z&&j&&E&&A){const q=Bh(z).some((le,N)=>p[N]!==le),re=v2(E,A),oe=Bj(E,A),ee=q||!re?{x:0,y:0}:{x:oe?i.width-j.width:0,y:oe?i.height-j.height:0},se={x:j.left,y:j.top};return ee.x&&ee.y?se:Dc(se,ee)}}}};function v2(s,e){return!ch(s)||!ch(e)?!1:s.data.current.sortable.containerId===e.data.current.sortable.containerId}function Bj(s,e){return!ch(s)||!ch(e)||!v2(s,e)?!1:s.data.current.sortable.index<e.data.current.sortable.index}const Pj=({section:s,onToggleVisibility:e})=>{const{attributes:n,listeners:i,setNodeRef:o,transform:c,transition:h,isDragging:p}=Mj({id:s.id}),g={transform:Rc.Transform.toString(c),transition:h,zIndex:p?50:"auto"};return u.jsxs("div",{ref:o,style:g,className:`flex items-center gap-4 bg-white p-4 rounded-lg border ${p?"border-[#B08D55] shadow-lg":"border-[#E6D2B5]/50"} mb-3 transition-shadow`,children:[u.jsx("button",{...n,...i,className:"cursor-grab active:cursor-grabbing text-[#B08D55] hover:bg-[#F9F4EF] p-1 rounded",children:u.jsx(KR,{size:20})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-serif text-[#43342E]",children:s.label}),u.jsxs("p",{className:"text-[10px] text-[#8C7C72] uppercase tracking-widest",children:["Section ID: ",s.id]})]}),u.jsx("button",{onClick:()=>e(s.id),className:`p-2 rounded-full transition-colors ${s.visible!==!1?"text-[#B08D55] hover:bg-[#F9F4EF]":"text-gray-300 hover:bg-gray-100"}`,title:s.visible!==!1?"Hide Section":"Show Section",children:s.visible!==!1?u.jsx(Rg,{size:18}):u.jsx(FR,{size:18})})]})},zj=({config:s,updateConfig:e})=>{const n=s.sectionOrder||[],i=hI(Xx(Bg),Xx(Vg,{coordinateGetter:Lj})),o=h=>{const{active:p,over:g}=h;if(p.id!==g.id){const y=n.findIndex(A=>A.id===p.id),_=n.findIndex(A=>A.id===g.id),E=Pg(n,y,_);e("sectionOrder",E)}},c=h=>{const p=n.map(g=>g.id===h?{...g,visible:g.visible===!1}:g);e("sectionOrder",p)};return u.jsxs("div",{className:"space-y-8 animate-fade-in max-w-2xl",children:[u.jsxs("div",{className:"border-b border-[#E6D2B5]/30 pb-4",children:[u.jsx("h3",{className:"font-serif text-2xl text-[#43342E] mb-1",children:"Section Organizer"}),u.jsx("p",{className:"text-xs text-[#8C7C72]",children:"Drag to reorder sections or toggle visibility for guests"})]}),u.jsxs("div",{className:"bg-[#FAF9F6] p-6 rounded-xl border border-[#E6D2B5]/30",children:[u.jsx(mj,{sensors:i,collisionDetection:mI,onDragEnd:o,children:u.jsx(Nj,{items:n.map(h=>h.id),strategy:Sj,children:n.map(h=>u.jsx(Pj,{section:h,onToggleVisibility:c},h.id))})}),n.length===0&&u.jsx("div",{className:"text-center py-10 text-[#8C7C72]",children:u.jsx("p",{children:"No sections found. Try resetting the database."})})]}),u.jsxs("div",{className:"bg-[#FFF9F2] p-4 rounded-lg border border-[#E6D2B5]/50 flex gap-3",children:[u.jsx("div",{className:"text-[#B08D55] mt-0.5",children:u.jsx(Rg,{size:18})}),u.jsxs("div",{className:"text-xs text-[#8C7C72] leading-relaxed",children:[u.jsx("p",{className:"font-bold text-[#43342E] mb-1",children:"How it works:"}),u.jsxs("ul",{className:"list-disc ml-4 space-y-1",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Drag"})," the handle on the left to change section order."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Toggle"})," the eye icon on the right to show or hide a section."]}),u.jsx("li",{children:'Changes are saved temporarily. Click "Save Changes" on the sidebar to persist to the database.'})]})]})]})]})},Uj=({config:s,updateConfig:e,resetConfig:n,closePanel:i,isSaving:o,onSave:c})=>{const[h,p]=O.useState("guests"),[g,y]=O.useState(""),[_,E]=O.useState("all"),[A,j]=O.useState(!1);O.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const[z,G]=O.useState("none"),[q,re]=O.useState(null),[oe,ee]=O.useState({name:"",guests:"1",attending:"undecided",email:"",message:"",extraGuestNames:[]}),se=($,ne="view")=>{$?(re($),ee({...$,extraGuestNames:$.extraGuestNames||[]})):(re(null),ee({name:"",guests:"1",attending:"undecided",email:"",message:"",extraGuestNames:[]})),G(ne)},ie=()=>{if(!oe.name)return Zt.error("Name is required");let $=[...s.guestList||[]];if(q)$=$.map(ne=>ne.timestamp===q.timestamp?{...ne,...oe}:ne),Zt.success("Guest updated");else{const ne={...oe,timestamp:new Date().toISOString()};$.push(ne),Zt.success("Guest added")}e("guestList",$),G("none")},le=async($,ne)=>{const ye=Te=>Te.timestamp&&$.timestamp?Te.timestamp===$.timestamp:Te.name===$.name&&Te.email===$.email,pe=s.guestList.map(Te=>ye(Te)?ne==="undecided"?{...Te,adminStatus:null}:{...Te,adminStatus:ne==="yes"?"approved":"rejected"}:Te);e("guestList",pe);const de=ne==="yes"?"Approved":ne==="no"?"Rejected":"Reset";if(c)try{Zt.promise(c({...s,guestList:pe}),{loading:`Recording ${de}...`,success:u.jsxs("b",{children:["Guest ",de,"!"]}),error:u.jsx("b",{children:"Failed to record."})})}catch(Te){console.error("Quick save failed:",Te)}else Zt.success(`Guest ${de} (Unsaved)`)},N=($,ne)=>{const ye=de=>de.timestamp&&$.timestamp?de.timestamp===$.timestamp:de.name===$.name&&de.email===$.email,pe=s.guestList.map(de=>{if(!ye(de))return de;const Te=(de.rejectedIndividuals||[]).filter(ut=>ut!==ne),st=[...de.extraGuestNames||[],ne];return{...de,guests:(parseInt(de.guests)+1).toString(),extraGuestNames:st,rejectedIndividuals:Te}});e("guestList",pe),c&&c({...s,guestList:pe}),Zt.success(`${ne} restored!`)},S=()=>{c&&Zt.promise(c(s),{loading:"Saving changes...",success:u.jsx("b",{children:"Settings Saved!"}),error:u.jsx("b",{children:"Could not save."})})},C=$=>new Promise((ne,ye)=>{const pe=new FileReader;pe.readAsDataURL($),pe.onload=de=>{const Te=new Image;Te.src=de.target.result,Te.onload=()=>{const st=document.createElement("canvas"),ut=1280,It=1280;let et=Te.width,Fn=Te.height;et>Fn?et>ut&&(Fn*=ut/et,et=ut):Fn>It&&(et*=It/Fn,Fn=It),st.width=et,st.height=Fn,st.getContext("2d").drawImage(Te,0,0,et,Fn);const $r=st.toDataURL("image/webp",.6);ne($r)},Te.onerror=st=>ye(st)},pe.onerror=de=>ye(de)}),M=async($,ne,ye=null)=>{const pe=$.target.files[0];if(pe){const de=Zt.loading("Compressing image...");try{const Te=await C(pe);if(Te.length>1e6){Zt.error("Image is too large. We need to compress it more or try a simpler photo.",{id:de});return}if(ye!==null){const st=[...s.galleryImages];st[ye]=Te,e("galleryImages",st)}else e(ne,Te);Zt.success("Image optimized & added!",{id:de})}catch(Te){console.error("Image processing failed:",Te),Zt.error("Failed to process image.",{id:de})}}},R=($,ne,ye=null)=>{if(ye!==null){const pe=[...s.galleryImages];pe[ye]=$,e("galleryImages",pe)}else e(ne,$)},L=($,ne,ye)=>{const pe=s.story.map((de,Te)=>Te===$?{...de,[ne]:ye}:de);e("story",pe)},D=()=>{const $={date:"New Date",title:"New Milestone",description:"Description here..."},ne=[...s.story||[],$];e("story",ne)},Pe=$=>{const ne=(s.story||[]).filter((ye,pe)=>pe!==$);e("story",ne)},ct=($,ne,ye)=>{const pe=s.events.map((de,Te)=>Te===$?{...de,[ne]:ye}:de);e("events",pe)},X=$=>{if(confirm("Remove this guest?")){const ne=(s.guestList||[]).filter(ye=>ye.timestamp!==$.timestamp);e("guestList",ne)}},ce=($,ne,ye)=>{const pe=(s.entourageGroups||[]).map((de,Te)=>Te===$?{...de,[ne]:ye}:de);e("entourageGroups",pe)},be=($,ne,ye)=>{const pe=(s.entourageGroups||[]).map((de,Te)=>{if(Te!==$)return de;const st=de.names.map((ut,It)=>It===ne?ye:ut);return{...de,names:st}});e("entourageGroups",pe)},he=$=>{const ne=(s.entourageGroups||[]).map((ye,pe)=>pe!==$?ye:{...ye,names:[...ye.names,"New Name"]});e("entourageGroups",ne)},Ee=($,ne)=>{const ye=(s.entourageGroups||[]).map((pe,de)=>{if(de!==$)return pe;const Te=pe.names.filter((st,ut)=>ut!==ne);return{...pe,names:Te}});e("entourageGroups",ye)},k=()=>{const $=[...s.entourageGroups||[],{title:"New Group",names:["Member 1"]}];e("entourageGroups",$)},K=$=>{if(confirm("Remove this entire group?")){const ne=(s.entourageGroups||[]).filter((ye,pe)=>pe!==$);e("entourageGroups",ne)}},ue=($,ne,ye)=>{const pe=(s[$]||[]).map((de,Te)=>Te===ne?ye:de);e($,pe)},me=$=>{const ne=[...s[$]||[],"New Name"];e($,ne)},Ae=($,ne)=>{const ye=(s[$]||[]).filter((pe,de)=>de!==ne);e($,ye)},we=($,ne,ye)=>{const pe=(s.principalSponsors||[]).map((de,Te)=>Te===$?{...de,[ne]:ye}:de);e("principalSponsors",pe)},Le=()=>{const $=[...s.principalSponsors||[],{mr:"Mr. Name",mrs:"Mrs. Name"}];e("principalSponsors",$)},at=$=>{const ne=(s.principalSponsors||[]).filter((ye,pe)=>pe!==$);e("principalSponsors",ne)},qe=($,ne,ye)=>{const pe=(s.secondarySponsors||[]).map((de,Te)=>Te===$?{...de,[ne]:ye}:de);e("secondarySponsors",pe)},ze=()=>{const $=[...s.secondarySponsors||[],{role:"Role",names:"Names"}];e("secondarySponsors",$)},zn=$=>{const ne=(s.secondarySponsors||[]).filter((ye,pe)=>pe!==$);e("secondarySponsors",ne)},Wt=($,ne,ye)=>{const pe=(s.bearers||[]).map((de,Te)=>Te===$?{...de,[ne]:ye}:de);e("bearers",pe)},jn=()=>{const $=[...s.bearers||[],{role:"Role",name:"Name"}];e("bearers",$)},Rt=$=>{const ne=(s.bearers||[]).filter((ye,pe)=>pe!==$);e("bearers",ne)},Un=($,ne,ye)=>{const pe=(s.colorPalette||[]).map((de,Te)=>Te===$?{...de,[ne]:ye}:de);e("colorPalette",pe)},_n=()=>{const $=[...s.colorPalette||[],{name:"New Color",hex:"#000000"}];e("colorPalette",$)},zs=$=>{const ne=(s.colorPalette||[]).filter((ye,pe)=>pe!==$);e("colorPalette",ne)},Us=()=>{const $=prompt("Enter a name for this preset:");if($){const ne={name:$,colors:s.colorPalette},ye=[...s.savedPalettes||[],ne];e("savedPalettes",ye),Zt.success("Preset Saved!")}},xt=$=>{if(confirm("Delete this saved preset?")){const ne=(s.savedPalettes||[]).filter((ye,pe)=>pe!==$);e("savedPalettes",ne),Zt.success("Preset Deleted")}},ot=()=>{if(!s.guestList||s.guestList.length===0){Zt.error("No guests to export");return}const ne=[["Name","Guest Choice","Admin Status","GuestsCount","Email","Message","Rejected Individuals","FollowUp Date","Timestamp"].join(","),...s.guestList.map(de=>{const Te=de.extraGuestNames?` (+ ${de.extraGuestNames.filter(st=>st).join(", ")})`:"";return[`"${de.name}${Te}"`,de.attending,de.adminStatus||"pending",de.guests,de.email||"",`"${(de.message||"").replace(/"/g,'""')}"`,`"${(de.rejectedIndividuals||[]).join(", ")}"`,de.followUpDate||"",de.timestamp].join(",")})].join(`
`),ye=new Blob([ne],{type:"text/csv;charset=utf-8;"}),pe=document.createElement("a");pe.href=URL.createObjectURL(ye),pe.download=`guest_list_${new Date().toISOString().split("T")[0]}.csv`,pe.click()},kn=s.guestList?.filter($=>{const ne=$.name.toLowerCase().includes(g.toLowerCase())||$.email&&$.email.toLowerCase().includes(g.toLowerCase());return _==="all"?ne:_==="rejected"?ne&&($.adminStatus==="rejected"||$.rejectedIndividuals?.length>0):_==="undecided"?ne&&!$.adminStatus&&$.attending==="yes":_==="yes"?ne&&$.adminStatus==="approved"&&$.attending==="yes":ne&&$.attending===_})||[],Fs={totalSubmissions:s.guestList?.length||0,totalHeads:(s.guestList||[]).reduce(($,ne)=>$+(parseInt(ne.guests)||1)+(ne.rejectedIndividuals?.length||0),0),attendingHeads:s.guestList?.filter($=>$.attending==="yes"&&$.adminStatus==="approved").reduce(($,ne)=>$+(parseInt(ne.guests)||1),0)||0,pendingReviewHeads:s.guestList?.filter($=>$.attending==="yes"&&!$.adminStatus).reduce(($,ne)=>$+(parseInt(ne.guests)||1),0)||0,declinedByGuestHeads:s.guestList?.filter($=>$.attending==="no").reduce(($,ne)=>$+(parseInt(ne.guests)||1),0)||0,rejectedByAdminHeads:(s.guestList||[]).reduce(($,ne)=>{const ye=ne.adminStatus==="rejected"?parseInt(ne.guests)||1:0,pe=ne.rejectedIndividuals?.length||0;return $+ye+pe},0)},xr=()=>{const $=[...s.notes||[],{id:Date.now(),text:"New Note",completed:!1,date:new Date().toISOString().split("T")[0]}];e("notes",$)},zt=($,ne,ye)=>{const pe=s.notes.map(de=>de.id===$?{...de,[ne]:ye}:de);e("notes",pe)},Ns=$=>{const ne=s.notes.filter(ye=>ye.id!==$);e("notes",ne)},Hs=()=>{A?(n(),j(!1)):(j(!0),setTimeout(()=>j(!1),3e3))};return u.jsx("div",{className:"fixed inset-0 z-[60] bg-[#1F1815]/90 backdrop-blur-sm flex items-center justify-center p-0 md:p-4 animate-fade-in",children:u.jsxs("div",{className:"bg-[#FAF9F6] w-full max-w-6xl h-full md:h-[90vh] rounded-none md:rounded-lg shadow-2xl flex flex-col overflow-hidden border border-[#E6D2B5]/20 animate-in zoom-in-95 duration-300",children:[u.jsxs("div",{className:"bg-white px-4 md:px-8 py-3 md:py-6 border-b border-[#E6D2B5]/30 flex justify-between items-center shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx($E,{size:20,className:"text-[#B08D55]"}),u.jsx("h2",{className:"font-serif text-lg md:text-2xl text-[#43342E]",children:"Configuration"})]}),u.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[u.jsxs("button",{onClick:S,disabled:o,className:`flex items-center gap-2 px-4 py-2 rounded-full text-[10px] md:text-xs font-bold uppercase tracking-wider transition-all shadow-md ${o?"bg-[#E6D2B5] text-white cursor-wait":"bg-[#43342E] text-[#F9F4EF] hover:bg-[#5D4B42]"}`,children:[o?u.jsx(GE,{size:14,className:"animate-spin"}):u.jsx(KE,{size:14}),u.jsx("span",{className:"hidden md:inline",children:o?"Saving...":"Save Changes"}),u.jsx("span",{className:"md:hidden",children:o?"...":"Save"})]}),u.jsx("button",{onClick:i,className:"text-[#8C7C72] hover:text-[#43342E] transition-colors p-2 hover:bg-gray-100 rounded-full bg-gray-50 md:bg-transparent",children:u.jsx(en,{size:20})})]})]}),u.jsxs("div",{className:"flex-1 flex flex-col md:flex-row overflow-hidden",children:[u.jsx(B3,{activeTab:h,setActiveTab:p,handleResetRequest:Hs,resetConfirm:A}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 custom-scrollbar",children:[h==="guests"&&u.jsx(z3,{stats:Fs,statusFilter:_,setStatusFilter:E,searchTerm:g,setSearchTerm:y,filteredGuests:kn,openGuestModal:se,updateGuestStatus:le,restoreIndividual:N,downloadCSV:ot,deleteGuest:X}),h==="planner"&&u.jsx(U3,{config:s,addNote:xr,updateNote:zt,deleteNote:Ns}),h==="general"&&u.jsx(F3,{config:s,updateConfig:e,handleImageChange:M}),h==="story"&&u.jsx(H3,{config:s,updateConfig:e,updateStory:L,addStoryItem:D,removeStoryItem:Pe}),h==="timeline"&&u.jsx(G3,{config:s,updateConfig:e}),h==="events"&&u.jsx(Q3,{config:s,updateConfig:e,updateEvent:ct,processImage:C}),h==="entourage"&&u.jsx(Y3,{config:s,updateConfig:e,updateListItem:ue,addListItem:me,removeListItem:Ae,updatePrincipalSponsor:we,addPrincipalSponsor:Le,removePrincipalSponsor:at,updateSecondarySponsor:qe,addSecondarySponsor:ze,removeSecondarySponsor:zn,updateBearer:Wt,addBearer:jn,removeBearer:Rt,updateEntourageGroup:ce,updateEntourageName:be,addEntourageName:he,removeEntourageName:Ee,addEntourageGroup:k,removeEntourageGroup:K}),h==="colors"&&u.jsx(K3,{config:s,updateConfig:e,saveCurrentAsPreset:Us,deletePreset:xt,updateColor:Un,addColor:_n,removeColor:zs}),h==="rsvp"&&u.jsx($3,{config:s,updateConfig:e}),h==="images"&&u.jsx(X3,{config:s,handleImageChange:M,handleUrlChange:R}),h==="organizer"&&u.jsx(zj,{config:s,updateConfig:e}),h==="systems"&&u.jsx(W3,{config:s,updateConfig:e,onSave:c,handleResetRequest:Hs,resetConfirm:A})]})]}),u.jsx(P3,{mode:z,guestForm:oe,setGuestForm:ee,onClose:()=>G("none"),onSave:ie,onEdit:()=>G("edit"),currentGuest:q})]})})},Fj=({onClose:s,onLogin:e,error:n})=>{const[i,o]=O.useState(""),c=h=>{h.preventDefault(),e(i),o("")};return u.jsx("div",{className:"fixed inset-0 z-[70] bg-[#1F1815]/80 backdrop-blur-md flex items-center justify-center p-4 animate-fade-in",children:u.jsxs("div",{className:"bg-white p-8 md:p-10 max-w-sm w-full text-center shadow-2xl border-t-4 border-[#B08D55] animate-in zoom-in-95 duration-300",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx(b3,{size:48,className:"text-[#B08D55]",strokeWidth:1})}),u.jsx("h3",{className:"font-serif text-3xl mb-2 text-[#43342E]",children:"Planner Access"}),u.jsxs("form",{onSubmit:c,children:[u.jsx("input",{type:"password",placeholder:"Password",className:`w-full border-b p-3 text-center tracking-[0.2em] text-xl focus:outline-none mb-8 transition-colors ${n?"border-red-500 text-red-500 animate-shake placeholder-red-300":"border-[#E6D2B5] focus:border-[#43342E] text-[#43342E]"}`,value:i,onChange:h=>o(h.target.value),autoFocus:!0}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{type:"submit",className:"flex-1 bg-[#43342E] text-white py-4 uppercase text-xs font-bold tracking-widest hover:bg-[#5D4B42] active:scale-95 transition-all",children:"Enter"}),u.jsx("button",{type:"button",onClick:s,className:"flex-1 bg-transparent text-[#8C7C72] py-4 uppercase text-xs font-bold tracking-widest hover:text-[#43342E] transition-colors",children:"Cancel"})]})]})]})})},Hj=({config:s,onEnter:e,show:n,loading:i})=>{const[o,c]=O.useState(!1);O.useEffect(()=>{if(!n&&!i&&!o){const p=setTimeout(()=>{c(!0),setTimeout(e,1200)},300);return()=>clearTimeout(p)}},[n,i,e,o]);const h=()=>{c(!0),setTimeout(e,1200)};return u.jsxs("div",{className:`fixed inset-0 z-[10000] bg-[#FAF9F6] flex items-center justify-center transition-all duration-[1200ms] cubic-bezier(0.7, 0, 0.3, 1) ${o?"opacity-0 pointer-events-none scale-110 blur-sm":"opacity-100 scale-100"}`,children:[u.jsxs("div",{className:"absolute inset-0 bg-[#FDFBF7]",children:[u.jsx("div",{className:"absolute inset-0 opacity-[0.04] pointer-events-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}}),u.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[60vw] h-[60vw] bg-[#B08D55]/5 rounded-full blur-[120px] animate-pulse-slow"}),u.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[60vw] h-[60vw] bg-[#E6D2B5]/10 rounded-full blur-[120px] animate-pulse-slow",style:{animationDelay:"2s"}})]}),u.jsx("div",{className:"relative text-center px-6 max-w-lg mx-auto",children:u.jsx("div",{className:"min-h-[260px] flex flex-col justify-center",children:i?u.jsxs("div",{className:"animate-fade-in space-y-6",children:[u.jsx("h3",{className:"text-[#B08D55] text-[10px] uppercase tracking-[0.5em] font-medium opacity-70",children:"Setting The Scene..."}),u.jsx("div",{className:"w-12 h-[1px] bg-gradient-to-r from-transparent via-[#B08D55] to-transparent mx-auto opacity-30"}),u.jsx("p",{className:"text-[#8C7C72] text-[9px] uppercase tracking-[0.4em] italic animate-pulse",children:"Loading Love"})]}):n?u.jsxs("div",{className:"animate-fade-in space-y-6",children:[u.jsx("div",{className:"mb-12",children:u.jsxs("div",{className:"relative w-24 h-24 md:w-32 md:h-32 mx-auto",children:[u.jsx("div",{className:"absolute inset-0 border border-[#E6D2B5] rounded-full animate-spin-slow opacity-30"}),u.jsx("div",{className:"absolute inset-2 border border-[#B08D55]/20 rounded-full"}),u.jsxs("div",{className:"absolute inset-0 bg-white/40 backdrop-blur-sm rounded-full shadow-2xl flex items-center justify-center group overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#B08D55]/5 to-transparent group-hover:bg-[#B08D55]/10 transition-colors"}),u.jsx("span",{className:"font-script text-5xl md:text-6xl text-[#B08D55] italic relative z-10 drop-shadow-sm select-none",children:"L&F"})]})]})}),u.jsxs("div",{className:"space-y-6 mb-12",children:[u.jsx("h3",{className:"text-[#B08D55] text-[10px] md:text-xs uppercase tracking-[0.5em] font-medium opacity-70",children:"Together with their families"}),u.jsxs("h2",{className:"font-serif text-4xl md:text-6xl text-[#43342E] leading-tight tracking-tight",children:["An Invitation ",u.jsx("br",{})," to Love"]}),u.jsx("div",{className:"w-12 h-[1px] bg-gradient-to-r from-transparent via-[#B08D55] to-transparent mx-auto opacity-50"}),u.jsxs("p",{className:"text-[#8C7C72] text-[10px] md:text-xs uppercase tracking-[0.4em] italic",children:[s.dateString,"  ",s.location]})]}),u.jsxs("button",{onClick:h,className:"group relative inline-flex items-center justify-center px-12 py-5 bg-[#43342E] text-white rounded-full overflow-hidden transition-all hover:scale-105 active:scale-95 shadow-[0_20px_40px_-15px_rgba(67,52,46,0.3)]",children:[u.jsx("div",{className:"absolute inset-0 w-0 bg-[#B08D55] transition-all duration-700 ease-[cubic-bezier(0.22,1,0.36,1)] group-hover:w-full"}),u.jsxs("span",{className:"relative z-10 text-[11px] font-bold uppercase tracking-[0.3em] flex items-center gap-3",children:["Enter Celebration",u.jsx("div",{className:"w-1 h-1 rounded-full bg-white animate-pulse"})]})]})]}):u.jsx("div",{className:"animate-fade-in space-y-6 opacity-30",children:u.jsx("p",{className:"text-[#8C7C72] text-[10px] uppercase tracking-[0.4em] italic animate-pulse",children:"Welcome"})})})}),u.jsx("div",{className:"absolute bottom-12 left-0 right-0 text-center animate-fade-in opacity-40 hover:opacity-100 transition-opacity",children:u.jsx("p",{className:"text-[9px] text-[#B08D55] uppercase tracking-[0.3em] italic",children:"Made with love for Louie & Florie"})})]})},qj=({config:s,onAdminClick:e})=>u.jsx("footer",{className:"bg-[#1F1815] text-[#8C7C72] py-20 text-center border-t-8 border-[#2E2622]",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[u.jsx("h2",{className:"font-serif text-4xl text-[#DBC1A7] mb-10 tracking-wide",children:s.names}),u.jsxs("div",{className:"flex justify-center space-x-12 mb-12",children:[u.jsx("a",{href:s.instagram,className:"text-[10px] uppercase tracking-[0.25em] hover:text-[#DBC1A7] transition-colors p-2",children:"Instagram"}),u.jsx("a",{href:s.facebook,className:"text-[10px] uppercase tracking-[0.25em] hover:text-[#DBC1A7] transition-colors p-2",children:"Facebook"}),u.jsx("a",{href:s.contact,className:"text-[10px] uppercase tracking-[0.25em] hover:text-[#DBC1A7] transition-colors p-2",children:"Contact"})]}),u.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 border-t border-[#43342E]/50 pt-10 mt-6 max-w-xs mx-auto",children:[u.jsx("p",{className:"text-[10px] font-light tracking-widest text-[#5D4B42]",children:"EST. 2026  CEBU PHILIPPINES"}),u.jsxs("button",{onClick:e,className:"text-[9px] text-[#43342E] hover:text-[#B08D55] transition-colors uppercase tracking-widest font-bold flex items-center gap-2 opacity-50 hover:opacity-100 p-4",children:[u.jsx(t3,{size:10})," Admin Access"]})]})]})}),Gj=()=>u.jsx("div",{className:"fixed inset-0 z-[1] pointer-events-none opacity-[0.03] mix-blend-overlay",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}}),Qj=()=>u.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none overflow-hidden",children:[u.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40vw] h-[40vw] bg-[#B08D55] rounded-full mix-blend-multiply filter blur-[120px] opacity-10 animate-pulse-slow"}),u.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40vw] h-[40vw] bg-[#E6D2B5] rounded-full mix-blend-multiply filter blur-[120px] opacity-10 animate-pulse-slow",style:{animationDelay:"2s"}})]}),Yj=()=>{const[s,e]=O.useState(0),[n,i]=O.useState(!1);O.useEffect(()=>{const g=()=>{const y=document.documentElement.scrollHeight-window.innerHeight,_=window.scrollY/y*100;e(_),i(window.scrollY>500)};return window.addEventListener("scroll",g,{passive:!0}),()=>window.removeEventListener("scroll",g)},[]);const o=()=>{window.scrollTo({top:0,behavior:"smooth"})},c=20,h=2*Math.PI*c,p=h-s/100*h;return u.jsx("button",{onClick:o,className:`fixed bottom-8 right-8 z-50 flex items-center justify-center transition-all duration-500 hover:scale-110 ${n?"translate-y-0 opacity-100":"translate-y-20 opacity-0"}`,children:u.jsxs("div",{className:"relative w-12 h-12 bg-white/80 backdrop-blur-md rounded-full shadow-lg flex items-center justify-center",children:[u.jsxs("svg",{className:"absolute top-0 left-0 w-full h-full -rotate-90 transform",viewBox:"0 0 48 48",children:[u.jsx("circle",{className:"text-[#E6D2B5]/30",strokeWidth:"3",stroke:"currentColor",fill:"transparent",r:c,cx:"24",cy:"24"}),u.jsx("circle",{className:"text-[#B08D55] transition-all duration-100 ease-out",strokeWidth:"3",strokeDasharray:h,strokeDashoffset:p,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:c,cx:"24",cy:"24"})]}),u.jsx(xR,{size:18,className:"text-[#43342E]"})]})})},Kj=()=>{const s=Array.from({length:50});return u.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none flex justify-center",children:s.map((e,n)=>u.jsx("div",{className:`confetti-piece confetti-${n%4}`,style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*.5}s`,backgroundColor:["#B08D55","#E6D2B5","#43342E","#F9F4EF"][n%4]}},n))})},Ye=({children:s,className:e="",variant:n="up",delay:i=0})=>{const[o,c]=O.useState(!1),h=O.useRef();O.useEffect(()=>{const g=new IntersectionObserver(_=>{_.forEach(E=>{E.isIntersecting&&(c(!0),g.unobserve(E.target))})},{threshold:.1}),y=h.current;return y&&g.observe(y),()=>{y&&g.unobserve(y)}},[]);const p=()=>{switch(n){case"left":return o?"translate-x-0":"-translate-x-20";case"right":return o?"translate-x-0":"translate-x-20";case"zoom":return o?"scale-100":"scale-90";default:return o?"translate-y-0":"translate-y-20"}};return u.jsx("div",{ref:h,style:{transitionDelay:`${i}ms`},className:`transition-all duration-1000 ease-[cubic-bezier(0.22,1,0.36,1)] transform ${o?"opacity-100":"opacity-0"} ${p()} ${e}`,children:s})},$j=({src:s,onClose:e})=>{const[n,i]=O.useState(!1);return s?u.jsxs("div",{className:"fixed inset-0 z-[100] bg-[#1F1815]/95 backdrop-blur-xl flex items-center justify-center p-4 animate-fade-in",onClick:e,children:[u.jsx("button",{className:"absolute top-6 right-6 text-white/70 hover:text-white transition-colors z-50 p-2 hover:bg-white/10 rounded-full",onClick:e,children:u.jsx(en,{size:32,strokeWidth:1.5})}),u.jsx("div",{className:`relative transition-all duration-500 ease-out transform ${n?"scale-100 opacity-100":"scale-95 opacity-0"}`,onClick:o=>o.stopPropagation(),children:u.jsx("img",{src:s,onLoad:()=>i(!0),alt:"Full screen",className:"max-h-[85vh] max-w-[95vw] object-contain shadow-2xl rounded-sm ring-1 ring-white/10"})})]}):null},Xj=({targetDate:s})=>{const[e,n]=O.useState({days:0,hours:0,minutes:0,seconds:0});function i(){const c=+new Date(s)-+new Date;return c>0?{days:Math.floor(c/(1e3*60*60*24)),hours:Math.floor(c/(1e3*60*60)%24),minutes:Math.floor(c/1e3/60%60),seconds:Math.floor(c/1e3%60)}:{days:0,hours:0,minutes:0,seconds:0}}O.useEffect(()=>{n(i());const c=setInterval(()=>{n(i())},1e3);return()=>clearInterval(c)},[s]);const o=({value:c,label:h})=>u.jsxs("div",{className:"flex flex-col items-center mx-2 sm:mx-6 group cursor-default",children:[u.jsx("div",{className:"w-14 h-14 sm:w-24 sm:h-24 bg-gradient-to-br from-[#F9F4EF]/10 to-[#F9F4EF]/5 backdrop-blur-md rounded-full flex items-center justify-center border border-[#E6D2B5]/30 shadow-[0_8px_32px_0_rgba(31,38,135,0.1)] mb-2 sm:mb-3 transition-transform duration-500 group-hover:scale-110 group-hover:border-[#E6D2B5]/60",children:u.jsx("span",{className:"text-lg sm:text-4xl font-serif text-[#F9F4EF] drop-shadow-md tabular-nums",children:String(c||"0").padStart(2,"0")})}),u.jsx("span",{className:"text-[8px] sm:text-xs uppercase tracking-[0.3em] text-[#E6D2B5] font-light transition-colors group-hover:text-white",children:h})]});return u.jsxs("div",{className:"flex flex-wrap justify-center mt-6 md:mt-12 animate-fade-in-up",children:[u.jsx(o,{value:e.days,label:"Days"}),u.jsx(o,{value:e.hours,label:"Hours"}),u.jsx(o,{value:e.minutes,label:"Mins"}),u.jsx(o,{value:e.seconds,label:"Secs"})]})},Wj=({coupleName:s,logoText:e,logoImage:n,sectionOrder:i=[]})=>{const[o,c]=O.useState(!1),[h,p]=O.useState(!1),[g,y]=O.useState("home"),_=[{name:"Home",id:"home",href:"#home"},...i.filter(z=>z.visible!==!1).map(z=>({name:z.label,id:z.id==="palette"?"color-palette":z.id,href:z.id==="palette"?"#color-palette":`#${z.id}`}))];O.useEffect(()=>{const z=()=>{p(window.scrollY>50)},G={root:null,rootMargin:"-20% 0px -70% 0px",threshold:0},q=oe=>{oe.forEach(ee=>{ee.isIntersecting&&y(ee.target.id)})},re=new IntersectionObserver(q,G);return _.forEach(oe=>{const ee=document.getElementById(oe.id);ee&&re.observe(ee)}),window.addEventListener("scroll",z,{passive:!0}),()=>{window.removeEventListener("scroll",z),re.disconnect()}},[]);const E=s?s.split("&").map(z=>z.trim()[0]).join(" & "):"L & F",A=n&&n.length>10?u.jsx("img",{src:n,alt:"Logo",className:"h-10 md:h-12 w-auto object-contain transition-transform duration-500"}):u.jsx("span",{className:"font-script italic tracking-widest",children:e||E}),j=(z,G)=>{z.preventDefault(),c(!1);const q=G.replace("#",""),re=document.getElementById(q);if(re){const ee=document.body.getBoundingClientRect().top,le=re.getBoundingClientRect().top-ee-80;window.scrollTo({top:le,behavior:"smooth"})}};return u.jsxs(u.Fragment,{children:[u.jsx("nav",{className:`fixed w-full z-40 transition-all duration-700 ease-[cubic-bezier(0.22,1,0.36,1)] ${h?"bg-[#FDFBF7]/80 backdrop-blur-xl shadow-lg border-b border-[#E6D2B5]/20 py-2 md:py-3":"bg-transparent py-6 md:py-8"}`,children:u.jsx("div",{className:"max-w-7xl mx-auto px-6 md:px-12 lg:px-16",children:u.jsxs("div",{className:"flex justify-between items-center h-12",children:[u.jsx("div",{className:"flex-shrink-0 flex items-center overflow-hidden",children:u.jsx("a",{href:"#home",onClick:z=>j(z,"#home"),className:`text-2xl md:text-3xl font-medium transition-all duration-700 hover:scale-105 flex items-center ${h?"text-[#43342E]":"text-[#F9F4EF]"}`,children:u.jsx("div",{className:`transition-all duration-700 flex items-center gap-3 ${h?"translate-y-0 scale-90":"translate-y-0 scale-100"}`,children:A})})}),u.jsx("div",{className:"hidden md:flex items-center space-x-12",children:_.map(z=>u.jsxs("a",{href:z.href,onClick:G=>j(G,z.href),className:`text-[10px] md:text-[11px] uppercase tracking-[0.3em] font-bold transition-all duration-500 relative group py-2 
                                        ${h?g===z.id?"text-[#B08D55]":"text-[#5D4B42]/70 hover:text-[#43342E]":g===z.id?"text-[#F9F4EF]":"text-[#F9F4EF]/60 hover:text-white"}`,children:[u.jsx("span",{className:"relative z-10",children:z.name}),u.jsx("span",{className:`absolute bottom-0 left-0 h-[2px] bg-[#B08D55] transition-all duration-500 rounded-full 
                                        ${g===z.id?"w-full opacity-100":"w-0 opacity-0 group-hover:w-8 group-hover:opacity-100"}`})]},z.name))}),u.jsx("div",{className:"md:hidden flex items-center",children:u.jsx("button",{onClick:()=>c(!o),className:`w-10 h-10 flex items-center justify-center rounded-full transition-all duration-500 bg-white/10 backdrop-blur-md border border-white/20
                                    ${h?"text-[#43342E] shadow-sm":"text-[#F9F4EF]"}`,children:o?u.jsx(en,{size:20,strokeWidth:1.5}):u.jsx(r3,{size:20,strokeWidth:1.5})})})]})})}),u.jsxs("div",{className:`fixed inset-0 z-[60] bg-[#FAF9F6] transition-all duration-700 ease-[cubic-bezier(0.7,0,0.3,1)] md:hidden flex flex-col items-center justify-center ${o?"translate-y-0":"translate-y-[-100%]"}`,children:[u.jsx("button",{onClick:()=>c(!1),className:"absolute top-8 right-8 text-[#43342E] p-2 hover:bg-[#E6D2B5]/10 rounded-full transition-colors",children:u.jsx(en,{size:32,strokeWidth:1})}),u.jsxs("div",{className:"text-center px-8 w-full max-w-sm",children:[u.jsx("div",{className:"font-script text-5xl text-[#B08D55] mb-12 opacity-50 italic",children:"L & F"}),u.jsx("div",{className:"space-y-1",children:_.map((z,G)=>u.jsxs("a",{href:z.href,onClick:q=>j(q,z.href),className:`block py-3 text-[#43342E] transition-all duration-700 transform flex items-center justify-center gap-6 group
                                    ${o?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,style:{transitionDelay:`${G*100}ms`},children:[u.jsx("div",{className:`w-1.5 h-1.5 rounded-full bg-[#B08D55] transition-all duration-500 scale-0 group-hover:scale-100 ${g===z.id?"scale-100":""}`}),u.jsx("span",{className:`font-serif text-3xl italic tracking-tight transition-all duration-500 ${g===z.id?"text-[#B08D55] scale-110":"group-hover:translate-x-2"}`,children:z.name}),u.jsx("div",{className:`w-1.5 h-1.5 rounded-full bg-[#B08D55] transition-all duration-500 scale-0 group-hover:scale-100 ${g===z.id?"scale-100":""}`})]},z.name))}),u.jsx("div",{className:"mt-12 w-12 h-[1px] bg-[#E6D2B5] mx-auto opacity-50"}),u.jsx("p",{className:"mt-6 text-[10px] text-[#B08D55] uppercase tracking-[0.4em] italic opacity-40",children:"Join Our Celebration"})]}),u.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-64 h-64 bg-[#B08D55]/5 rounded-full blur-[80px]"}),u.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-64 h-64 bg-[#E6D2B5]/10 rounded-full blur-[80px]"})]})]})},nl=({title:s,subtitle:e})=>u.jsxs("div",{className:"text-center mb-16 md:mb-24",children:[u.jsx("h3",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#C5A059] to-[#9A7B4A] font-bold tracking-[0.3em] uppercase text-[10px] mb-4",children:e}),u.jsx("h2",{className:"font-serif text-5xl md:text-7xl text-[#43342E] mb-8 font-normal",children:s}),u.jsx("div",{className:"w-20 h-[1px] bg-gradient-to-r from-transparent via-[#DBC1A7] to-transparent mx-auto"})]}),Jj=({date:s,title:e,description:n,side:i})=>u.jsx(Ye,{variant:"up",className:"w-full",children:u.jsxs("div",{className:`flex flex-col md:flex-row items-center mb-12 md:mb-20 ${i==="left"?"md:flex-row-reverse":""}`,children:[u.jsxs("div",{className:"w-full md:w-5/12 p-8 md:p-12 text-center md:text-left bg-white/60 backdrop-blur-md border border-white/60 shadow-[0_8px_30px_rgb(0,0,0,0.04)] rounded-sm hover:shadow-[0_15px_40px_rgb(0,0,0,0.08)] hover:-translate-y-1 transition-all duration-500 group order-2 md:order-1 mt-6 md:mt-0",children:[u.jsx("span",{className:"text-[#B08D55] font-bold tracking-[0.2em] text-[10px] uppercase block mb-3 group-hover:text-[#8A6E4B] transition-colors",children:s}),u.jsx("h3",{className:"font-serif text-2xl md:text-3xl text-[#43342E] mb-4",children:e}),u.jsx("p",{className:"text-[#786C61] leading-relaxed font-light text-sm",children:n})]}),u.jsx("div",{className:"w-full md:w-2/12 flex justify-center order-1 md:order-2",children:u.jsx("div",{className:"w-3 h-3 bg-gradient-to-b from-[#B08D55] to-[#8A6E4B] rounded-full ring-8 ring-[#F9F4EF] z-10 shadow-md"})}),u.jsx("div",{className:"hidden md:block w-5/12 order-3"})]})}),Zj=({config:s,onScrollClick:e})=>u.jsxs("section",{id:"home",className:"relative h-[100dvh] flex items-center justify-center overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 z-0",children:[u.jsx("img",{src:s.heroImage,alt:"Wedding Background",className:"w-full h-full object-cover animate-slow-zoom"}),u.jsx("div",{className:"absolute inset-0 bg-[#1F1815]/30 mix-blend-multiply"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-transparent to-black/40"})]}),u.jsxs("div",{className:"relative z-10 text-center px-4 flex flex-col justify-center h-full pt-10",children:[u.jsx(Ye,{variant:"up",delay:200,children:u.jsx("h3",{className:"text-xl md:text-3xl font-script mb-6 text-[#E6D2B5] opacity-90 drop-shadow-lg tracking-wider",children:"The Wedding Of"})}),u.jsx(Ye,{variant:"up",delay:400,children:u.jsx("h1",{className:"text-6xl md:text-8xl lg:text-9xl font-serif mb-8 drop-shadow-2xl text-transparent bg-clip-text bg-gradient-to-r from-[#FDFBF7] via-[#F2E8DC] to-[#DBC1A7]",children:s.names})}),u.jsx(Ye,{variant:"up",delay:600,children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-2 md:gap-6 text-lg md:text-2xl font-light italic mb-8 md:mb-12 text-[#F2E8DC]",children:[u.jsx("span",{children:s.dateString}),u.jsx("span",{className:"hidden md:inline text-[10px] align-middle text-[#B08D55]",children:""}),u.jsx("span",{children:s.location})]})}),u.jsx(Ye,{variant:"up",delay:800,children:u.jsx(Xj,{targetDate:s.dateIso})}),u.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-float opacity-80 hover:opacity-100 transition-opacity z-20 cursor-pointer pt-10",children:u.jsxs("a",{href:"#story",onClick:e,className:"text-[#F9F4EF] hover:text-[#C5A059] transition-colors flex flex-col items-center gap-2 group p-4 min-w-[60px]",children:[u.jsx("span",{className:"text-[10px] uppercase tracking-[0.3em] font-light group-hover:tracking-[0.4em] transition-all",children:"Scroll"}),u.jsx("div",{className:"w-[1px] h-12 bg-gradient-to-b from-[#F9F4EF] to-transparent"})]})})]})]}),e6=({config:s})=>u.jsxs(u.Fragment,{children:[u.jsx("section",{id:"story",className:"py-20 md:py-32 px-4 bg-transparent relative z-10",children:u.jsxs("div",{className:"max-w-5xl mx-auto",children:[u.jsx(Ye,{children:u.jsx(nl,{title:s.storyTitle,subtitle:s.storySubtitle})}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 h-full w-[1px] bg-gradient-to-b from-transparent via-[#E6D2B5]/50 to-transparent hidden md:block"}),s.story?.map((e,n)=>u.jsx(Jj,{date:e.date,title:e.title,description:e.description,side:n%2===0?"left":"right"},n))]})]})}),u.jsxs("div",{className:"h-[60vh] relative bg-fixed bg-center bg-cover flex items-center justify-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1511285560982-1356c11d4606?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')"},children:[u.jsx("div",{className:"absolute inset-0 bg-[#43342E]/60 mix-blend-multiply"}),u.jsx("div",{className:"relative z-10 text-center text-[#F9F4EF] px-6 max-w-5xl mx-auto py-16 backdrop-blur-[2px] border-y border-[#F9F4EF]/20",children:u.jsx(Ye,{variant:"zoom",children:u.jsx("h2",{className:"font-serif text-3xl md:text-6xl italic font-light tracking-wide leading-tight",children:'"And so the adventure begins"'})})})]})]}),t6={clock:Jo,coffee:FE,heart:Gc,camera:qc,music:Mh,utensils:Oh,wine:Vh,car:zE,ring:HE},n6=({config:s})=>!s.timeline||s.timeline.length===0?null:u.jsx("section",{id:"timeline",className:"py-20 md:py-32 px-4 bg-[#FAF9F6] relative z-10 border-t border-[#E6D2B5]/30",children:u.jsxs("div",{className:"max-w-3xl mx-auto",children:[u.jsx(Ye,{children:u.jsx(nl,{title:"Wedding Day",subtitle:"Program of Events"})}),u.jsxs("div",{className:"mt-16 relative",children:[u.jsx("div",{className:"absolute left-[28px] md:left-1/2 top-0 bottom-0 w-[2px] bg-[#E6D2B5]/50 transform md:-translate-x-1/2"}),u.jsx("div",{className:"space-y-12",children:s.timeline.map((e,n)=>{const i=t6[e.icon]||Jo;return u.jsx(Ye,{variant:"up",delay:n*100,children:u.jsxs("div",{className:`flex flex-col md:flex-row items-start ${n%2===0?"md:flex-row-reverse":""} relative group`,children:[u.jsxs("div",{className:`pl-16 md:pl-0 md:w-1/2 ${n%2===0?"md:pr-16 text-left md:text-right":"md:pl-16 text-left"}`,children:[u.jsx("div",{className:"font-serif text-xl text-[#B08D55] mb-1",children:e.time}),u.jsx("h3",{className:"font-serif text-2xl text-[#43342E] mb-2",children:e.title}),e.description&&u.jsx("p",{className:"text-sm text-[#8C7C72] leading-relaxed italic",children:e.description})]}),u.jsx("div",{className:"absolute left-0 md:left-1/2 transform md:-translate-x-1/2 w-14 h-14 bg-white border-2 border-[#E6D2B5] rounded-full flex items-center justify-center z-10 shadow-sm group-hover:scale-110 transition-transform duration-300",children:u.jsx(i,{size:20,className:"text-[#B08D55]"})}),u.jsx("div",{className:"hidden md:block md:w-1/2"})]})},n)})})]})]})}),s6={music:Mh,heart:Gc,clock:Jo,location:jo,wine:Vh,utensils:Oh,camera:qc,party:QE},r6=({config:s})=>u.jsx("section",{id:"events",className:"py-20 md:py-32 px-4 bg-transparent relative z-10",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsx(Ye,{children:u.jsx(nl,{title:s.eventsTitle,subtitle:s.eventsSubtitle})}),u.jsx("div",{className:"flex flex-wrap justify-center gap-6 md:gap-10",children:s.events?.map((e,n)=>{const i=s6[e.icon]||jo;return u.jsx(Ye,{delay:200*(n+1),variant:"up",className:"h-full w-full md:w-[380px]",children:u.jsxs("div",{className:"bg-white/80 backdrop-blur-sm shadow-[0_10px_40px_-10px_rgba(0,0,0,0.05)] text-center h-full group border-b-4 border-transparent hover:border-[#DBC1A7] transition-all duration-300 rounded-lg overflow-hidden flex flex-col active:bg-[#F5F0E6] relative",children:[u.jsxs("div",{className:"h-48 w-full relative overflow-hidden",children:[e.image?u.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}):u.jsx("div",{className:"w-full h-full bg-[#E6D2B5]/20 flex items-center justify-center",children:u.jsx(jo,{className:"text-[#B08D55]/50",size:48})}),u.jsx("div",{className:"absolute inset-0 bg-[#43342E]/20 group-hover:bg-transparent transition-colors duration-500"})]}),u.jsx("div",{className:"absolute top-48 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:u.jsx("span",{className:"inline-block p-4 bg-[#F5F0E6] rounded-full text-[#B08D55] group-hover:bg-[#43342E] group-hover:text-[#F9F4EF] transition-colors duration-500 shadow-md border-4 border-white",children:u.jsx(i,{size:20,strokeWidth:1.5})})}),u.jsxs("div",{className:"p-8 pt-10 flex-1 flex flex-col items-center",children:[u.jsx("h3",{className:"font-serif text-2xl md:text-3xl text-[#43342E] mb-2",children:e.title}),u.jsx("p",{className:"text-[#B08D55] font-bold text-[11px] tracking-[0.2em] mb-4 uppercase",children:e.time}),u.jsx("p",{className:"text-[#786C61] mb-8 font-light text-sm leading-relaxed flex-1",children:e.description}),u.jsxs("a",{href:e.mapLink||"#",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center text-[#8C7C72] text-[10px] uppercase tracking-[0.2em] border border-[#E6D2B5] px-6 py-3 rounded-full hover:bg-[#E6D2B5] hover:text-white transition-all duration-300 gap-2 group/link min-h-[44px]",children:[u.jsx(jo,{size:12,className:"group-hover/link:animate-bounce"}),u.jsx("span",{children:e.location}),u.jsx(zR,{size:10,className:"opacity-0 group-hover/link:opacity-100 transition-opacity -ml-1"})]})]})]})},n)})})]})}),i6=({config:s})=>u.jsx("section",{id:"entourage",className:"py-20 md:py-32 px-4 bg-[#FDFBF7] relative z-10",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsx(Ye,{children:u.jsx(nl,{title:s.entourageTitle||"The Entourage",subtitle:s.entourageSubtitle||"Wedding Party"})}),u.jsxs("div",{className:"mb-12",children:[u.jsx(Ye,{variant:"up",children:u.jsxs("h3",{className:"font-serif text-2xl text-[#43342E] mb-12 relative inline-block",children:[u.jsx("span",{className:"relative z-10 px-4 bg-[#FDFBF7]",children:"Our Parents"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[1px] bg-[#E6D2B5] -z-0"})]})}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-12 md:gap-24 relative text-center",children:[u.jsx("div",{className:"hidden md:block absolute left-1/2 top-0 bottom-0 w-[1px] bg-gradient-to-b from-transparent via-[#E6D2B5] to-transparent"}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs font-bold text-[#B08D55] uppercase tracking-widest mb-4",children:"Parents of the Bride"}),u.jsx(Ye,{variant:"up",delay:100,children:u.jsx("div",{className:"text-[#786C61] font-serif text-xl md:text-2xl",children:s.brideParents||"Mr. & Mrs. Parents"})})]}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs font-bold text-[#B08D55] uppercase tracking-widest mb-4",children:"Parents of the Groom"}),u.jsx(Ye,{variant:"up",delay:200,children:u.jsx("div",{className:"text-[#786C61] font-serif text-xl md:text-2xl",children:s.groomParents||"Mr. & Mrs. Parents"})})]})]})]}),u.jsx("div",{className:"mt-12 space-y-16",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-12 md:gap-24 relative text-center",children:[u.jsx("div",{className:"hidden md:block absolute left-1/2 top-0 bottom-0 w-[1px] bg-gradient-to-b from-transparent via-[#E6D2B5] to-transparent"}),u.jsxs("div",{children:[u.jsx(Ye,{variant:"up",children:u.jsx("h3",{className:"font-serif text-2xl text-[#43342E] mb-8 relative inline-block",children:u.jsx("span",{className:"relative z-10 px-4 bg-[#FDFBF7]",children:"Team Bride"})})}),u.jsxs("div",{className:"mb-8",children:[u.jsx("span",{className:"block text-xs font-bold text-[#B08D55] uppercase tracking-widest mb-2",children:"Maid of Honor"}),u.jsx(Ye,{variant:"up",delay:100,children:u.jsx("div",{className:"text-[#786C61] font-light italic text-lg tracking-wide",children:s.maidOfHonor})})]}),s.bridesmaids?.length>0&&u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs font-bold text-[#B08D55] uppercase tracking-widest mb-4",children:"Bridesmaids"}),u.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-6",children:s.bridesmaids.map((e,n)=>u.jsx(Ye,{variant:"up",delay:200+n*50,children:u.jsx("div",{className:"text-[#786C61] font-light italic text-lg tracking-wide",children:e})},n))})]})]}),u.jsxs("div",{children:[u.jsx(Ye,{variant:"up",delay:200,children:u.jsx("h3",{className:"font-serif text-2xl text-[#43342E] mb-8 relative inline-block",children:u.jsx("span",{className:"relative z-10 px-4 bg-[#FDFBF7]",children:"Team Groom"})})}),u.jsxs("div",{className:"mb-8",children:[u.jsx("span",{className:"block text-xs font-bold text-[#B08D55] uppercase tracking-widest mb-2",children:"Best Man"}),u.jsx(Ye,{variant:"up",delay:300,children:u.jsx("div",{className:"text-[#786C61] font-light italic text-lg tracking-wide",children:s.bestMan})})]}),s.groomsmen?.length>0&&u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs font-bold text-[#B08D55] uppercase tracking-widest mb-4",children:"Groomsmen"}),u.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-6",children:s.groomsmen.map((e,n)=>u.jsx(Ye,{variant:"up",delay:400+n*50,children:u.jsx("div",{className:"text-[#786C61] font-light italic text-lg tracking-wide",children:e})},n))})]})]})]})}),s.principalSponsors?.length>0&&u.jsxs("div",{className:"pt-12 border-t border-[#E6D2B5]/30",children:[u.jsx(Ye,{variant:"up",children:u.jsxs("h3",{className:"font-serif text-2xl text-[#43342E] mb-12 relative inline-block",children:[u.jsx("span",{className:"relative z-10 px-4 bg-[#FDFBF7]",children:"Principal Sponsors"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[1px] bg-[#E6D2B5] -z-0"})]})}),u.jsx("div",{className:"space-y-4 max-w-2xl mx-auto",children:s.principalSponsors.map((e,n)=>u.jsx(Ye,{variant:"up",delay:50*n,children:u.jsxs("div",{className:"grid grid-cols-2 gap-8 items-center group relative",children:[u.jsx("div",{className:"text-right text-[#786C61] font-light italic text-lg tracking-wide",children:e.mr}),u.jsx("div",{className:"text-left text-[#786C61] font-light italic text-lg tracking-wide",children:e.mrs}),u.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-1 h-1 bg-[#B08D55] rounded-full opacity-50"})]})},n))})]}),s.secondarySponsors?.length>0&&u.jsxs("div",{className:"pt-12 border-t border-[#E6D2B5]/30",children:[u.jsx(Ye,{variant:"up",children:u.jsxs("h3",{className:"font-serif text-2xl text-[#43342E] mb-12 relative inline-block",children:[u.jsx("span",{className:"relative z-10 px-4 bg-[#FDFBF7]",children:"Secondary Sponsors"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[1px] bg-[#E6D2B5] -z-0"})]})}),u.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:s.secondarySponsors.map((e,n)=>u.jsx(Ye,{variant:"up",delay:n*50,children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-xs font-bold text-[#B08D55] uppercase tracking-widest mb-2",children:e.role}),u.jsx("div",{className:"text-[#786C61] font-light italic text-lg tracking-wide",children:e.names})]})},n))})]}),s.bearers?.length>0&&u.jsxs("div",{className:"pt-12 border-t border-[#E6D2B5]/30",children:[u.jsx(Ye,{variant:"up",children:u.jsxs("h3",{className:"font-serif text-2xl text-[#43342E] mb-12 relative inline-block",children:[u.jsx("span",{className:"relative z-10 px-4 bg-[#FDFBF7]",children:"Bearers"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[1px] bg-[#E6D2B5] -z-0"})]})}),u.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:s.bearers.map((e,n)=>u.jsx(Ye,{variant:"up",delay:n*50,children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-xs font-bold text-[#B08D55] uppercase tracking-widest mb-2",children:e.role}),u.jsx("div",{className:"text-[#786C61] font-light italic text-lg tracking-wide",children:e.name})]})},n))})]}),s.flowerGirls?.length>0&&u.jsxs("div",{className:"pt-12 border-t border-[#E6D2B5]/30",children:[u.jsx(Ye,{variant:"up",children:u.jsxs("h3",{className:"font-serif text-2xl text-[#43342E] mb-12 relative inline-block",children:[u.jsx("span",{className:"relative z-10 px-4 bg-[#FDFBF7]",children:"Flower Girls"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[1px] bg-[#E6D2B5] -z-0"})]})}),u.jsx("div",{className:"flex flex-wrap justify-center gap-x-8 gap-y-4",children:s.flowerGirls.map((e,n)=>u.jsx(Ye,{variant:"up",delay:n*50,children:u.jsx("span",{className:"text-[#786C61] font-light italic text-lg tracking-wide",children:e})},n))})]}),s.offertory?.length>0&&u.jsxs("div",{className:"pt-12 border-t border-[#E6D2B5]/30",children:[u.jsx(Ye,{variant:"up",children:u.jsxs("h3",{className:"font-serif text-2xl text-[#43342E] mb-12 relative inline-block",children:[u.jsx("span",{className:"relative z-10 px-4 bg-[#FDFBF7]",children:"Offertory"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[1px] bg-[#E6D2B5] -z-0"})]})}),u.jsx("div",{className:"flex flex-wrap justify-center gap-x-8 gap-y-4",children:s.offertory.map((e,n)=>u.jsx(Ye,{variant:"up",delay:n*50,children:u.jsx("span",{className:"text-[#786C61] font-light italic text-lg tracking-wide",children:e})},n))})]}),s.entourageGroups?.map((e,n)=>u.jsx(Ye,{variant:"up",delay:n*100,children:u.jsxs("div",{className:"relative",children:[u.jsxs("h3",{className:"font-serif text-2xl text-[#43342E] mb-6 relative inline-block",children:[u.jsx("span",{className:"relative z-10 px-4 bg-[#FDFBF7]",children:e.title}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[1px] bg-[#E6D2B5] -z-0"})]}),u.jsx("div",{className:"flex flex-wrap justify-center gap-x-8 gap-y-3",children:e.names.map((i,o)=>u.jsx("span",{className:"text-[#786C61] font-light italic text-lg tracking-wide",children:i},o))})]})},n))]})}),a6=({color:s})=>u.jsxs("svg",{viewBox:"0 0 100 150",className:"w-full h-full drop-shadow-lg transition-colors duration-500",children:[u.jsx("path",{d:"M20,30 Q20,10 50,10 Q80,10 80,30 V90 H20 V30 Z",fill:s}),u.jsx("path",{d:"M20,30 L10,80 H25 L30,35 Z",fill:s}),u.jsx("path",{d:"M80,30 L90,80 H75 L70,35 Z",fill:s}),u.jsx("rect",{x:"25",y:"90",width:"20",height:"50",rx:"2",fill:s}),u.jsx("rect",{x:"55",y:"90",width:"20",height:"50",rx:"2",fill:s}),u.jsx("path",{d:"M25,140 Q25,145 35,145 Q45,145 45,140",fill:"#333"}),u.jsx("path",{d:"M55,140 Q55,145 65,145 Q75,145 75,140",fill:"#333"}),u.jsx("path",{d:"M40,15 L50,45 L60,15 Z",fill:"white"}),u.jsx("path",{d:"M45,18 L55,18 L50,22 Z",fill:"#333"}),u.jsx("path",{d:"M45,18 L35,15 L45,22 Z",fill:"#333"}),u.jsx("path",{d:"M55,18 L65,15 L55,22 Z",fill:"#333"}),u.jsx("circle",{cx:"50",cy:"60",r:"2",fill:"white",opacity:"0.8"}),u.jsx("circle",{cx:"50",cy:"75",r:"2",fill:"white",opacity:"0.8"})]}),o6=({color:s})=>u.jsxs("svg",{viewBox:"0 0 100 150",className:"w-full h-full drop-shadow-lg transition-colors duration-500",children:[u.jsx("path",{d:"M30,30 Q30,40 35,50 L65,50 Q70,40 70,30 Q50,35 30,30 Z",fill:s}),u.jsx("path",{d:"M30,30 Q50,40 70,30",fill:"none",stroke:"white",strokeWidth:"1",opacity:"0.5"}),u.jsx("path",{d:"M35,50 Q20,100 15,140 Q50,145 85,140 Q80,100 65,50 Z",fill:s}),u.jsx("path",{d:"M35,50 L65,50",stroke:"white",strokeWidth:"1",opacity:"0.5"}),u.jsx("path",{d:"M25,100 Q50,110 75,100",fill:"none",stroke:"white",strokeWidth:"0.5",opacity:"0.3"}),u.jsx("path",{d:"M20,120 Q50,130 80,120",fill:"none",stroke:"white",strokeWidth:"0.5",opacity:"0.3"})]}),l6=({config:s})=>{const[e,n]=Cn.useState(null);return Cn.useEffect(()=>{s.colorPalette&&s.colorPalette.length>0&&!e&&n(s.colorPalette[0].hex)},[s.colorPalette]),!s.colorPalette||s.colorPalette.length===0?null:u.jsx("section",{id:"color-palette",className:"py-20 md:py-32 px-4 bg-[#FDFBF7] relative z-10 border-t border-[#E6D2B5]/20",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsx(Ye,{children:u.jsx(nl,{title:"Wedding Colors",subtitle:"Our Palette"})}),u.jsx("div",{className:"mt-8 md:mt-12 flex flex-wrap justify-center gap-6 md:gap-16",children:s.colorPalette.map((i,o)=>u.jsx(Ye,{variant:"up",delay:o*100,children:u.jsxs("div",{className:"group flex flex-col items-center gap-2 md:gap-4 cursor-pointer",onClick:()=>n(i.hex),children:[u.jsx("div",{className:`w-16 h-16 md:w-32 md:h-32 rounded-full shadow-lg transition-transform duration-500 hover:scale-110 border-4 ${e===i.hex?"border-[#B08D55] scale-110":"border-white"}`,style:{backgroundColor:i.hex}}),u.jsx("div",{className:"text-center",children:u.jsx("div",{className:`font-serif text-sm md:text-lg ${e===i.hex?"text-[#B08D55] font-bold":"text-[#43342E]"}`,children:i.name})})]})},o))}),u.jsx(Ye,{variant:"up",delay:500,children:u.jsxs("div",{className:"mt-8 md:mt-20 pt-8 md:pt-16 border-t border-[#E6D2B5]/30",children:[u.jsx("h4",{className:"font-serif text-xl md:text-2xl text-[#43342E] mb-2",children:"Visualize the Look"}),u.jsx("p",{className:"text-xs md:text-sm text-[#8C7C72] mb-6 md:mb-12",children:"Tap a color above to see it on the attire."}),u.jsxs("div",{className:"flex justify-center gap-8 md:gap-32 h-40 md:h-64 mb-16",children:[u.jsxs("div",{className:"w-32 md:w-48 flex flex-col items-center gap-4",children:[u.jsx(a6,{color:e||"#E6D2B5"}),u.jsx("span",{className:"font-serif text-[#43342E]",children:"Gentlemen"})]}),u.jsxs("div",{className:"w-32 md:w-48 flex flex-col items-center gap-4",children:[u.jsx(o6,{color:e||"#E6D2B5"}),u.jsx("span",{className:"font-serif text-[#43342E]",children:"Ladies"})]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8 md:gap-16 max-w-4xl mx-auto text-left",children:[u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-lg shadow-sm border border-[#E6D2B5]/30 flex flex-col items-center text-center",children:[u.jsx("div",{className:"bg-[#FAF9F6] p-3 rounded-full mb-4 text-[#B08D55]",children:u.jsx(_3,{size:24})}),u.jsx("h5",{className:"font-serif text-lg text-[#43342E] mb-2",children:"Formal Attire"}),u.jsx("p",{className:"text-sm text-[#8C7C72] leading-relaxed",children:"We kindly request that our guests dress in formal attire."})]}),u.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-lg shadow-sm border border-[#E6D2B5]/30 flex flex-col items-center text-center",children:[u.jsx("div",{className:"bg-[#FAF9F6] p-3 rounded-full mb-4 text-[#B08D55]",children:u.jsx(qc,{size:24})}),u.jsx("h5",{className:"font-serif text-lg text-[#43342E] mb-2",children:"Photo Ready"}),u.jsx("p",{className:"text-sm text-[#8C7C72] leading-relaxed",children:"We'll have a professional photographer capturing every moment. Dress to feel your most confident and beautiful!"})]})]})]})})]})})},c6=({config:s,onImageClick:e})=>u.jsxs("section",{id:"gallery",className:"py-20 md:py-32 bg-white relative z-10",children:[u.jsx(Ye,{children:u.jsx(nl,{title:"Captured Moments",subtitle:"Gallery"})}),u.jsx("div",{className:"columns-2 md:columns-4 gap-4 px-4 max-w-[1600px] mx-auto space-y-4",children:s.galleryImages?.map((n,i)=>u.jsxs("div",{className:"overflow-hidden group cursor-pointer relative bg-gray-100 rounded-sm break-inside-avoid shadow-sm mb-4 animate-fade-in-up",style:{animationDelay:`${i*50}ms`},onClick:()=>e(n),children:[u.jsx("img",{src:n,loading:"lazy",decoding:"async",alt:`Gallery ${i}`,className:"w-full h-auto object-cover transition-transform duration-700 ease-out group-hover:scale-105"}),u.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:u.jsxs("div",{className:"transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300 text-white flex flex-col items-center",children:[u.jsx(L3,{size:24,strokeWidth:1.5,className:"mb-1"}),u.jsx("span",{className:"text-[10px] uppercase tracking-[0.2em] font-medium",children:"View"})]})})]},i))})]}),u6=({config:s,rsvpForm:e,setRsvpForm:n,isSubmitting:i,isSubmitted:o,setIsSubmitted:c,onSubmit:h})=>{const p=()=>{const g=encodeURIComponent(`${s.names} Wedding`),y=encodeURIComponent(`Wedding celebration at ${s.location}`),_=encodeURIComponent(s.location),E=(s.dateIso||"").replace(/[-:]/g,"").split(".")[0],j=new Date(new Date(s.dateIso).getTime()+360*60*1e3).toISOString().replace(/[-:]/g,"").split(".")[0];return`https://www.google.com/calendar/render?action=TEMPLATE&text=${g}&dates=${E}/${j}&details=${y}&location=${_}&sf=true&output=xml`};return u.jsx("section",{id:"rsvp",className:"py-20 md:py-32 px-4 bg-[#F5F0E6] relative z-10",children:u.jsxs("div",{className:"max-w-5xl mx-auto bg-white shadow-2xl overflow-hidden flex flex-col md:flex-row min-h-[600px] animate-fade-in-up",children:[u.jsxs("div",{className:"hidden md:block w-5/12 relative bg-[#1F1815]",children:[u.jsx("img",{src:s.rsvpImage,loading:"lazy",className:"absolute inset-0 w-full h-full object-cover opacity-90 hover:scale-105 transition-transform duration-[20s]",alt:"Flowers"}),u.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-12",children:u.jsxs("div",{className:"border border-[#DBC1A7]/30 p-8 w-full h-full flex flex-col items-center justify-center text-center backdrop-blur-md bg-black/20",children:[u.jsx("h3",{className:"text-[#DBC1A7] font-serif text-5xl mb-6 drop-shadow-md",children:"R S V P"}),u.jsx("div",{className:"w-8 h-[1px] bg-[#DBC1A7]/80 mb-6 mx-auto"}),u.jsxs("p",{className:"text-[#E6D2B5] text-[10px] uppercase tracking-[0.3em] leading-loose drop-shadow-sm",children:["Kindly Respond By",u.jsx("br",{}),u.jsx("span",{className:"text-white text-sm font-semibold mt-2 block",children:s.rsvpDeadline})]})]})})]}),u.jsxs("div",{className:"w-full md:w-7/12 p-6 md:p-20 bg-[#FDFBF7] flex flex-col justify-center relative",children:[u.jsx("div",{className:"absolute top-6 left-6 w-8 h-8 border-t border-l border-[#DBC1A7]"}),u.jsx("div",{className:"absolute top-6 right-6 w-8 h-8 border-t border-r border-[#DBC1A7]"}),u.jsx("div",{className:"absolute bottom-6 left-6 w-8 h-8 border-b border-l border-[#DBC1A7]"}),u.jsx("div",{className:"absolute bottom-6 right-6 w-8 h-8 border-b border-r border-[#DBC1A7]"}),s.rsvpMode==="link"?u.jsxs("div",{className:"text-center animate-fade-in py-10",children:[u.jsx("div",{className:"w-20 h-20 bg-[#F5F0E6] rounded-full flex items-center justify-center mx-auto mb-8 text-[#B08D55] shadow-inner",children:u.jsx(Mp,{size:32,strokeWidth:1})}),u.jsx("h2",{className:"font-serif text-4xl mb-6 text-[#43342E]",children:"Will You Join Us?"}),u.jsx("p",{className:"text-[#8C7C72] mb-12 font-light text-sm leading-relaxed px-8",children:"We are managing our guest list through an external service. Please click the button below to confirm your attendance."}),u.jsxs("a",{href:s.rsvpExternalLink,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center gap-3 min-w-[200px] bg-[#43342E] text-[#F9F4EF] py-4 px-8 text-xs font-bold tracking-[0.25em] hover:bg-[#5D4B42] transition-all duration-300 shadow-lg hover:shadow-xl uppercase cursor-pointer decoration-0 justify-center min-h-[50px] active:scale-95",children:[u.jsx("span",{children:"RSVP Now"}),u.jsx(Qx,{size:14,className:"group-hover:translate-x-1 transition-transform"})]}),u.jsx("p",{className:"text-[10px] text-[#B08D55] mt-8 uppercase tracking-widest opacity-60",children:"Opens in a new tab"})]}):o?u.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center animate-fade-in py-12 px-4 relative overflow-hidden min-h-[500px]",children:[u.jsx(Kj,{}),u.jsxs("div",{className:"relative z-10 mb-10",children:[u.jsx("div",{className:"w-24 h-24 border border-[#B08D55] rounded-full flex items-center justify-center text-[#B08D55] mx-auto bg-white shadow-xl animate-slow-zoom",children:u.jsx(rh,{size:48,strokeWidth:1})}),u.jsx("div",{className:"absolute -inset-4 border border-[#B08D55]/20 rounded-full animate-ping opacity-20"})]}),u.jsx("h2",{className:"font-serif text-4xl md:text-5xl mb-6 text-[#43342E] relative z-10 tracking-tight",children:"Our Deepest Thanks"}),u.jsx("p",{className:"text-[#8C7C72] mb-10 font-light italic relative z-10 text-sm md:text-base max-w-sm leading-relaxed",children:"Your response has been successfully recorded. We are overjoyed to share this special day with you."}),u.jsxs("div",{className:"relative z-10 w-full max-w-xs bg-[#F9F4EF]/50 backdrop-blur-sm border border-[#E6D2B5]/30 rounded-lg p-6 mb-10 shadow-sm",children:[u.jsx("p",{className:"text-[10px] text-[#B08D55] uppercase tracking-[0.3em] mb-4 font-bold",children:"Mark Your Calendar"}),u.jsx("h4",{className:"text-[#43342E] font-serif text-xl mb-1",children:s.dateString}),u.jsx("p",{className:"text-[#8C7C72] text-xs",children:s.location})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 relative z-10 w-full justify-center px-4 max-w-md",children:[e.attending==="yes"&&u.jsxs("a",{href:p(),target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-3 bg-[#43342E] text-white px-8 py-4 rounded-full uppercase text-[10px] font-bold tracking-[0.2em] hover:bg-[#5D4B42] hover:-translate-y-0.5 transition-all shadow-lg active:scale-95",children:[u.jsx(ER,{size:16})," Add to Calendar"]}),u.jsx("button",{onClick:()=>c(!1),className:"flex-1 text-[#8C7C72] text-[10px] uppercase tracking-[0.2em] font-bold border border-[#E6D2B5] px-8 py-4 rounded-full hover:bg-[#FAF9F6] transition-all hover:text-[#43342E] active:scale-95 bg-white sm:bg-transparent",children:"Edit Response"})]}),u.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 pointer-events-none",children:u.jsx(Mp,{size:200,strokeWidth:.5})})]}):u.jsxs(u.Fragment,{children:[u.jsx("h2",{className:"font-serif text-3xl md:text-4xl mb-3 text-[#43342E] text-center md:text-left",children:"Will you join us?"}),u.jsx("p",{className:"text-[#8C7C72] mb-8 md:mb-12 font-light text-sm italic text-center md:text-left",children:"We would be honored by your presence."}),u.jsxs("form",{onSubmit:h,className:"space-y-6 md:space-y-8",children:[u.jsxs("div",{className:"group relative",children:[u.jsx("input",{required:!0,type:"text",name:"name",className:"w-full border-b border-[#DBC1A7] py-3 text-base focus:outline-none focus:border-[#43342E] transition-colors bg-transparent text-[#43342E] placeholder-transparent peer rounded-none",placeholder:"Enter Your Name",value:e.name,onChange:g=>n({...e,name:g.target.value})}),u.jsx("label",{className:"absolute left-0 -top-3 text-[10px] text-[#B08D55] uppercase tracking-widest transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-3 peer-focus:-top-3 peer-focus:text-[10px] peer-focus:text-[#B08D55]",children:"Enter Your Name"})]}),u.jsxs("div",{className:`transition-all duration-500 overflow-hidden ${e.attending==="undecided"?"max-h-56 opacity-100":"max-h-0 opacity-0"}`,children:[u.jsxs("div",{className:"group relative mb-8",children:[u.jsx("input",{type:"email",name:"email",className:"w-full border-b border-[#DBC1A7] py-3 text-base focus:outline-none focus:border-[#43342E] transition-colors bg-transparent text-[#43342E] placeholder-transparent peer rounded-none",placeholder:"Email Address",value:e.email,required:e.attending==="undecided",onChange:g=>n({...e,email:g.target.value})}),u.jsx("label",{className:"absolute left-0 -top-3 text-[10px] text-[#B08D55] uppercase tracking-widest transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-3 peer-focus:-top-3 peer-focus:text-[10px] peer-focus:text-[#B08D55]",children:"Email Address"})]}),u.jsxs("div",{className:"group relative",children:[u.jsx("input",{type:"date",name:"followUpDate",className:"w-full border-b border-[#DBC1A7] py-3 text-base focus:outline-none focus:border-[#43342E] transition-colors bg-transparent text-[#43342E] placeholder-transparent peer rounded-none",placeholder:"Follow Up Date",value:e.followUpDate,required:e.attending==="undecided",onChange:g=>n({...e,followUpDate:g.target.value})}),u.jsx("label",{className:"absolute left-0 -top-3 text-[10px] text-[#B08D55] uppercase tracking-widest transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-3 peer-focus:-top-3 peer-focus:text-[10px] peer-focus:text-[#B08D55]",children:"Follow-up Date"})]})]}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-6 md:gap-8 pt-2",children:[u.jsxs("div",{className:"w-full md:w-1/2",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] mb-2 uppercase tracking-widest",children:"Guests"}),u.jsxs("select",{name:"guests",className:"w-full border-b border-[#DBC1A7] py-3 text-base focus:outline-none focus:border-[#43342E] bg-transparent text-[#43342E] rounded-none",value:e.guests,onChange:g=>{const y=parseInt(g.target.value),_=e.extraGuestNames||[],E=Array(Math.max(0,y-1)).fill("").map((A,j)=>_[j]||"");n({...e,guests:g.target.value,extraGuestNames:E})},children:[u.jsx("option",{value:"1",children:"1 Person"}),u.jsx("option",{value:"2",children:"2 People"}),u.jsx("option",{value:"3",children:"3 People"}),u.jsx("option",{value:"4",children:"4 People"}),u.jsx("option",{value:"5",children:"5 People"})]})]}),u.jsxs("div",{className:"w-full md:w-1/2",children:[u.jsx("label",{className:"block text-[10px] font-bold text-[#B08D55] mb-2 uppercase tracking-widest",children:"Attending"}),u.jsxs("select",{name:"attending",className:"w-full border-b border-[#DBC1A7] py-3 text-base focus:outline-none focus:border-[#43342E] bg-transparent text-[#43342E] rounded-none",value:e.attending,onChange:g=>n({...e,attending:g.target.value}),children:[u.jsx("option",{value:"yes",children:"Joyfully Accept"}),u.jsx("option",{value:"undecided",children:"Still Deciding"}),u.jsx("option",{value:"no",children:"Regretfully Decline"})]})]})]}),parseInt(e.guests)>1&&u.jsxs("div",{className:"space-y-4 animate-fade-in",children:[u.jsx("p",{className:"text-[10px] text-[#B08D55] uppercase tracking-widest font-bold",children:"Additional Guests"}),e.extraGuestNames.map((g,y)=>u.jsxs("div",{className:"group relative",children:[u.jsx("input",{required:!0,type:"text",name:`guest_${y}`,className:"w-full border-b border-[#DBC1A7] py-3 text-sm focus:outline-none focus:border-[#43342E] transition-colors bg-transparent text-[#43342E] placeholder-transparent peer rounded-none",placeholder:`Guest ${y+2} Name`,value:g,onChange:_=>{const E=[...e.extraGuestNames];E[y]=_.target.value,n({...e,extraGuestNames:E})}}),u.jsxs("label",{className:"absolute left-0 -top-3 text-[9px] text-[#8C7C72] uppercase tracking-widest transition-all peer-placeholder-shown:text-xs peer-placeholder-shown:text-gray-300 peer-placeholder-shown:top-3 peer-focus:-top-3 peer-focus:text-[9px] peer-focus:text-[#B08D55]",children:["Guest ",y+2," Name"]})]},y))]}),u.jsxs("div",{className:"group relative mt-6",children:[u.jsx("textarea",{name:"message",className:"w-full border-b border-[#DBC1A7] py-3 text-base focus:outline-none focus:border-[#43342E] transition-colors bg-transparent text-[#43342E] placeholder-transparent peer resize-none rounded-none",placeholder:"Message to the Couple",rows:"2",value:e.message,onChange:g=>n({...e,message:g.target.value})}),u.jsx("label",{className:"absolute left-0 -top-3 text-[10px] text-[#B08D55] uppercase tracking-widest transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-3 peer-focus:-top-3 peer-focus:text-[10px] peer-focus:text-[#B08D55]",children:"Message to the Couple"})]}),u.jsx("button",{type:"submit",disabled:i,className:"w-full bg-[#43342E] text-[#F9F4EF] py-4 mt-8 text-xs font-bold tracking-[0.25em] hover:bg-[#5D4B42] active:scale-95 touch-manipulation transition-all duration-300 shadow-md hover:shadow-lg uppercase disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center group",children:i?u.jsxs(u.Fragment,{children:[u.jsx(GE,{size:16,className:"animate-spin mr-3"}),"Processing"]}):u.jsxs("span",{className:"flex items-center gap-2",children:["Confirm Attendance ",u.jsx(Qx,{size:14,className:"group-hover:translate-x-1 transition-transform"})]})})]})]})]})]})})};function d6(){const[s,e]=O.useState(null),[n,i]=O.useState(wa),[o,c]=O.useState(!0),[h,p]=O.useState(!1),[g,y]=O.useState(!1),[_,E]=O.useState(!1),[A,j]=O.useState({name:"",email:"",guests:"1",attending:"yes",followUpDate:"",message:"",extraGuestNames:[]}),[z,G]=O.useState(!1),[q,re]=O.useState(!1),[oe,ee]=O.useState(null),[se,ie]=O.useState(!1),[le,N]=O.useState(!1),[S,C]=O.useState(!1);O.useEffect(()=>{const he=RN(tp,e);return()=>he()},[]);const[M,R]=O.useState(!1),L=O.useRef(S);O.useEffect(()=>{L.current=S},[S]),O.useEffect(()=>{console.log("[Sync] Initializing Firestore Listener...");const he=oR(ep(np,"wedding","config"),Ee=>{if(Ee.exists()){const k=Ee.data();i(K=>!M||!L.current?(console.log("[Sync] Performing FULL merge from Firestore."),{...wa,...k}):(console.log("[Sync] Admin Panel Open: Merging Guest List only."),{...K,guestList:k.guestList||K.guestList})),R(!0)}else console.warn("[Sync] Document not found. Using defaults."),M||i(wa);c(!1)},Ee=>{console.error("[Sync] Error:",Ee),Ee.code==="permission-denied"&&bt.error("Database access denied for guests."),c(!1)});return()=>he()},[M]),O.useEffect(()=>{if(n.syncId){const he=localStorage.getItem("wedding_sync_id");he!==n.syncId&&!S?(console.log("[Sync] New Global Refresh Signal detected. Reloading..."),localStorage.setItem("wedding_sync_id",n.syncId),setTimeout(()=>{window.location.reload()},1e3)):he!==n.syncId&&S&&localStorage.setItem("wedding_sync_id",n.syncId)}},[n.syncId,S]),O.useEffect(()=>{const he=setTimeout(()=>{o&&c(!1),h||p(!0)},5e3);return()=>clearTimeout(he)},[o,h]),O.useEffect(()=>{if(!n.heroImage)return;const he=new Image;he.src=n.heroImage,he.onload=()=>p(!0),he.onerror=()=>p(!0)},[n.heroImage]),O.useEffect(()=>{if(document.title=n.websiteTitle||`${n.names} - Wedding`,n.faviconUrl){let he=document.querySelector("link[rel~='icon']");he||(he=document.createElement("link"),he.rel="icon",document.getElementsByTagName("head")[0].appendChild(he)),he.href=n.faviconUrl}if(n.themeColor){let he=document.querySelector("meta[name='theme-color']");he||(he=document.createElement("meta"),he.name="theme-color",document.getElementsByTagName("head")[0].appendChild(he)),he.content=n.themeColor}},[n.websiteTitle,n.names,n.faviconUrl,n.themeColor]);const D=(he,Ee)=>{i(k=>({...k,[he]:Ee}))},Pe=async he=>{if(!tp.currentUser){bt.error("Auth session expired. Please log in again.");return}const Ee=new Date().toISOString(),K={...he||n,lastSaved:Ee};y(!0),console.log(`[Firestore Write] Initiating save at ${Ee}`,K);try{return await iR(ep(np,"wedding","config"),K),console.log(`[Firestore Write] SUCCESS: Data persisted to 'wedding/config' at ${Ee}`),bt.success(`Changes saved successfully at ${new Date().toLocaleTimeString()}`),y(!1),!0}catch(ue){throw console.error("[Firestore Write] ERROR:",ue),bt.error(`Save failed: ${ue.message}`),y(!1),ue}},ct=()=>{confirm("This will overwrite the LIVE database with the local defaultConfig.js settings. Continue?")&&(i(wa),Pe(wa))},X=he=>{NN(tp,"admin@louie.com",he).then(()=>{N(!1),C(!0),ie(!1),bt.success("Welcome back!")}).catch(k=>{console.error("Login Failed",k),ie(!0),bt.error("Invalid credentials"),setTimeout(()=>ie(!1),500)})},ce=async he=>{he.preventDefault(),re(!0);try{const Ee={...A,timestamp:new Date().toISOString()},k=[...n.guestList||[],Ee],K={...n,guestList:k};i(K),await aR(ep(np,"wedding","config"),{guestList:cR(Ee)}),re(!1),G(!0),bt.success("RSVP Sent Successfully!"),j(ue=>({...ue,message:""}))}catch(Ee){console.error("RSVP Submission Error:",Ee),bt.error(`Error: ${Ee.code==="permission-denied"?"Submission restricted":"Connection failed"}`),re(!1)}},be=he=>{he.preventDefault(),document.querySelector("#story")?.scrollIntoView({behavior:"smooth"})};return u.jsxs("div",{className:"bg-[#FAF9F6] min-h-screen text-[#43342E] font-sans selection:bg-[#C5A059] selection:text-white relative",children:[u.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;1,400&family=Montserrat:wght@200;300;400;500&family=Great+Vibes&display=swap');
        html { scroll-behavior: smooth; }
        body { font-family: 'Montserrat', sans-serif; -webkit-font-smoothing: antialiased; }
        h1, h2, h3, h4, .font-serif { font-family: 'Playfair Display', serif; }
        .font-script { font-family: 'Great Vibes', cursive; }
        
        /* Mobile Input Fix: Prevent iOS Zoom */
        @media screen and (max-width: 768px) {
          input, select, textarea { font-size: 16px !important; }
        }
        
        input[type="date"] {
            -webkit-appearance: none;
            min-height: 52px; /* Large touch target */
            background-color: transparent;
        }

        .admin-input { width: 100%; padding: 0.75rem; background: white; border: 1px solid #E6D2B5; color: #43342E; outline: none; transition: all 0.2s; }
        .admin-input:focus { border-color: #B08D55; ring: 2px solid #B08D55; }
        
        @keyframes slow-zoom { 0% { transform: scale(1); } 100% { transform: scale(1.1); } }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        .animate-slow-zoom { animation: slow-zoom 20s infinite alternate ease-in-out; }
        .animate-float { animation: float 3s infinite ease-in-out; }
        
        .confetti-piece { position: absolute; width: 8px; height: 16px; background: #ffd300; top: 0; opacity: 0; animation: confetti-fall 3s linear infinite; }
        @keyframes confetti-fall { 0% { top: -10%; transform: rotate(0deg) translateX(0); opacity: 1; } 100% { top: 100%; transform: rotate(360deg) translateX(50px); opacity: 0; } }
        
        @keyframes shake { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); } 20%, 40%, 60%, 80% { transform: translateX(5px); } }
        .animate-shake { animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both; }
        
        .no-scrollbar::-webkit-scrollbar { display: none; } .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
      `}),u.jsx(QT,{position:"top-right",toastOptions:{style:{background:"#43342E",color:"#F9F4EF"}}}),u.jsx(Hj,{config:n,loading:o||!h,show:n.showOpeningScreen,onEnter:()=>E(!0)}),u.jsx(Gj,{}),u.jsx(Qj,{}),u.jsx(Yj,{}),u.jsx($j,{src:oe,onClose:()=>ee(null)}),S&&u.jsx(Uj,{config:n,updateConfig:D,onSave:Pe,resetConfig:ct,closePanel:()=>C(!1),isSaving:g}),le&&u.jsx(Fj,{onClose:()=>N(!1),onLogin:X,error:se}),u.jsxs("div",{className:`transition-all duration-1000 ${_?"opacity-100":"opacity-0 scale-95 origin-center"}`,children:[u.jsx(Wj,{coupleName:n.names,logoText:n.logoText,logoImage:n.logoImage,sectionOrder:n.sectionOrder||wa.sectionOrder}),u.jsx(Zj,{config:n,onScrollClick:be}),(n.sectionOrder||wa.sectionOrder).map(he=>{if(he.visible===!1)return null;switch(he.id){case"story":return u.jsx(e6,{config:n},"story");case"timeline":return u.jsx(n6,{config:n},"timeline");case"palette":return u.jsx(l6,{config:n},"palette");case"entourage":return u.jsx(i6,{config:n},"entourage");case"gallery":return u.jsx(c6,{config:n,onImageClick:ee},"gallery");case"rsvp":return u.jsx(u6,{config:n,rsvpForm:A,setRsvpForm:j,isSubmitting:q,isSubmitted:z,setIsSubmitted:G,onSubmit:ce},"rsvp");case"events":return u.jsx(r6,{config:n},"events");default:return null}}),u.jsx(qj,{config:n,onAdminClick:()=>N(!0)})]})]})}rT.createRoot(document.getElementById("root")).render(u.jsx(O.StrictMode,{children:u.jsx(d6,{})}));
